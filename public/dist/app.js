//     Underscore.js 1.5.2
//     http://underscorejs.org
//     (c) 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.

/*!
 * jQuery JavaScript Library v2.1.0
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-01-23T21:10Z
 */

/*!
 * Sizzle CSS Selector Engine v1.10.16
 * http://sizzlejs.com/
 *
 * Copyright 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-01-13
 */

//     (c) 2010-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Backbone may be freely distributed under the MIT license.
//     For all details and documentation:
//     http://backbonejs.org

/*!
 * jQuery.ScrollTo
 * Copyright (c) 2007-2014 Ariel Flesler - aflesler<a>gmail<d>com | http://flesler.blogspot.com
 * Licensed under MIT
 * http://flesler.blogspot.com/2007/10/jqueryscrollto.html
 * @projectDescription Easy element scrolling using jQuery.
 * @author Ariel Flesler
 * @version 1.4.11
 */

/**
 * @license RequireJS text 2.0.10 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/text for details
 */

/* svg.js 1.0.0-rc.5-6-g2a986d0 - svg inventor regex default color array pointarray patharray number viewbox bbox rbox element parent container fx relative event defs group arrange mask clip gradient pattern doc shape use rect ellipse line poly path image text textpath nested hyperlink sugar set data memory loader - svgjs.com/license */

/*! Hammer.JS - v1.0.10 - 2014-03-28
 * http://eightmedia.github.io/hammer.js
 *
 * Copyright (c) 2014 Jorik Tangelder <j.tangelder@gmail.com>;
 * Licensed under the MIT license */

(function(){var e=this,t=e._,n={},r=Array.prototype,i=Object.prototype,s=Function.prototype,o=r.push,u=r.slice,a=r.concat,f=i.toString,l=i.hasOwnProperty,c=r.forEach,h=r.map,p=r.reduce,d=r.reduceRight,v=r.filter,m=r.every,g=r.some,y=r.indexOf,b=r.lastIndexOf,w=Array.isArray,E=Object.keys,S=s.bind,x=function(e){return e instanceof x?e:this instanceof x?(this._wrapped=e,void 0):new x(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):e._=x,x.VERSION="1.5.2";var T=x.each=x.forEach=function(e,t,r){if(null!=e)if(c&&e.forEach===c)e.forEach(t,r);else if(e.length===+e.length){for(var i=0,s=e.length;s>i;i++)if(t.call(r,e[i],i,e)===n)return}else for(var o=x.keys(e),i=0,s=o.length;s>i;i++)if(t.call(r,e[o[i]],o[i],e)===n)return};x.map=x.collect=function(e,t,n){var r=[];return null==e?r:h&&e.map===h?e.map(t,n):(T(e,function(e,i,s){r.push(t.call(n,e,i,s))}),r)};var N="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),p&&e.reduce===p)return r&&(t=x.bind(t,r)),i?e.reduce(t,n):e.reduce(t);if(T(e,function(e,s,o){i?n=t.call(r,n,e,s,o):(n=e,i=!0)}),!i)throw new TypeError(N);return n},x.reduceRight=x.foldr=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),d&&e.reduceRight===d)return r&&(t=x.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var s=e.length;if(s!==+s){var o=x.keys(e);s=o.length}if(T(e,function(u,a,f){a=o?o[--s]:--s,i?n=t.call(r,n,e[a],a,f):(n=e[a],i=!0)}),!i)throw new TypeError(N);return n},x.find=x.detect=function(e,t,n){var r;return C(e,function(e,i,s){return t.call(n,e,i,s)?(r=e,!0):void 0}),r},x.filter=x.select=function(e,t,n){var r=[];return null==e?r:v&&e.filter===v?e.filter(t,n):(T(e,function(e,i,s){t.call(n,e,i,s)&&r.push(e)}),r)},x.reject=function(e,t,n){return x.filter(e,function(e,r,i){return!t.call(n,e,r,i)},n)},x.every=x.all=function(e,t,r){t||(t=x.identity);var i=!0;return null==e?i:m&&e.every===m?e.every(t,r):(T(e,function(e,s,o){return(i=i&&t.call(r,e,s,o))?void 0:n}),!!i)};var C=x.some=x.any=function(e,t,r){t||(t=x.identity);var i=!1;return null==e?i:g&&e.some===g?e.some(t,r):(T(e,function(e,s,o){return i||(i=t.call(r,e,s,o))?n:void 0}),!!i)};x.contains=x.include=function(e,t){return null==e?!1:y&&e.indexOf===y?e.indexOf(t)!=-1:C(e,function(e){return e===t})},x.invoke=function(e,t){var n=u.call(arguments,2),r=x.isFunction(t);return x.map(e,function(e){return(r?t:e[t]).apply(e,n)})},x.pluck=function(e,t){return x.map(e,function(e){return e[t]})},x.where=function(e,t,n){return x.isEmpty(t)?n?void 0:[]:x[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},x.findWhere=function(e,t){return x.where(e,t,!0)},x.max=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&x.isEmpty(e))return-1/0;var r={computed:-1/0,value:-1/0};return T(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o>r.computed&&(r={value:e,computed:o})}),r.value},x.min=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&x.isEmpty(e))return 1/0;var r={computed:1/0,value:1/0};return T(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o<r.computed&&(r={value:e,computed:o})}),r.value},x.shuffle=function(e){var t,n=0,r=[];return T(e,function(e){t=x.random(n++),r[n-1]=r[t],r[t]=e}),r},x.sample=function(e,t,n){return arguments.length<2||n?e[x.random(e.length-1)]:x.shuffle(e).slice(0,Math.max(0,t))};var k=function(e){return x.isFunction(e)?e:function(t){return t[e]}};x.sortBy=function(e,t,n){var r=k(t);return x.pluck(x.map(e,function(e,t,i){return{value:e,index:t,criteria:r.call(n,e,t,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(r>n||r===void 0)return-1}return e.index-t.index}),"value")};var L=function(e){return function(t,n,r){var i={},s=null==n?x.identity:k(n);return T(t,function(n,o){var u=s.call(r,n,o,t);e(i,u,n)}),i}};x.groupBy=L(function(e,t,n){(x.has(e,t)?e[t]:e[t]=[]).push(n)}),x.indexBy=L(function(e,t,n){e[t]=n}),x.countBy=L(function(e,t){x.has(e,t)?e[t]++:e[t]=1}),x.sortedIndex=function(e,t,n,r){n=null==n?x.identity:k(n);for(var i=n.call(r,t),s=0,o=e.length;o>s;){var u=s+o>>>1;n.call(r,e[u])<i?s=u+1:o=u}return s},x.toArray=function(e){return e?x.isArray(e)?u.call(e):e.length===+e.length?x.map(e,x.identity):x.values(e):[]},x.size=function(e){return null==e?0:e.length===+e.length?e.length:x.keys(e).length},x.first=x.head=x.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:u.call(e,0,t)},x.initial=function(e,t,n){return u.call(e,0,e.length-(null==t||n?1:t))},x.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:u.call(e,Math.max(e.length-t,0))},x.rest=x.tail=x.drop=function(e,t,n){return u.call(e,null==t||n?1:t)},x.compact=function(e){return x.filter(e,x.identity)};var A=function(e,t,n){return t&&x.every(e,x.isArray)?a.apply(n,e):(T(e,function(e){x.isArray(e)||x.isArguments(e)?t?o.apply(n,e):A(e,t,n):n.push(e)}),n)};x.flatten=function(e,t){return A(e,t,[])},x.without=function(e){return x.difference(e,u.call(arguments,1))},x.uniq=x.unique=function(e,t,n,r){x.isFunction(t)&&(r=n,n=t,t=!1);var i=n?x.map(e,n,r):e,s=[],o=[];return T(i,function(n,r){(t?r&&o[o.length-1]===n:x.contains(o,n))||(o.push(n),s.push(e[r]))}),s},x.union=function(){return x.uniq(x.flatten(arguments,!0))},x.intersection=function(e){var t=u.call(arguments,1);return x.filter(x.uniq(e),function(e){return x.every(t,function(t){return x.indexOf(t,e)>=0})})},x.difference=function(e){var t=a.apply(r,u.call(arguments,1));return x.filter(e,function(e){return!x.contains(t,e)})},x.zip=function(){for(var e=x.max(x.pluck(arguments,"length").concat(0)),t=new Array(e),n=0;e>n;n++)t[n]=x.pluck(arguments,""+n);return t},x.object=function(e,t){if(null==e)return{};for(var n={},r=0,i=e.length;i>r;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},x.indexOf=function(e,t,n){if(null==e)return-1;var r=0,i=e.length;if(n){if("number"!=typeof n)return r=x.sortedIndex(e,t),e[r]===t?r:-1;r=0>n?Math.max(0,i+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;i>r;r++)if(e[r]===t)return r;return-1},x.lastIndexOf=function(e,t,n){if(null==e)return-1;var r=null!=n;if(b&&e.lastIndexOf===b)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var i=r?n:e.length;i--;)if(e[i]===t)return i;return-1},x.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=0,s=new Array(r);r>i;)s[i++]=e,e+=n;return s};var O=function(){};x.bind=function(e,t){var n,r;if(S&&e.bind===S)return S.apply(e,u.call(arguments,1));if(!x.isFunction(e))throw new TypeError;return n=u.call(arguments,2),r=function(){if(this instanceof r){O.prototype=e.prototype;var i=new O;O.prototype=null;var s=e.apply(i,n.concat(u.call(arguments)));return Object(s)===s?s:i}return e.apply(t,n.concat(u.call(arguments)))}},x.partial=function(e){var t=u.call(arguments,1);return function(){return e.apply(this,t.concat(u.call(arguments)))}},x.bindAll=function(e){var t=u.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return T(t,function(t){e[t]=x.bind(e[t],e)}),e},x.memoize=function(e,t){var n={};return t||(t=x.identity),function(){var r=t.apply(this,arguments);return x.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},x.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},x.defer=function(e){return x.delay.apply(x,[e,1].concat(u.call(arguments,1)))},x.throttle=function(e,t,n){var r,i,s,o=null,u=0;n||(n={});var a=function(){u=n.leading===!1?0:new Date,o=null,s=e.apply(r,i)};return function(){var f=new Date;u||n.leading!==!1||(u=f);var l=t-(f-u);return r=this,i=arguments,0>=l?(clearTimeout(o),o=null,u=f,s=e.apply(r,i)):o||n.trailing===!1||(o=setTimeout(a,l)),s}},x.debounce=function(e,t,n){var r,i,s,o,u;return function(){s=this,i=arguments,o=new Date;var a=function(){var f=new Date-o;t>f?r=setTimeout(a,t-f):(r=null,n||(u=e.apply(s,i)))},f=n&&!r;return r||(r=setTimeout(a,t)),f&&(u=e.apply(s,i)),u}},x.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},x.wrap=function(e,t){return function(){var n=[e];return o.apply(n,arguments),t.apply(this,n)}},x.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},x.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},x.keys=E||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)x.has(e,n)&&t.push(n);return t},x.values=function(e){for(var t=x.keys(e),n=t.length,r=new Array(n),i=0;n>i;i++)r[i]=e[t[i]];return r},x.pairs=function(e){for(var t=x.keys(e),n=t.length,r=new Array(n),i=0;n>i;i++)r[i]=[t[i],e[t[i]]];return r},x.invert=function(e){for(var t={},n=x.keys(e),r=0,i=n.length;i>r;r++)t[e[n[r]]]=n[r];return t},x.functions=x.methods=function(e){var t=[];for(var n in e)x.isFunction(e[n])&&t.push(n);return t.sort()},x.extend=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},x.pick=function(e){var t={},n=a.apply(r,u.call(arguments,1));return T(n,function(n){n in e&&(t[n]=e[n])}),t},x.omit=function(e){var t={},n=a.apply(r,u.call(arguments,1));for(var i in e)x.contains(n,i)||(t[i]=e[i]);return t},x.defaults=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]===void 0&&(e[n]=t[n])}),e},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.tap=function(e,t){return t(e),e};var M=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof x&&(e=e._wrapped),t instanceof x&&(t=t._wrapped);var i=f.call(e);if(i!=f.call(t))return!1;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var s=n.length;s--;)if(n[s]==e)return r[s]==t;var o=e.constructor,u=t.constructor;if(o!==u&&!(x.isFunction(o)&&o instanceof o&&x.isFunction(u)&&u instanceof u))return!1;n.push(e),r.push(t);var a=0,l=!0;if("[object Array]"==i){if(a=e.length,l=a==t.length)for(;a--&&(l=M(e[a],t[a],n,r)););}else{for(var c in e)if(x.has(e,c)&&(a++,!(l=x.has(t,c)&&M(e[c],t[c],n,r))))break;if(l){for(c in t)if(x.has(t,c)&&!(a--))break;l=!a}}return n.pop(),r.pop(),l};x.isEqual=function(e,t){return M(e,t,[],[])},x.isEmpty=function(e){if(null==e)return!0;if(x.isArray(e)||x.isString(e))return 0===e.length;for(var t in e)if(x.has(e,t))return!1;return!0},x.isElement=function(e){return!!e&&1===e.nodeType},x.isArray=w||function(e){return"[object Array]"==f.call(e)},x.isObject=function(e){return e===Object(e)},T(["Arguments","Function","String","Number","Date","RegExp"],function(e){x["is"+e]=function(t){return f.call(t)=="[object "+e+"]"}}),x.isArguments(arguments)||(x.isArguments=function(e){return!!e&&!!x.has(e,"callee")}),"function"!=typeof /./&&(x.isFunction=function(e){return"function"==typeof e}),x.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},x.isNaN=function(e){return x.isNumber(e)&&e!=+e},x.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==f.call(e)},x.isNull=function(e){return null===e},x.isUndefined=function(e){return e===void 0},x.has=function(e,t){return l.call(e,t)},x.noConflict=function(){return e._=t,this},x.identity=function(e){return e},x.times=function(e,t,n){for(var r=Array(Math.max(0,e)),i=0;e>i;i++)r[i]=t.call(n,i);return r},x.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var _={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};_.unescape=x.invert(_.escape);var D={escape:new RegExp("["+x.keys(_.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(_.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(e){x[e]=function(t){return null==t?"":(""+t).replace(D[e],function(t){return _[e][t]})}}),x.result=function(e,t){if(null==e)return void 0;var n=e[t];return x.isFunction(n)?n.call(e):n},x.mixin=function(e){T(x.functions(e),function(t){var n=x[t]=e[t];x.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),F.call(this,n.apply(x,e))}})};var P=0;x.uniqueId=function(e){var t=++P+"";return e?e+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},j=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(e,t,n){var r;n=x.defaults({},n,x.templateSettings);var i=new RegExp([(n.escape||H).source,(n.interpolate||H).source,(n.evaluate||H).source].join("|")+"|$","g"),s=0,o="__p+='";e.replace(i,function(t,n,r,i,u){return o+=e.slice(s,u).replace(j,function(e){return"\\"+B[e]}),n&&(o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(o+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(o+="';\n"+i+"\n__p+='"),s=u+t.length,t}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{r=new Function(n.variable||"obj","_",o)}catch(u){throw u.source=o,u}if(t)return r(t,x);var a=function(e){return r.call(this,e,x)};return a.source="function("+(n.variable||"obj")+"){\n"+o+"}",a},x.chain=function(e){return x(e).chain()};var F=function(e){return this._chain?x(e).chain():e};x.mixin(x),T(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];x.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],F.call(this,n)}}),T(["concat","join","slice"],function(e){var t=r[e];x.prototype[e]=function(){return F.call(this,t.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this),define("underscore",function(e){return function(){var t,n;return t||e._}}(this)),function(e,t){typeof module=="object"&&typeof module.exports=="object"?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}(typeof window!="undefined"?window:this,function(window,noGlobal){function isArraylike(e){var t=e.length,n=jQuery.type(e);return n==="function"||jQuery.isWindow(e)?!1:e.nodeType===1&&t?!0:n==="array"||t===0||typeof t=="number"&&t>0&&t-1 in e}function winnow(e,t,n){if(jQuery.isFunction(t))return jQuery.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return jQuery.grep(e,function(e){return e===t!==n});if(typeof t=="string"){if(risSimple.test(t))return jQuery.filter(t,e,n);t=jQuery.filter(t,e)}return jQuery.grep(e,function(e){return indexOf.call(t,e)>=0!==n})}function sibling(e,t){while((e=e[t])&&e.nodeType!==1);return e}function createOptions(e){var t=optionsCache[e]={};return jQuery.each(e.match(rnotwhite)||[],function(e,n){t[n]=!0}),t}function completed(){document.removeEventListener("DOMContentLoaded",completed,!1),window.removeEventListener("load",completed,!1),jQuery.ready()}function Data(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=jQuery.expando+Math.random()}function dataAttr(e,t,n){var r;if(n===undefined&&e.nodeType===1){r="data-"+t.replace(rmultiDash,"-$1").toLowerCase(),n=e.getAttribute(r);if(typeof n=="string"){try{n=n==="true"?!0:n==="false"?!1:n==="null"?null:+n+""===n?+n:rbrace.test(n)?jQuery.parseJSON(n):n}catch(i){}data_user.set(e,t,n)}else n=undefined}return n}function returnTrue(){return!0}function returnFalse(){return!1}function safeActiveElement(){try{return document.activeElement}catch(e){}}function manipulationTarget(e,t){return jQuery.nodeName(e,"table")&&jQuery.nodeName(t.nodeType!==11?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function disableScript(e){return e.type=(e.getAttribute("type")!==null)+"/"+e.type,e}function restoreScript(e){var t=rscriptTypeMasked.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function setGlobalEval(e,t){var n=0,r=e.length;for(;n<r;n++)data_priv.set(e[n],"globalEval",!t||data_priv.get(t[n],"globalEval"))}function cloneCopyEvent(e,t){var n,r,i,s,o,u,a,f;if(t.nodeType!==1)return;if(data_priv.hasData(e)){s=data_priv.access(e),o=data_priv.set(t,s),f=s.events;if(f){delete o.handle,o.events={};for(i in f)for(n=0,r=f[i].length;n<r;n++)jQuery.event.add(t,i,f[i][n])}}data_user.hasData(e)&&(u=data_user.access(e),a=jQuery.extend({},u),data_user.set(t,a))}function getAll(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return t===undefined||t&&jQuery.nodeName(e,t)?jQuery.merge([e],n):n}function fixInput(e,t){var n=t.nodeName.toLowerCase();if(n==="input"&&rcheckableType.test(e.type))t.checked=e.checked;else if(n==="input"||n==="textarea")t.defaultValue=e.defaultValue}function actualDisplay(e,t){var n=jQuery(t.createElement(e)).appendTo(t.body),r=window.getDefaultComputedStyle?window.getDefaultComputedStyle(n[0]).display:jQuery.css(n[0],"display");return n.detach(),r}function defaultDisplay(e){var t=document,n=elemdisplay[e];if(!n){n=actualDisplay(e,t);if(n==="none"||!n)iframe=(iframe||jQuery("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=iframe[0].contentDocument,t.write(),t.close(),n=actualDisplay(e,t),iframe.detach();elemdisplay[e]=n}return n}function curCSS(e,t,n){var r,i,s,o,u=e.style;return n=n||getStyles(e),n&&(o=n.getPropertyValue(t)||n[t]),n&&(o===""&&!jQuery.contains(e.ownerDocument,e)&&(o=jQuery.style(e,t)),rnumnonpx.test(o)&&rmargin.test(t)&&(r=u.width,i=u.minWidth,s=u.maxWidth,u.minWidth=u.maxWidth=u.width=o,o=n.width,u.width=r,u.minWidth=i,u.maxWidth=s)),o!==undefined?o+"":o}function addGetHookIf(e,t){return{get:function(){if(e()){delete this.get;return}return(this.get=t).apply(this,arguments)}}}function vendorPropName(e,t){if(t in e)return t;var n=t[0].toUpperCase()+t.slice(1),r=t,i=cssPrefixes.length;while(i--){t=cssPrefixes[i]+n;if(t in e)return t}return r}function setPositiveNumber(e,t,n){var r=rnumsplit.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function augmentWidthOrHeight(e,t,n,r,i){var s=n===(r?"border":"content")?4:t==="width"?1:0,o=0;for(;s<4;s+=2)n==="margin"&&(o+=jQuery.css(e,n+cssExpand[s],!0,i)),r?(n==="content"&&(o-=jQuery.css(e,"padding"+cssExpand[s],!0,i)),n!=="margin"&&(o-=jQuery.css(e,"border"+cssExpand[s]+"Width",!0,i))):(o+=jQuery.css(e,"padding"+cssExpand[s],!0,i),n!=="padding"&&(o+=jQuery.css(e,"border"+cssExpand[s]+"Width",!0,i)));return o}function getWidthOrHeight(e,t,n){var r=!0,i=t==="width"?e.offsetWidth:e.offsetHeight,s=getStyles(e),o=jQuery.css(e,"boxSizing",!1,s)==="border-box";if(i<=0||i==null){i=curCSS(e,t,s);if(i<0||i==null)i=e.style[t];if(rnumnonpx.test(i))return i;r=o&&(support.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+augmentWidthOrHeight(e,t,n||(o?"border":"content"),r,s)+"px"}function showHide(e,t){var n,r,i,s=[],o=0,u=e.length;for(;o<u;o++){r=e[o];if(!r.style)continue;s[o]=data_priv.get(r,"olddisplay"),n=r.style.display,t?(!s[o]&&n==="none"&&(r.style.display=""),r.style.display===""&&isHidden(r)&&(s[o]=data_priv.access(r,"olddisplay",defaultDisplay(r.nodeName)))):s[o]||(i=isHidden(r),(n&&n!=="none"||!i)&&data_priv.set(r,"olddisplay",i?n:jQuery.css(r,"display")))}for(o=0;o<u;o++){r=e[o];if(!r.style)continue;if(!t||r.style.display==="none"||r.style.display==="")r.style.display=t?s[o]||"":"none"}return e}function Tween(e,t,n,r,i){return new Tween.prototype.init(e,t,n,r,i)}function createFxNow(){return setTimeout(function(){fxNow=undefined}),fxNow=jQuery.now()}function genFx(e,t){var n,r=0,i={height:e};t=t?1:0;for(;r<4;r+=2-t)n=cssExpand[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function createTween(e,t,n){var r,i=(tweeners[t]||[]).concat(tweeners["*"]),s=0,o=i.length;for(;s<o;s++)if(r=i[s].call(n,t,e))return r}function defaultPrefilter(e,t,n){var r,i,s,o,u,a,f,l=this,c={},h=e.style,p=e.nodeType&&isHidden(e),d=data_priv.get(e,"fxshow");n.queue||(u=jQuery._queueHooks(e,"fx"),u.unqueued==null&&(u.unqueued=0,a=u.empty.fire,u.empty.fire=function(){u.unqueued||a()}),u.unqueued++,l.always(function(){l.always(function(){u.unqueued--,jQuery.queue(e,"fx").length||u.empty.fire()})})),e.nodeType===1&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],f=jQuery.css(e,"display"),f==="none"&&(f=defaultDisplay(e.nodeName)),f==="inline"&&jQuery.css(e,"float")==="none"&&(h.display="inline-block")),n.overflow&&(h.overflow="hidden",l.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(r in t){i=t[r];if(rfxtypes.exec(i)){delete t[r],s=s||i==="toggle";if(i===(p?"hide":"show")){if(i!=="show"||!d||d[r]===undefined)continue;p=!0}c[r]=d&&d[r]||jQuery.style(e,r)}}if(!jQuery.isEmptyObject(c)){d?"hidden"in d&&(p=d.hidden):d=data_priv.access(e,"fxshow",{}),s&&(d.hidden=!p),p?jQuery(e).show():l.done(function(){jQuery(e).hide()}),l.done(function(){var t;data_priv.remove(e,"fxshow");for(t in c)jQuery.style(e,t,c[t])});for(r in c)o=createTween(p?d[r]:0,r,l),r in d||(d[r]=o.start,p&&(o.end=o.start,o.start=r==="width"||r==="height"?1:0))}}function propFilter(e,t){var n,r,i,s,o;for(n in e){r=jQuery.camelCase(n),i=t[r],s=e[n],jQuery.isArray(s)&&(i=s[1],s=e[n]=s[0]),n!==r&&(e[r]=s,delete e[n]),o=jQuery.cssHooks[r];if(o&&"expand"in o){s=o.expand(s),delete e[r];for(n in s)n in e||(e[n]=s[n],t[n]=i)}else t[r]=i}}function Animation(e,t,n){var r,i,s=0,o=animationPrefilters.length,u=jQuery.Deferred().always(function(){delete a.elem}),a=function(){if(i)return!1;var t=fxNow||createFxNow(),n=Math.max(0,f.startTime+f.duration-t),r=n/f.duration||0,s=1-r,o=0,a=f.tweens.length;for(;o<a;o++)f.tweens[o].run(s);return u.notifyWith(e,[f,s,n]),s<1&&a?n:(u.resolveWith(e,[f]),!1)},f=u.promise({elem:e,props:jQuery.extend({},t),opts:jQuery.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:fxNow||createFxNow(),duration:n.duration,tweens:[],createTween:function(t,n){var r=jQuery.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(r),r},stop:function(t){var n=0,r=t?f.tweens.length:0;if(i)return this;i=!0;for(;n<r;n++)f.tweens[n].run(1);return t?u.resolveWith(e,[f,t]):u.rejectWith(e,[f,t]),this}}),l=f.props;propFilter(l,f.opts.specialEasing);for(;s<o;s++){r=animationPrefilters[s].call(f,e,l,f.opts);if(r)return r}return jQuery.map(l,createTween,f),jQuery.isFunction(f.opts.start)&&f.opts.start.call(e,f),jQuery.fx.timer(jQuery.extend(a,{elem:e,anim:f,queue:f.opts.queue})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function addToPrefiltersOrTransports(e){return function(t,n){typeof t!="string"&&(n=t,t="*");var r,i=0,s=t.toLowerCase().match(rnotwhite)||[];if(jQuery.isFunction(n))while(r=s[i++])r[0]==="+"?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function inspectPrefiltersOrTransports(e,t,n,r){function o(u){var a;return i[u]=!0,jQuery.each(e[u]||[],function(e,u){var f=u(t,n,r);if(typeof f=="string"&&!s&&!i[f])return t.dataTypes.unshift(f),o(f),!1;if(s)return!(a=f)}),a}var i={},s=e===transports;return o(t.dataTypes[0])||!i["*"]&&o("*")}function ajaxExtend(e,t){var n,r,i=jQuery.ajaxSettings.flatOptions||{};for(n in t)t[n]!==undefined&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&jQuery.extend(!0,e,r),e}function ajaxHandleResponses(e,t,n){var r,i,s,o,u=e.contents,a=e.dataTypes;while(a[0]==="*")a.shift(),r===undefined&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in u)if(u[i]&&u[i].test(r)){a.unshift(i);break}if(a[0]in n)s=a[0];else{for(i in n){if(!a[0]||e.converters[i+" "+a[0]]){s=i;break}o||(o=i)}s=s||o}if(s)return s!==a[0]&&a.unshift(s),n[s]}function ajaxConvert(e,t,n,r){var i,s,o,u,a,f={},l=e.dataTypes.slice();if(l[1])for(o in e.converters)f[o.toLowerCase()]=e.converters[o];s=l.shift();while(s){e.responseFields[s]&&(n[e.responseFields[s]]=t),!a&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),a=s,s=l.shift();if(s)if(s==="*")s=a;else if(a!=="*"&&a!==s){o=f[a+" "+s]||f["* "+s];if(!o)for(i in f){u=i.split(" ");if(u[1]===s){o=f[a+" "+u[0]]||f["* "+u[0]];if(o){o===!0?o=f[i]:f[i]!==!0&&(s=u[0],l.unshift(u[1]));break}}}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(c){return{state:"parsererror",error:o?c:"No conversion from "+a+" to "+s}}}}return{state:"success",data:t}}function buildParams(e,t,n,r){var i;if(jQuery.isArray(t))jQuery.each(t,function(t,i){n||rbracket.test(e)?r(e,i):buildParams(e+"["+(typeof i=="object"?t:"")+"]",i,n,r)});else if(!n&&jQuery.type(t)==="object")for(i in t)buildParams(e+"["+i+"]",t[i],n,r);else r(e,t)}function getWindow(e){return jQuery.isWindow(e)?e:e.nodeType===9&&e.defaultView}var arr=[],slice=arr.slice,concat=arr.concat,push=arr.push,indexOf=arr.indexOf,class2type={},toString=class2type.toString,hasOwn=class2type.hasOwnProperty,trim="".trim,support={},document=window.document,version="2.1.0",jQuery=function(e,t){return new jQuery.fn.init(e,t)},rmsPrefix=/^-ms-/,rdashAlpha=/-([\da-z])/gi,fcamelCase=function(e,t){return t.toUpperCase()};jQuery.fn=jQuery.prototype={jquery:version,constructor:jQuery,selector:"",length:0,toArray:function(){return slice.call(this)},get:function(e){return e!=null?e<0?this[e+this.length]:this[e]:slice.call(this)},pushStack:function(e){var t=jQuery.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return jQuery.each(this,e,t)},map:function(e){return this.pushStack(jQuery.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(slice.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:push,sort:arr.sort,splice:arr.splice},jQuery.extend=jQuery.fn.extend=function(){var e,t,n,r,i,s,o=arguments[0]||{},u=1,a=arguments.length,f=!1;typeof o=="boolean"&&(f=o,o=arguments[u]||{},u++),typeof o!="object"&&!jQuery.isFunction(o)&&(o={}),u===a&&(o=this,u--);for(;u<a;u++)if((e=arguments[u])!=null)for(t in e){n=o[t],r=e[t];if(o===r)continue;f&&r&&(jQuery.isPlainObject(r)||(i=jQuery.isArray(r)))?(i?(i=!1,s=n&&jQuery.isArray(n)?n:[]):s=n&&jQuery.isPlainObject(n)?n:{},o[t]=jQuery.extend(f,s,r)):r!==undefined&&(o[t]=r)}return o},jQuery.extend({expando:"jQuery"+(version+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return jQuery.type(e)==="function"},isArray:Array.isArray,isWindow:function(e){return e!=null&&e===e.window},isNumeric:function(e){return e-parseFloat(e)>=0},isPlainObject:function(e){if(jQuery.type(e)!=="object"||e.nodeType||jQuery.isWindow(e))return!1;try{if(e.constructor&&!hasOwn.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}return!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return e==null?e+"":typeof e=="object"||typeof e=="function"?class2type[toString.call(e)]||"object":typeof e},globalEval:function(code){var script,indirect=eval;code=jQuery.trim(code),code&&(code.indexOf("use strict")===1?(script=document.createElement("script"),script.text=code,document.head.appendChild(script).parentNode.removeChild(script)):indirect(code))},camelCase:function(e){return e.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,s=e.length,o=isArraylike(e);if(n)if(o)for(;i<s;i++){r=t.apply(e[i],n);if(r===!1)break}else for(i in e){r=t.apply(e[i],n);if(r===!1)break}else if(o)for(;i<s;i++){r=t.call(e[i],i,e[i]);if(r===!1)break}else for(i in e){r=t.call(e[i],i,e[i]);if(r===!1)break}return e},trim:function(e){return e==null?"":trim.call(e)},makeArray:function(e,t){var n=t||[];return e!=null&&(isArraylike(Object(e))?jQuery.merge(n,typeof e=="string"?[e]:e):push.call(n,e)),n},inArray:function(e,t,n){return t==null?-1:indexOf.call(t,e,n)},merge:function(e,t){var n=+t.length,r=0,i=e.length;for(;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){var r,i=[],s=0,o=e.length,u=!n;for(;s<o;s++)r=!t(e[s],s),r!==u&&i.push(e[s]);return i},map:function(e,t,n){var r,i=0,s=e.length,o=isArraylike(e),u=[];if(o)for(;i<s;i++)r=t(e[i],i,n),r!=null&&u.push(r);else for(i in e)r=t(e[i],i,n),r!=null&&u.push(r);return concat.apply([],u)},guid:1,proxy:function(e,t){var n,r,i;return typeof t=="string"&&(n=e[t],t=e,e=n),jQuery.isFunction(e)?(r=slice.call(arguments,2),i=function(){return e.apply(t||this,r.concat(slice.call(arguments)))},i.guid=e.guid=e.guid||jQuery.guid++,i):undefined},now:Date.now,support:support}),jQuery.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){class2type["[object "+t+"]"]=t.toLowerCase()});var Sizzle=function(e){function rt(e,t,r,i){var s,o,u,a,f,h,v,m,w,E;(t?t.ownerDocument||t:b)!==c&&l(t),t=t||c,r=r||[];if(!e||typeof e!="string")return r;if((a=t.nodeType)!==1&&a!==9)return[];if(p&&!i){if(s=G.exec(e))if(u=s[1]){if(a===9){o=t.getElementById(u);if(!o||!o.parentNode)return r;if(o.id===u)return r.push(o),r}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(u))&&g(t,o)&&o.id===u)return r.push(o),r}else{if(s[2])return _.apply(r,t.getElementsByTagName(e)),r;if((u=s[3])&&n.getElementsByClassName&&t.getElementsByClassName)return _.apply(r,t.getElementsByClassName(u)),r}if(n.qsa&&(!d||!d.test(e))){m=v=y,w=t,E=a===9&&e;if(a===1&&t.nodeName.toLowerCase()!=="object"){h=dt(e),(v=t.getAttribute("id"))?m=v.replace(Z,"\\$&"):t.setAttribute("id",m),m="[id='"+m+"'] ",f=h.length;while(f--)h[f]=m+vt(h[f]);w=Y.test(e)&&ht(t.parentNode)||t,E=h.join(",")}if(E)try{return _.apply(r,w.querySelectorAll(E)),r}catch(S){}finally{v||t.removeAttribute("id")}}}return xt(e.replace(R,"$1"),t,r,i)}function it(){function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function st(e){return e[y]=!0,e}function ot(e){var t=c.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ut(e,t){var n=e.split("|"),i=e.length;while(i--)r.attrHandle[n[i]]=t}function at(e,t){var n=t&&e,r=n&&e.nodeType===1&&t.nodeType===1&&(~t.sourceIndex||k)-(~e.sourceIndex||k);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function ft(e){return function(t){var n=t.nodeName.toLowerCase();return n==="input"&&t.type===e}}function lt(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}}function ct(e){return st(function(t){return t=+t,st(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function ht(e){return e&&typeof e.getElementsByTagName!==C&&e}function pt(){}function dt(e,t){var n,i,s,o,u,a,f,l=x[e+" "];if(l)return t?0:l.slice(0);u=e,a=[],f=r.preFilter;while(u){if(!n||(i=U.exec(u)))i&&(u=u.slice(i[0].length)||u),a.push(s=[]);n=!1;if(i=z.exec(u))n=i.shift(),s.push({value:n,type:i[0].replace(R," ")}),u=u.slice(n.length);for(o in r.filter)(i=$[o].exec(u))&&(!f[o]||(i=f[o](i)))&&(n=i.shift(),s.push({value:n,type:o,matches:i}),u=u.slice(n.length));if(!n)break}return t?u.length:u?rt.error(e):x(e,a).slice(0)}function vt(e){var t=0,n=e.length,r="";for(;t<n;t++)r+=e[t].value;return r}function mt(e,t,n){var r=t.dir,i=n&&r==="parentNode",s=E++;return t.first?function(t,n,s){while(t=t[r])if(t.nodeType===1||i)return e(t,n,s)}:function(t,n,o){var u,a,f=[w,s];if(o){while(t=t[r])if(t.nodeType===1||i)if(e(t,n,o))return!0}else while(t=t[r])if(t.nodeType===1||i){a=t[y]||(t[y]={});if((u=a[r])&&u[0]===w&&u[1]===s)return f[2]=u[2];a[r]=f;if(f[2]=e(t,n,o))return!0}}}function gt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function yt(e,t,n,r,i){var s,o=[],u=0,a=e.length,f=t!=null;for(;u<a;u++)if(s=e[u])if(!n||n(s,r,i))o.push(s),f&&t.push(u);return o}function bt(e,t,n,r,i,s){return r&&!r[y]&&(r=bt(r)),i&&!i[y]&&(i=bt(i,s)),st(function(s,o,u,a){var f,l,c,h=[],p=[],d=o.length,v=s||St(t||"*",u.nodeType?[u]:u,[]),m=e&&(s||!t)?yt(v,h,e,u,a):v,g=n?i||(s?e:d||r)?[]:o:m;n&&n(m,g,u,a);if(r){f=yt(g,p),r(f,[],u,a),l=f.length;while(l--)if(c=f[l])g[p[l]]=!(m[p[l]]=c)}if(s){if(i||e){if(i){f=[],l=g.length;while(l--)(c=g[l])&&f.push(m[l]=c);i(null,g=[],f,a)}l=g.length;while(l--)(c=g[l])&&(f=i?P.call(s,c):h[l])>-1&&(s[f]=!(o[f]=c))}}else g=yt(g===o?g.splice(d,g.length):g),i?i(null,o,g,a):_.apply(o,g)})}function wt(e){var t,n,i,s=e.length,o=r.relative[e[0].type],a=o||r.relative[" "],f=o?1:0,l=mt(function(e){return e===t},a,!0),c=mt(function(e){return P.call(t,e)>-1},a,!0),h=[function(e,n,r){return!o&&(r||n!==u)||((t=n).nodeType?l(e,n,r):c(e,n,r))}];for(;f<s;f++)if(n=r.relative[e[f].type])h=[mt(gt(h),n)];else{n=r.filter[e[f].type].apply(null,e[f].matches);if(n[y]){i=++f;for(;i<s;i++)if(r.relative[e[i].type])break;return bt(f>1&&gt(h),f>1&&vt(e.slice(0,f-1).concat({value:e[f-2].type===" "?"*":""})).replace(R,"$1"),n,f<i&&wt(e.slice(f,i)),i<s&&wt(e=e.slice(i)),i<s&&vt(e))}h.push(n)}return gt(h)}function Et(e,t){var n=t.length>0,i=e.length>0,s=function(s,o,a,f,l){var h,p,d,v=0,m="0",g=s&&[],y=[],b=u,E=s||i&&r.find.TAG("*",l),S=w+=b==null?1:Math.random()||.1,x=E.length;l&&(u=o!==c&&o);for(;m!==x&&(h=E[m])!=null;m++){if(i&&h){p=0;while(d=e[p++])if(d(h,o,a)){f.push(h);break}l&&(w=S)}n&&((h=!d&&h)&&v--,s&&g.push(h))}v+=m;if(n&&m!==v){p=0;while(d=t[p++])d(g,y,o,a);if(s){if(v>0)while(m--)!g[m]&&!y[m]&&(y[m]=O.call(f));y=yt(y)}_.apply(f,y),l&&!s&&y.length>0&&v+t.length>1&&rt.uniqueSort(f)}return l&&(w=S,u=b),g};return n?st(s):s}function St(e,t,n){var r=0,i=t.length;for(;r<i;r++)rt(e,t[r],n);return n}function xt(e,t,i,s){var u,a,f,l,c,h=dt(e);if(!s&&h.length===1){a=h[0]=h[0].slice(0);if(a.length>2&&(f=a[0]).type==="ID"&&n.getById&&t.nodeType===9&&p&&r.relative[a[1].type]){t=(r.find.ID(f.matches[0].replace(et,tt),t)||[])[0];if(!t)return i;e=e.slice(a.shift().value.length)}u=$.needsContext.test(e)?0:a.length;while(u--){f=a[u];if(r.relative[l=f.type])break;if(c=r.find[l])if(s=c(f.matches[0].replace(et,tt),Y.test(a[0].type)&&ht(t.parentNode)||t)){a.splice(u,1),e=s.length&&vt(a);if(!e)return _.apply(i,s),i;break}}}return o(e,h)(s,t,!p,i,Y.test(e)&&ht(t.parentNode)||t),i}var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y="sizzle"+ -(new Date),b=e.document,w=0,E=0,S=it(),x=it(),T=it(),N=function(e,t){return e===t&&(f=!0),0},C=typeof undefined,k=1<<31,L={}.hasOwnProperty,A=[],O=A.pop,M=A.push,_=A.push,D=A.slice,P=A.indexOf||function(e){var t=0,n=this.length;for(;t<n;t++)if(this[t]===e)return t;return-1},H="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",B="[\\x20\\t\\r\\n\\f]",j="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",F=j.replace("w","w#"),I="\\["+B+"*("+j+")"+B+"*(?:([*^$|!~]?=)"+B+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+F+")|)|)"+B+"*\\]",q=":("+j+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+I.replace(3,8)+")*)|.*)\\)|)",R=new RegExp("^"+B+"+|((?:^|[^\\\\])(?:\\\\.)*)"+B+"+$","g"),U=new RegExp("^"+B+"*,"+B+"*"),z=new RegExp("^"+B+"*([>+~]|"+B+")"+B+"*"),W=new RegExp("="+B+"*([^\\]'\"]*?)"+B+"*\\]","g"),X=new RegExp(q),V=new RegExp("^"+F+"$"),$={ID:new RegExp("^#("+j+")"),CLASS:new RegExp("^\\.("+j+")"),TAG:new RegExp("^("+j.replace("w","w*")+")"),ATTR:new RegExp("^"+I),PSEUDO:new RegExp("^"+q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+B+"*(even|odd|(([+-]|)(\\d*)n|)"+B+"*(?:([+-]|)"+B+"*(\\d+)|))"+B+"*\\)|)","i"),bool:new RegExp("^(?:"+H+")$","i"),needsContext:new RegExp("^"+B+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+B+"*((?:-\\d)?\\d*)"+B+"*\\)|)(?=[^-]|$)","i")},J=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,G=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Y=/[+~]/,Z=/'|\\/g,et=new RegExp("\\\\([\\da-f]{1,6}"+B+"?|("+B+")|.)","ig"),tt=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)};try{_.apply(A=D.call(b.childNodes),b.childNodes),A[b.childNodes.length].nodeType}catch(nt){_={apply:A.length?function(e,t){M.apply(e,D.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}n=rt.support={},s=rt.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":!1},l=rt.setDocument=function(e){var t,i=e?e.ownerDocument||e:b,o=i.defaultView;if(i===c||i.nodeType!==9||!i.documentElement)return c;c=i,h=i.documentElement,p=!s(i),o&&o!==o.top&&(o.addEventListener?o.addEventListener("unload",function(){l()},!1):o.attachEvent&&o.attachEvent("onunload",function(){l()})),n.attributes=ot(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=ot(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Q.test(i.getElementsByClassName)&&ot(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",e.getElementsByClassName("i").length===2}),n.getById=ot(function(e){return h.appendChild(e).id=y,!i.getElementsByName||!i.getElementsByName(y).length}),n.getById?(r.find.ID=function(e,t){if(typeof t.getElementById!==C&&p){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},r.filter.ID=function(e){var t=e.replace(et,tt);return function(e){return e.getAttribute("id")===t}}):(delete r.find.ID,r.filter.ID=function(e){var t=e.replace(et,tt);return function(e){var n=typeof e.getAttributeNode!==C&&e.getAttributeNode("id");return n&&n.value===t}}),r.find.TAG=n.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==C)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],i=0,s=t.getElementsByTagName(e);if(e==="*"){while(n=s[i++])n.nodeType===1&&r.push(n);return r}return s},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(typeof t.getElementsByClassName!==C&&p)return t.getElementsByClassName(e)},v=[],d=[];if(n.qsa=Q.test(i.querySelectorAll))ot(function(e){e.innerHTML="<select t=''><option selected=''></option></select>",e.querySelectorAll("[t^='']").length&&d.push("[*^$]="+B+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||d.push("\\["+B+"*(?:value|"+H+")"),e.querySelectorAll(":checked").length||d.push(":checked")}),ot(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&d.push("name"+B+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||d.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),d.push(",.*:")});return(n.matchesSelector=Q.test(m=h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&ot(function(e){n.disconnectedMatch=m.call(e,"div"),m.call(e,"[s!='']:x"),v.push("!=",q)}),d=d.length&&new RegExp(d.join("|")),v=v.length&&new RegExp(v.join("|")),t=Q.test(h.compareDocumentPosition),g=t||Q.test(h.contains)?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t&&t.parentNode;return e===r||!!r&&r.nodeType===1&&!!(n.contains?n.contains(r):e.compareDocumentPosition&&e.compareDocumentPosition(r)&16)}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},N=t?function(e,t){if(e===t)return f=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r?r:(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,r&1||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===i||e.ownerDocument===b&&g(b,e)?-1:t===i||t.ownerDocument===b&&g(b,t)?1:a?P.call(a,e)-P.call(a,t):0:r&4?-1:1)}:function(e,t){if(e===t)return f=!0,0;var n,r=0,s=e.parentNode,o=t.parentNode,u=[e],l=[t];if(!s||!o)return e===i?-1:t===i?1:s?-1:o?1:a?P.call(a,e)-P.call(a,t):0;if(s===o)return at(e,t);n=e;while(n=n.parentNode)u.unshift(n);n=t;while(n=n.parentNode)l.unshift(n);while(u[r]===l[r])r++;return r?at(u[r],l[r]):u[r]===b?-1:l[r]===b?1:0},i},rt.matches=function(e,t){return rt(e,null,null,t)},rt.matchesSelector=function(e,t){(e.ownerDocument||e)!==c&&l(e),t=t.replace(W,"='$1']");if(n.matchesSelector&&p&&(!v||!v.test(t))&&(!d||!d.test(t)))try{var r=m.call(e,t);if(r||n.disconnectedMatch||e.document&&e.document.nodeType!==11)return r}catch(i){}return rt(t,c,null,[e]).length>0},rt.contains=function(e,t){return(e.ownerDocument||e)!==c&&l(e),g(e,t)},rt.attr=function(e,t){(e.ownerDocument||e)!==c&&l(e);var i=r.attrHandle[t.toLowerCase()],s=i&&L.call(r.attrHandle,t.toLowerCase())?i(e,t,!p):undefined;return s!==undefined?s:n.attributes||!p?e.getAttribute(t):(s=e.getAttributeNode(t))&&s.specified?s.value:null},rt.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},rt.uniqueSort=function(e){var t,r=[],i=0,s=0;f=!n.detectDuplicates,a=!n.sortStable&&e.slice(0),e.sort(N);if(f){while(t=e[s++])t===e[s]&&(i=r.push(s));while(i--)e.splice(r[i],1)}return a=null,e},i=rt.getText=function(e){var t,n="",r=0,s=e.nodeType;if(!s)while(t=e[r++])n+=i(t);else if(s===1||s===9||s===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(s===3||s===4)return e.nodeValue;return n},r=rt.selectors={cacheLength:50,createPseudo:st,match:$,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(et,tt),e[3]=(e[4]||e[5]||"").replace(et,tt),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1].slice(0,3)==="nth"?(e[3]||rt.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd")),e[5]=+(e[7]+e[8]||e[3]==="odd")):e[3]&&rt.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return $.CHILD.test(e[0])?null:(e[3]&&e[4]!==undefined?e[2]=e[4]:n&&X.test(n)&&(t=dt(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(et,tt).toLowerCase();return e==="*"?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=S[e+" "];return t||(t=new RegExp("(^|"+B+")"+e+"("+B+"|$)"))&&S(e,function(e){return t.test(typeof e.className=="string"&&e.className||typeof e.getAttribute!==C&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=rt.attr(r,e);return i==null?t==="!=":t?(i+="",t==="="?i===n:t==="!="?i!==n:t==="^="?n&&i.indexOf(n)===0:t==="*="?n&&i.indexOf(n)>-1:t==="$="?n&&i.slice(-n.length)===n:t==="~="?(" "+i+" ").indexOf(n)>-1:t==="|="?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var s=e.slice(0,3)!=="nth",o=e.slice(-4)!=="last",u=t==="of-type";return r===1&&i===0?function(e){return!!e.parentNode}:function(t,n,a){var f,l,c,h,p,d,v=s!==o?"nextSibling":"previousSibling",m=t.parentNode,g=u&&t.nodeName.toLowerCase(),b=!a&&!u;if(m){if(s){while(v){c=t;while(c=c[v])if(u?c.nodeName.toLowerCase()===g:c.nodeType===1)return!1;d=v=e==="only"&&!d&&"nextSibling"}return!0}d=[o?m.firstChild:m.lastChild];if(o&&b){l=m[y]||(m[y]={}),f=l[e]||[],p=f[0]===w&&f[1],h=f[0]===w&&f[2],c=p&&m.childNodes[p];while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if(c.nodeType===1&&++h&&c===t){l[e]=[w,p,h];break}}else if(b&&(f=(t[y]||(t[y]={}))[e])&&f[0]===w)h=f[1];else while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if((u?c.nodeName.toLowerCase()===g:c.nodeType===1)&&++h){b&&((c[y]||(c[y]={}))[e]=[w,h]);if(c===t)break}return h-=i,h===r||h%r===0&&h/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||rt.error("unsupported pseudo: "+e);return i[y]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?st(function(e,n){var r,s=i(e,t),o=s.length;while(o--)r=P.call(e,s[o]),e[r]=!(n[r]=s[o])}):function(e){return i(e,0,n)}):i}},pseudos:{not:st(function(e){var t=[],n=[],r=o(e.replace(R,"$1"));return r[y]?st(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--)if(s=o[u])e[u]=!(t[u]=s)}):function(e,i,s){return t[0]=e,r(t,null,s,n),!n.pop()}}),has:st(function(e){return function(t){return rt(e,t).length>0}}),contains:st(function(e){return function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:st(function(e){return V.test(e||"")||rt.error("unsupported lang: "+e),e=e.replace(et,tt).toLowerCase(),function(t){var n;do if(n=p?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||n.indexOf(e+"-")===0;while((t=t.parentNode)&&t.nodeType===1);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===c.activeElement&&(!c.hasFocus||c.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return K.test(e.nodeName)},input:function(e){return J.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},text:function(e){var t;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((t=e.getAttribute("type"))==null||t.toLowerCase()==="text")},first:ct(function(){return[0]}),last:ct(function(e,t){return[t-1]}),eq:ct(function(e,t,n){return[n<0?n+t:n]}),even:ct(function(e,t){var n=0;for(;n<t;n+=2)e.push(n);return e}),odd:ct(function(e,t){var n=1;for(;n<t;n+=2)e.push(n);return e}),lt:ct(function(e,t,n){var r=n<0?n+t:n;for(;--r>=0;)e.push(r);return e}),gt:ct(function(e,t,n){var r=n<0?n+t:n;for(;++r<t;)e.push(r);return e})}},r.pseudos.nth=r.pseudos.eq;for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=ft(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=lt(t);return pt.prototype=r.filters=r.pseudos,r.setFilters=new pt,o=rt.compile=function(e,t){var n,r=[],i=[],s=T[e+" "];if(!s){t||(t=dt(e)),n=t.length;while(n--)s=wt(t[n]),s[y]?r.push(s):i.push(s);s=T(e,Et(i,r))}return s},n.sortStable=y.split("").sort(N).join("")===y,n.detectDuplicates=!!f,l(),n.sortDetached=ot(function(e){return e.compareDocumentPosition(c.createElement("div"))&1}),ot(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild.getAttribute("href")==="#"})||ut("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,t.toLowerCase()==="type"?1:2)}),(!n.attributes||!ot(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),e.firstChild.getAttribute("value")===""}))&&ut("value",function(e,t,n){if(!n&&e.nodeName.toLowerCase()==="input")return e.defaultValue}),ot(function(e){return e.getAttribute("disabled")==null})||ut(H,function(e,t,n){var r;if(!n)return e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),rt}(window);jQuery.find=Sizzle,jQuery.expr=Sizzle.selectors,jQuery.expr[":"]=jQuery.expr.pseudos,jQuery.unique=Sizzle.uniqueSort,jQuery.text=Sizzle.getText,jQuery.isXMLDoc=Sizzle.isXML,jQuery.contains=Sizzle.contains;var rneedsContext=jQuery.expr.match.needsContext,rsingleTag=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,risSimple=/^.[^:#\[\.,]*$/;jQuery.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),t.length===1&&r.nodeType===1?jQuery.find.matchesSelector(r,e)?[r]:[]:jQuery.find.matches(e,jQuery.grep(t,function(e){return e.nodeType===1}))},jQuery.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;if(typeof e!="string")return this.pushStack(jQuery(e).filter(function(){for(t=0;t<n;t++)if(jQuery.contains(i[t],this))return!0}));for(t=0;t<n;t++)jQuery.find(e,i[t],r);return r=this.pushStack(n>1?jQuery.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(winnow(this,e||[],!1))},not:function(e){return this.pushStack(winnow(this,e||[],!0))},is:function(e){return!!winnow(this,typeof e=="string"&&rneedsContext.test(e)?jQuery(e):e||[],!1).length}});var rootjQuery,rquickExpr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,init=jQuery.fn.init=function(e,t){var n,r;if(!e)return this;if(typeof e=="string"){e[0]==="<"&&e[e.length-1]===">"&&e.length>=3?n=[null,e,null]:n=rquickExpr.exec(e);if(n&&(n[1]||!t)){if(n[1]){t=t instanceof jQuery?t[0]:t,jQuery.merge(this,jQuery.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:document,!0));if(rsingleTag.test(n[1])&&jQuery.isPlainObject(t))for(n in t)jQuery.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return r=document.getElementById(n[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=document,this.selector=e,this}return!t||t.jquery?(t||rootjQuery).find(e):this.constructor(t).find(e)}return e.nodeType?(this.context=this[0]=e,this.length=1,this):jQuery.isFunction(e)?typeof rootjQuery.ready!="undefined"?rootjQuery.ready(e):e(jQuery):(e.selector!==undefined&&(this.selector=e.selector,this.context=e.context),jQuery.makeArray(e,this))};init.prototype=jQuery.fn,rootjQuery=jQuery(document);var rparentsprev=/^(?:parents|prev(?:Until|All))/,guaranteedUnique={children:!0,contents:!0,next:!0,prev:!0};jQuery.extend({dir:function(e,t,n){var r=[],i=n!==undefined;while((e=e[t])&&e.nodeType!==9)if(e.nodeType===1){if(i&&jQuery(e).is(n))break;r.push(e)}return r},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n}}),jQuery.fn.extend({has:function(e){var t=jQuery(e,this),n=t.length;return this.filter(function(){var e=0;for(;e<n;e++)if(jQuery.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,s=[],o=rneedsContext.test(e)||typeof e!="string"?jQuery(e,t||this.context):0;for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:n.nodeType===1&&jQuery.find.matchesSelector(n,e))){s.push(n);break}return this.pushStack(s.length>1?jQuery.unique(s):s)},index:function(e){return e?typeof e=="string"?indexOf.call(jQuery(e),this[0]):indexOf.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(jQuery.unique(jQuery.merge(this.get(),jQuery(e,t))))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}}),jQuery.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return jQuery.dir(e,"parentNode")},parentsUntil:function(e,t,n){return jQuery.dir(e,"parentNode",n)},next:function(e){return sibling(e,"nextSibling")},prev:function(e){return sibling(e,"previousSibling")},nextAll:function(e){return jQuery.dir(e,"nextSibling")},prevAll:function(e){return jQuery.dir(e,"previousSibling")},nextUntil:function(e,t,n){return jQuery.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return jQuery.dir(e,"previousSibling",n)},siblings:function(e){return jQuery.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return jQuery.sibling(e.firstChild)},contents:function(e){return e.contentDocument||jQuery.merge([],e.childNodes)}},function(e,t){jQuery.fn[e]=function(n,r){var i=jQuery.map(this,t,n);return e.slice(-5)!=="Until"&&(r=n),r&&typeof r=="string"&&(i=jQuery.filter(r,i)),this.length>1&&(guaranteedUnique[e]||jQuery.unique(i),rparentsprev.test(e)&&i.reverse()),this.pushStack(i)}});var rnotwhite=/\S+/g,optionsCache={};jQuery.Callbacks=function(e){e=typeof e=="string"?optionsCache[e]||createOptions(e):jQuery.extend({},e);var t,n,r,i,s,o,u=[],a=!e.once&&[],f=function(c){t=e.memory&&c,n=!0,o=i||0,i=0,s=u.length,r=!0;for(;u&&o<s;o++)if(u[o].apply(c[0],c[1])===!1&&e.stopOnFalse){t=!1;break}r=!1,u&&(a?a.length&&f(a.shift()):t?u=[]:l.disable())},l={add:function(){if(u){var n=u.length;(function o(t){jQuery.each(t,function(t,n){var r=jQuery.type(n);r==="function"?(!e.unique||!l.has(n))&&u.push(n):n&&n.length&&r!=="string"&&o(n)})})(arguments),r?s=u.length:t&&(i=n,f(t))}return this},remove:function(){return u&&jQuery.each(arguments,function(e,t){var n;while((n=jQuery.inArray(t,u,n))>-1)u.splice(n,1),r&&(n<=s&&s--,n<=o&&o--)}),this},has:function(e){return e?jQuery.inArray(e,u)>-1:!!u&&!!u.length},empty:function(){return u=[],s=0,this},disable:function(){return u=a=t=undefined,this},disabled:function(){return!u},lock:function(){return a=undefined,t||l.disable(),this},locked:function(){return!a},fireWith:function(e,t){return u&&(!n||a)&&(t=t||[],t=[e,t.slice?t.slice():t],r?a.push(t):f(t)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!n}};return l},jQuery.extend({Deferred:function(e){var t=[["resolve","done",jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return jQuery.Deferred(function(n){jQuery.each(t,function(t,s){var o=jQuery.isFunction(e[t])&&e[t];i[s[1]](function(){var e=o&&o.apply(this,arguments);e&&jQuery.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s[0]+"With"](this===r?n.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return e!=null?jQuery.extend(e,r):r}},i={};return r.pipe=r.then,jQuery.each(t,function(e,s){var o=s[2],u=s[3];r[s[1]]=o.add,u&&o.add(function(){n=u},t[e^1][2].disable,t[2][2].lock),i[s[0]]=function(){return i[s[0]+"With"](this===i?r:this,arguments),this},i[s[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=slice.call(arguments),r=n.length,i=r!==1||e&&jQuery.isFunction(e.promise)?r:0,s=i===1?e:jQuery.Deferred(),o=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?slice.call(arguments):r,n===u?s.notifyWith(t,n):--i||s.resolveWith(t,n)}},u,a,f;if(r>1){u=new Array(r),a=new Array(r),f=new Array(r);for(;t<r;t++)n[t]&&jQuery.isFunction(n[t].promise)?n[t].promise().done(o(t,f,n)).fail(s.reject).progress(o(t,a,u)):--i}return i||s.resolveWith(f,n),s.promise()}});var readyList;jQuery.fn.ready=function(e){return jQuery.ready.promise().done(e),this},jQuery.extend({isReady:!1,readyWait:1,holdReady:function(e){e?jQuery.readyWait++:jQuery.ready(!0)},ready:function(e){if(e===!0?--jQuery.readyWait:jQuery.isReady)return;jQuery.isReady=!0;if(e!==!0&&--jQuery.readyWait>0)return;readyList.resolveWith(document,[jQuery]),jQuery.fn.trigger&&jQuery(document).trigger("ready").off("ready")}}),jQuery.ready.promise=function(e){return readyList||(readyList=jQuery.Deferred(),document.readyState==="complete"?setTimeout(jQuery.ready):(document.addEventListener("DOMContentLoaded",completed,!1),window.addEventListener("load",completed,!1))),readyList.promise(e)},jQuery.ready.promise();var access=jQuery.access=function(e,t,n,r,i,s,o){var u=0,a=e.length,f=n==null;if(jQuery.type(n)==="object"){i=!0;for(u in n)jQuery.access(e,t,u,n[u],!0,s,o)}else if(r!==undefined){i=!0,jQuery.isFunction(r)||(o=!0),f&&(o?(t.call(e,r),t=null):(f=t,t=function(e,t,n){return f.call(jQuery(e),n)}));if(t)for(;u<a;u++)t(e[u],n,o?r:r.call(e[u],u,t(e[u],n)))}return i?e:f?t.call(e):a?t(e[0],n):s};jQuery.acceptData=function(e){return e.nodeType===1||e.nodeType===9||!+e.nodeType},Data.uid=1,Data.accepts=jQuery.acceptData,Data.prototype={key:function(e){if(!Data.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=Data.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,jQuery.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),s=this.cache[i];if(typeof t=="string")s[t]=n;else if(jQuery.isEmptyObject(s))jQuery.extend(this.cache[i],t);else for(r in t)s[r]=t[r];return s},get:function(e,t){var n=this.cache[this.key(e)];return t===undefined?n:n[t]},access:function(e,t,n){var r;return t===undefined||t&&typeof t=="string"&&n===undefined?(r=this.get(e,t),r!==undefined?r:this.get(e,jQuery.camelCase(t))):(this.set(e,t,n),n!==undefined?n:t)},remove:function(e,t){var n,r,i,s=this.key(e),o=this.cache[s];if(t===undefined)this.cache[s]={};else{jQuery.isArray(t)?r=t.concat(t.map(jQuery.camelCase)):(i=jQuery.camelCase(t),t in o?r=[t,i]:(r=i,r=r in o?[r]:r.match(rnotwhite)||[])),n=r.length;while(n--)delete o[r[n]]}},hasData:function(e){return!jQuery.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var data_priv=new Data,data_user=new Data,rbrace=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,rmultiDash=/([A-Z])/g;jQuery.extend({hasData:function(e){return data_user.hasData(e)||data_priv.hasData(e)},data:function(e,t,n){return data_user.access(e,t,n)},removeData:function(e,t){data_user.remove(e,t)},_data:function(e,t,n){return data_priv.access(e,t,n)},_removeData:function(e,t){data_priv.remove(e,t)}}),jQuery.fn.extend({data:function(e,t){var n,r,i,s=this[0],o=s&&s.attributes;if(e===undefined){if(this.length){i=data_user.get(s);if(s.nodeType===1&&!data_priv.get(s,"hasDataAttrs")){n=o.length;while(n--)r=o[n].name,r.indexOf("data-")===0&&(r=jQuery.camelCase(r.slice(5)),dataAttr(s,r,i[r]));data_priv.set(s,"hasDataAttrs",!0)}}return i}return typeof e=="object"?this.each(function(){data_user.set(this,e)}):access(this,function(t){var n,r=jQuery.camelCase(e);if(s&&t===undefined){n=data_user.get(s,e);if(n!==undefined)return n;n=data_user.get(s,r);if(n!==undefined)return n;n=dataAttr(s,r,undefined);if(n!==undefined)return n;return}this.each(function(){var n=data_user.get(this,r);data_user.set(this,r,t),e.indexOf("-")!==-1&&n!==undefined&&data_user.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){data_user.remove(this,e)})}}),jQuery.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=data_priv.get(e,t),n&&(!r||jQuery.isArray(n)?r=data_priv.access(e,t,jQuery.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=jQuery.queue(e,t),r=n.length,i=n.shift(),s=jQuery._queueHooks(e,t),o=function(){jQuery.dequeue(e,t)};i==="inprogress"&&(i=n.shift(),r--),i&&(t==="fx"&&n.unshift("inprogress"),delete s.stop,i.call(e,o,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return data_priv.get(e,n)||data_priv.access(e,n,{empty:jQuery.Callbacks("once memory").add(function(){data_priv.remove(e,[t+"queue",n])})})}}),jQuery.fn.extend({queue:function(e,t){var n=2;return typeof e!="string"&&(t=e,e="fx",n--),arguments.length<n?jQuery.queue(this[0],e):t===undefined?this:this.each(function(){var n=jQuery.queue(this,e,t);jQuery._queueHooks(this,e),e==="fx"&&n[0]!=="inprogress"&&jQuery.dequeue(this,e)})},dequeue:function(e){return this.each(function(){jQuery.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=jQuery.Deferred(),s=this,o=this.length,u=function(){--r||i.resolveWith(s,[s])};typeof e!="string"&&(t=e,e=undefined),e=e||"fx";while(o--)n=data_priv.get(s[o],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(u));return u(),i.promise(t)}});var pnum=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,cssExpand=["Top","Right","Bottom","Left"],isHidden=function(e,t){return e=t||e,jQuery.css(e,"display")==="none"||!jQuery.contains(e.ownerDocument,e)},rcheckableType=/^(?:checkbox|radio)$/i;(function(){var e=document.createDocumentFragment(),t=e.appendChild(document.createElement("div"));t.innerHTML="<input type='radio' checked='checked' name='t'/>",support.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",support.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue})();var strundefined=typeof undefined;support.focusinBubbles="onfocusin"in window;var rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|contextmenu)|click/,rfocusMorph=/^(?:focusinfocus|focusoutblur)$/,rtypenamespace=/^([^.]*)(?:\.(.+)|)$/;jQuery.event={global:{},add:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m=data_priv.get(e);if(!m)return;n.handler&&(s=n,n=s.handler,i=s.selector),n.guid||(n.guid=jQuery.guid++),(a=m.events)||(a=m.events={}),(o=m.handle)||(o=m.handle=function(t){return typeof jQuery!==strundefined&&jQuery.event.triggered!==t.type?jQuery.event.dispatch.apply(e,arguments):undefined}),t=(t||"").match(rnotwhite)||[""],f=t.length;while(f--){u=rtypenamespace.exec(t[f])||[],p=v=u[1],d=(u[2]||"").split(".").sort();if(!p)continue;c=jQuery.event.special[p]||{},p=(i?c.delegateType:c.bindType)||p,c=jQuery.event.special[p]||{},l=jQuery.extend({type:p,origType:v,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&jQuery.expr.match.needsContext.test(i),namespace:d.join(".")},s),(h=a[p])||(h=a[p]=[],h.delegateCount=0,(!c.setup||c.setup.call(e,r,d,o)===!1)&&e.addEventListener&&e.addEventListener(p,o,!1)),c.add&&(c.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,l):h.push(l),jQuery.event.global[p]=!0}},remove:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m=data_priv.hasData(e)&&data_priv.get(e);if(!m||!(a=m.events))return;t=(t||"").match(rnotwhite)||[""],f=t.length;while(f--){u=rtypenamespace.exec(t[f])||[],p=v=u[1],d=(u[2]||"").split(".").sort();if(!p){for(p in a)jQuery.event.remove(e,p+t[f],n,r,!0);continue}c=jQuery.event.special[p]||{},p=(r?c.delegateType:c.bindType)||p,h=a[p]||[],u=u[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=h.length;while(s--)l=h[s],(i||v===l.origType)&&(!n||n.guid===l.guid)&&(!u||u.test(l.namespace))&&(!r||r===l.selector||r==="**"&&l.selector)&&(h.splice(s,1),l.selector&&h.delegateCount--,c.remove&&c.remove.call(e,l));o&&!h.length&&((!c.teardown||c.teardown.call(e,d,m.handle)===!1)&&jQuery.removeEvent(e,p,m.handle),delete a[p])}jQuery.isEmptyObject(a)&&(delete m.handle,data_priv.remove(e,"events"))},trigger:function(e,t,n,r){var i,s,o,u,a,f,l,c=[n||document],h=hasOwn.call(e,"type")?e.type:e,p=hasOwn.call(e,"namespace")?e.namespace.split("."):[];s=o=n=n||document;if(n.nodeType===3||n.nodeType===8)return;if(rfocusMorph.test(h+jQuery.event.triggered))return;h.indexOf(".")>=0&&(p=h.split("."),h=p.shift(),p.sort()),a=h.indexOf(":")<0&&"on"+h,e=e[jQuery.expando]?e:new jQuery.Event(h,typeof e=="object"&&e),e.isTrigger=r?2:3,e.namespace=p.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=undefined,e.target||(e.target=n),t=t==null?[e]:jQuery.makeArray(t,[e]),l=jQuery.event.special[h]||{};if(!r&&l.trigger&&l.trigger.apply(n,t)===!1)return;if(!r&&!l.noBubble&&!jQuery.isWindow(n)){u=l.delegateType||h,rfocusMorph.test(u+h)||(s=s.parentNode);for(;s;s=s.parentNode)c.push(s),o=s;o===(n.ownerDocument||document)&&c.push(o.defaultView||o.parentWindow||window)}i=0;while((s=c[i++])&&!e.isPropagationStopped())e.type=i>1?u:l.bindType||h,f=(data_priv.get(s,"events")||{})[e.type]&&data_priv.get(s,"handle"),f&&f.apply(s,t),f=a&&s[a],f&&f.apply&&jQuery.acceptData(s)&&(e.result=f.apply(s,t),e.result===!1&&e.preventDefault());return e.type=h,!r&&!e.isDefaultPrevented()&&(!l._default||l._default.apply(c.pop(),t)===!1)&&jQuery.acceptData(n)&&a&&jQuery.isFunction(n[h])&&!jQuery.isWindow(n)&&(o=n[a],o&&(n[a]=null),jQuery.event.triggered=h,n[h](),jQuery.event.triggered=undefined,o&&(n[a]=o)),e.result},dispatch:function(e){e=jQuery.event.fix(e);var t,n,r,i,s,o=[],u=slice.call(arguments),a=(data_priv.get(this,"events")||{})[e.type]||[],f=jQuery.event.special[e.type]||{};u[0]=e,e.delegateTarget=this;if(f.preDispatch&&f.preDispatch.call(this,e)===!1)return;o=jQuery.event.handlers.call(this,e,a),t=0;while((i=o[t++])&&!e.isPropagationStopped()){e.currentTarget=i.elem,n=0;while((s=i.handlers[n++])&&!e.isImmediatePropagationStopped())if(!e.namespace_re||e.namespace_re.test(s.namespace))e.handleObj=s,e.data=s.data,r=((jQuery.event.special[s.origType]||{}).handle||s.handler).apply(i.elem,u),r!==undefined&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation())}return f.postDispatch&&f.postDispatch.call(this,e),e.result},handlers:function(e,t){var n,r,i,s,o=[],u=t.delegateCount,a=e.target;if(u&&a.nodeType&&(!e.button||e.type!=="click"))for(;a!==this;a=a.parentNode||this)if(a.disabled!==!0||e.type!=="click"){r=[];for(n=0;n<u;n++)s=t[n],i=s.selector+" ",r[i]===undefined&&(r[i]=s.needsContext?jQuery(i,this).index(a)>=0:jQuery.find(i,this,null,[a]).length),r[i]&&r.push(s);r.length&&o.push({elem:a,handlers:r})}return u<t.length&&o.push({elem:this,handlers:t.slice(u)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return e.which==null&&(e.which=t.charCode!=null?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,s=t.button;return e.pageX==null&&t.clientX!=null&&(n=e.target.ownerDocument||document,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),!e.which&&s!==undefined&&(e.which=s&1?1:s&2?3:s&4?2:0),e}},fix:function(e){if(e[jQuery.expando])return e;var t,n,r,i=e.type,s=e,o=this.fixHooks[i];o||(this.fixHooks[i]=o=rmouseEvent.test(i)?this.mouseHooks:rkeyEvent.test(i)?this.keyHooks:{}),r=o.props?this.props.concat(o.props):this.props,e=new jQuery.Event(s),t=r.length;while(t--)n=r[t],e[n]=s[n];return e.target||(e.target=document),e.target.nodeType===3&&(e.target=e.target.parentNode),o.filter?o.filter(e,s):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==safeActiveElement()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===safeActiveElement()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(this.type==="checkbox"&&this.click&&jQuery.nodeName(this,"input"))return this.click(),!1},_default:function(e){return jQuery.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==undefined&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=jQuery.extend(new jQuery.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?jQuery.event.trigger(i,null,t):jQuery.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},jQuery.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},jQuery.Event=function(e,t){if(!(this instanceof jQuery.Event))return new jQuery.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===undefined&&e.getPreventDefault&&e.getPreventDefault()?returnTrue:returnFalse):this.type=e,t&&jQuery.extend(this,t),this.timeStamp=e&&e.timeStamp||jQuery.now(),this[jQuery.expando]=!0},jQuery.Event.prototype={isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=returnTrue,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=returnTrue,this.stopPropagation()}},jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){jQuery.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj;if(!i||i!==r&&!jQuery.contains(r,i))e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t;return n}}}),support.focusinBubbles||jQuery.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){jQuery.event.simulate(t,e.target,jQuery.event.fix(e),!0)};jQuery.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=data_priv.access(r,t);i||r.addEventListener(e,n,!0),data_priv.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=data_priv.access(r,t)-1;i?data_priv.access(r,t,i):(r.removeEventListener(e,n,!0),data_priv.remove(r,t))}}}),jQuery.fn.extend({on:function(e,t,n,r,i){var s,o;if(typeof e=="object"){typeof t!="string"&&(n=n||t,t=undefined);for(o in e)this.on(o,t,n,e[o],i);return this}n==null&&r==null?(r=t,n=t=undefined):r==null&&(typeof t=="string"?(r=n,n=undefined):(r=n,n=t,t=undefined));if(r===!1)r=returnFalse;else if(!r)return this;return i===1&&(s=r,r=function(e){return jQuery().off(e),s.apply(this,arguments)},r.guid=s.guid||(s.guid=jQuery.guid++)),this.each(function(){jQuery.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,jQuery(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if(typeof e=="object"){for(i in e)this.off(i,t,e[i]);return this}if(t===!1||typeof t=="function")n=t,t=undefined;return n===!1&&(n=returnFalse),this.each(function(){jQuery.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){jQuery.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return jQuery.event.trigger(e,t,n,!0)}});var rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,rtagName=/<([\w:]+)/,rhtml=/<|&#?\w+;/,rnoInnerhtml=/<(?:script|style|link)/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptType=/^$|\/(?:java|ecma)script/i,rscriptTypeMasked=/^true\/(.*)/,rcleanScript=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,wrapMap={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};wrapMap.optgroup=wrapMap.option,wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead,wrapMap.th=wrapMap.td,jQuery.extend({clone:function(e,t,n){var r,i,s,o,u=e.cloneNode(!0),a=jQuery.contains(e.ownerDocument,e);if(!support.noCloneChecked&&(e.nodeType===1||e.nodeType===11)&&!jQuery.isXMLDoc(e)){o=getAll(u),s=getAll(e);for(r=0,i=s.length;r<i;r++)fixInput(s[r],o[r])}if(t)if(n){s=s||getAll(e),o=o||getAll(u);for(r=0,i=s.length;r<i;r++)cloneCopyEvent(s[r],o[r])}else cloneCopyEvent(e,u);return o=getAll(u,"script"),o.length>0&&setGlobalEval(o,!a&&getAll(e,"script")),u},buildFragment:function(e,t,n,r){var i,s,o,u,a,f,l=t.createDocumentFragment(),c=[],h=0,p=e.length;for(;h<p;h++){i=e[h];if(i||i===0)if(jQuery.type(i)==="object")jQuery.merge(c,i.nodeType?[i]:i);else if(!rhtml.test(i))c.push(t.createTextNode(i));else{s=s||l.appendChild(t.createElement("div")),o=(rtagName.exec(i)||["",""])[1].toLowerCase(),u=wrapMap[o]||wrapMap._default,s.innerHTML=u[1]+i.replace(rxhtmlTag,"<$1></$2>")+u[2],f=u[0];while(f--)s=s.lastChild;jQuery.merge(c,s.childNodes),s=l.firstChild,s.textContent=""}}l.textContent="",h=0;while(i=c[h++]){if(r&&jQuery.inArray(i,r)!==-1)continue;a=jQuery.contains(i.ownerDocument,i),s=getAll(l.appendChild(i),"script"),a&&setGlobalEval(s);if(n){f=0;while(i=s[f++])rscriptType.test(i.type||"")&&n.push(i)}}return l},cleanData:function(e){var t,n,r,i,s,o,u=jQuery.event.special,a=0;for(;(n=e[a])!==undefined;a++){if(jQuery.acceptData(n)){s=n[data_priv.expando];if(s&&(t=data_priv.cache[s])){r=Object.keys(t.events||{});if(r.length)for(o=0;(i=r[o])!==undefined;o++)u[i]?jQuery.event.remove(n,i):jQuery.removeEvent(n,i,t.handle);data_priv.cache[s]&&delete data_priv.cache[s]}}delete data_user.cache[n[data_user.expando]]}}}),jQuery.fn.extend({text:function(e){return access(this,function(e){return e===undefined?jQuery.text(this):this.empty().each(function(){if(this.nodeType===1||this.nodeType===11||this.nodeType===9)this.textContent=e})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=manipulationTarget(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=manipulationTarget(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){var n,r=e?jQuery.filter(e,this):this,i=0;for(;(n=r[i])!=null;i++)!t&&n.nodeType===1&&jQuery.cleanData(getAll(n)),n.parentNode&&(t&&jQuery.contains(n.ownerDocument,n)&&setGlobalEval(getAll(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){var e,t=0;for(;(e=this[t])!=null;t++)e.nodeType===1&&(jQuery.cleanData(getAll(e,!1)),e.textContent="");return this},clone:function(e,t){return e=e==null?!1:e,t=t==null?e:t,this.map(function(){return jQuery.clone(this,e,t)})},html:function(e){return access(this,function(e){var t=this[0]||{},n=0,r=this.length;if(e===undefined&&t.nodeType===1)return t.innerHTML;if(typeof e=="string"&&!rnoInnerhtml.test(e)&&!wrapMap[(rtagName.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(rxhtmlTag,"<$1></$2>");try{for(;n<r;n++)t=this[n]||{},t.nodeType===1&&(jQuery.cleanData(getAll(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,jQuery.cleanData(getAll(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=concat.apply([],e);var n,r,i,s,o,u,a=0,f=this.length,l=this,c=f-1,h=e[0],p=jQuery.isFunction(h);if(p||f>1&&typeof h=="string"&&!support.checkClone&&rchecked.test(h))return this.each(function(n){var r=l.eq(n);p&&(e[0]=h.call(this,n,r.html())),r.domManip(e,t)});if(f){n=jQuery.buildFragment(e,this[0].ownerDocument,!1,this),r=n.firstChild,n.childNodes.length===1&&(n=r);if(r){i=jQuery.map(getAll(n,"script"),disableScript),s=i.length;for(;a<f;a++)o=n,a!==c&&(o=jQuery.clone(o,!0,!0),s&&jQuery.merge(i,getAll(o,"script"))),t.call(this[a],o,a);if(s){u=i[i.length-1].ownerDocument,jQuery.map(i,restoreScript);for(a=0;a<s;a++)o=i[a],rscriptType.test(o.type||"")&&!data_priv.access(o,"globalEval")&&jQuery.contains(u,o)&&(o.src?jQuery._evalUrl&&jQuery._evalUrl(o.src):jQuery.globalEval(o.textContent.replace(rcleanScript,"")))}}}return this}}),jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){jQuery.fn[e]=function(e){var n,r=[],i=jQuery(e),s=i.length-1,o=0;for(;o<=s;o++)n=o===s?this:this.clone(!0),jQuery(i[o])[t](n),push.apply(r,n.get());return this.pushStack(r)}});var iframe,elemdisplay={},rmargin=/^margin/,rnumnonpx=new RegExp("^("+pnum+")(?!px)[a-z%]+$","i"),getStyles=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)};(function(){function o(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",r.appendChild(i);var n=window.getComputedStyle(s,null);e=n.top!=="1%",t=n.width==="4px",r.removeChild(i)}var e,t,n="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",r=document.documentElement,i=document.createElement("div"),s=document.createElement("div");s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",support.clearCloneStyle=s.style.backgroundClip==="content-box",i.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",i.appendChild(s),window.getComputedStyle&&jQuery.extend(support,{pixelPosition:function(){return o(),e},boxSizingReliable:function(){return t==null&&o(),t},reliableMarginRight:function(){var e,t=s.appendChild(document.createElement("div"));return t.style.cssText=s.style.cssText=n,t.style.marginRight=t.style.width="0",s.style.width="1px",r.appendChild(i),e=!parseFloat(window.getComputedStyle(t,null).marginRight),r.removeChild(i),s.innerHTML="",e}})})(),jQuery.swap=function(e,t,n,r){var i,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];i=n.apply(e,r||[]);for(s in t)e.style[s]=o[s];return i};var rdisplayswap=/^(none|table(?!-c[ea]).+)/,rnumsplit=new RegExp("^("+pnum+")(.*)$","i"),rrelNum=new RegExp("^([+-])=("+pnum+")","i"),cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:0,fontWeight:400},cssPrefixes=["Webkit","O","Moz","ms"];jQuery.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=curCSS(e,"opacity");return n===""?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,r){if(!e||e.nodeType===3||e.nodeType===8||!e.style)return;var i,s,o,u=jQuery.camelCase(t),a=e.style;t=jQuery.cssProps[u]||(jQuery.cssProps[u]=vendorPropName(a,u)),o=jQuery.cssHooks[t]||jQuery.cssHooks[u];if(n===undefined)return o&&"get"in o&&(i=o.get(e,!1,r))!==undefined?i:a[t];s=typeof n,s==="string"&&(i=rrelNum.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(jQuery.css(e,t)),s="number");if(n==null||n!==n)return;s==="number"&&!jQuery.cssNumber[u]&&(n+="px"),!support.clearCloneStyle&&n===""&&t.indexOf("background")===0&&(a[t]="inherit");if(!o||!("set"in o)||(n=o.set(e,n,r))!==undefined)a[t]="",a[t]=n},css:function(e,t,n,r){var i,s,o,u=jQuery.camelCase(t);return t=jQuery.cssProps[u]||(jQuery.cssProps[u]=vendorPropName(e.style,u)),o=jQuery.cssHooks[t]||jQuery.cssHooks[u],o&&"get"in o&&(i=o.get(e,!0,n)),i===undefined&&(i=curCSS(e,t,r)),i==="normal"&&t in cssNormalTransform&&(i=cssNormalTransform[t]),n===""||n?(s=parseFloat(i),n===!0||jQuery.isNumeric(s)?s||0:i):i}}),jQuery.each(["height","width"],function(e,t){jQuery.cssHooks[t]={get:function(e,n,r){if(n)return e.offsetWidth===0&&rdisplayswap.test(jQuery.css(e,"display"))?jQuery.swap(e,cssShow,function(){return getWidthOrHeight(e,t,r)}):getWidthOrHeight(e,t,r)},set:function(e,n,r){var i=r&&getStyles(e);return setPositiveNumber(e,n,r?augmentWidthOrHeight(e,t,r,jQuery.css(e,"boxSizing",!1,i)==="border-box",i):0)}}}),jQuery.cssHooks.marginRight=addGetHookIf(support.reliableMarginRight,function(e,t){if(t)return jQuery.swap(e,{display:"inline-block"},curCSS,[e,"marginRight"])}),jQuery.each({margin:"",padding:"",border:"Width"},function(e,t){jQuery.cssHooks[e+t]={expand:function(n){var r=0,i={},s=typeof n=="string"?n.split(" "):[n];for(;r<4;r++)i[e+cssExpand[r]+t]=s[r]||s[r-2]||s[0];return i}},rmargin.test(e)||(jQuery.cssHooks[e+t].set=setPositiveNumber)}),jQuery.fn.extend({css:function(e,t){return access(this,function(e,t,n){var r,i,s={},o=0;if(jQuery.isArray(t)){r=getStyles(e),i=t.length;for(;o<i;o++)s[t[o]]=jQuery.css(e,t[o],!1,r);return s}return n!==undefined?jQuery.style(e,t,n):jQuery.css(e,t)},e,t,arguments.length>1)},show:function(){return showHide(this,!0)},hide:function(){return showHide(this)},toggle:function(e){return typeof e=="boolean"?e?this.show():this.hide():this.each(function(){isHidden(this)?jQuery(this).show():jQuery(this).hide()})}}),jQuery.Tween=Tween,Tween.prototype={constructor:Tween,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(jQuery.cssNumber[n]?"":"px")},cur:function(){var e=Tween.propHooks[this.prop];return e&&e.get?e.get(this):Tween.propHooks._default.get(this)},run:function(e){var t,n=Tween.propHooks[this.prop];return this.options.duration?this.pos=t=jQuery.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Tween.propHooks._default.set(this),this}},Tween.prototype.init.prototype=Tween.prototype,Tween.propHooks={_default:{get:function(e){var t;return e.elem[e.prop]==null||!!e.elem.style&&e.elem.style[e.prop]!=null?(t=jQuery.css(e.elem,e.prop,""),!t||t==="auto"?0:t):e.elem[e.prop]},set:function(e){jQuery.fx.step[e.prop]?jQuery.fx.step[e.prop](e):e.elem.style&&(e.elem.style[jQuery.cssProps[e.prop]]!=null||jQuery.cssHooks[e.prop])?jQuery.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},jQuery.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},jQuery.fx=Tween.prototype.init,jQuery.fx.step={};var fxNow,timerId,rfxtypes=/^(?:toggle|show|hide)$/,rfxnum=new RegExp("^(?:([+-])=|)("+pnum+")([a-z%]*)$","i"),rrun=/queueHooks$/,animationPrefilters=[defaultPrefilter],tweeners={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=rfxnum.exec(t),s=i&&i[3]||(jQuery.cssNumber[e]?"":"px"),o=(jQuery.cssNumber[e]||s!=="px"&&+r)&&rfxnum.exec(jQuery.css(n.elem,e)),u=1,a=20;if(o&&o[3]!==s){s=s||o[3],i=i||[],o=+r||1;do u=u||".5",o/=u,jQuery.style(n.elem,e,o+s);while(u!==(u=n.cur()/r)&&u!==1&&--a)}return i&&(o=n.start=+o||+r||0,n.unit=s,n.end=i[1]?o+(i[1]+1)*i[2]:+i[2]),n}]};jQuery.Animation=jQuery.extend(Animation,{tweener:function(e,t){jQuery.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;r<i;r++)n=e[r],tweeners[n]=tweeners[n]||[],tweeners[n].unshift(t)},prefilter:function(e,t){t?animationPrefilters.unshift(e):animationPrefilters.push(e)}}),jQuery.speed=function(e,t,n){var r=e&&typeof e=="object"?jQuery.extend({},e):{complete:n||!n&&t||jQuery.isFunction(e)&&e,duration:e,easing:n&&t||t&&!jQuery.isFunction(t)&&t};r.duration=jQuery.fx.off?0:typeof r.duration=="number"?r.duration:r.duration in jQuery.fx.speeds?jQuery.fx.speeds[r.duration]:jQuery.fx.speeds._default;if(r.queue==null||r.queue===!0)r.queue="fx";return r.old=r.complete,r.complete=function(){jQuery.isFunction(r.old)&&r.old.call(this),r.queue&&jQuery.dequeue(this,r.queue)},r},jQuery.fn.extend({fadeTo:function(e,t,n,r){return this.filter(isHidden).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=jQuery.isEmptyObject(e),s=jQuery.speed(t,n,r),o=function(){var t=Animation(this,jQuery.extend({},e),s);(i||data_priv.get(this,"finish"))&&t.stop(!0)};return o.finish=o,i||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return typeof e!="string"&&(n=t,t=e,e=undefined),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=e!=null&&e+"queueHooks",s=jQuery.timers,o=data_priv.get(this);if(i)o[i]&&o[i].stop&&r(o[i]);else for(i in o)o[i]&&o[i].stop&&rrun.test(i)&&r(o[i]);for(i=s.length;i--;)s[i].elem===this&&(e==null||s[i].queue===e)&&(s[i].anim.stop(n),t=!1,s.splice(i,1));(t||!n)&&jQuery.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=data_priv.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],s=jQuery.timers,o=r?r.length:0;n.finish=!0,jQuery.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0);for(t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<o;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),jQuery.each(["toggle","show","hide"],function(e,t){var n=jQuery.fn[t];jQuery.fn[t]=function(e,r,i){return e==null||typeof e=="boolean"?n.apply(this,arguments):this.animate(genFx(t,!0),e,r,i)}}),jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){jQuery.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),jQuery.timers=[],jQuery.fx.tick=function(){var e,t=0,n=jQuery.timers;fxNow=jQuery.now();for(;t<n.length;t++)e=n[t],!e()&&n[t]===e&&n.splice(t--,1);n.length||jQuery.fx.stop(),fxNow=undefined},jQuery.fx.timer=function(e){jQuery.timers.push(e),e()?jQuery.fx.start():jQuery.timers.pop()},jQuery.fx.interval=13,jQuery.fx.start=function(){timerId||(timerId=setInterval(jQuery.fx.tick,jQuery.fx.interval))},jQuery.fx.stop=function(){clearInterval(timerId),timerId=null},jQuery.fx.speeds={slow:600,fast:200,_default:400},jQuery.fn.delay=function(e,t){return e=jQuery.fx?jQuery.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e=document.createElement("input"),t=document.createElement("select"),n=t.appendChild(document.createElement("option"));e.type="checkbox",support.checkOn=e.value!=="",support.optSelected=n.selected,t.disabled=!0,support.optDisabled=!n.disabled,e=document.createElement("input"),e.value="t",e.type="radio",support.radioValue=e.value==="t"}();var nodeHook,boolHook,attrHandle=jQuery.expr.attrHandle;jQuery.fn.extend({attr:function(e,t){return access(this,jQuery.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){jQuery.removeAttr(this,e)})}}),jQuery.extend({attr:function(e,t,n){var r,i,s=e.nodeType;if(!e||s===3||s===8||s===2)return;if(typeof e.getAttribute===strundefined)return jQuery.prop(e,t,n);if(s!==1||!jQuery.isXMLDoc(e))t=t.toLowerCase(),r=jQuery.attrHooks[t]||(jQuery.expr.match.bool.test(t)?boolHook:nodeHook);if(n===undefined)return r&&"get"in r&&(i=r.get(e,t))!==null?i:(i=jQuery.find.attr(e,t),i==null?undefined:i);if(n!==null)return r&&"set"in r&&(i=r.set(e,n,t))!==undefined?i:(e.setAttribute(t,n+""),n);jQuery.removeAttr(e,t)},removeAttr:function(e,t){var n,r,i=0,s=t&&t.match(rnotwhite);if(s&&e.nodeType===1)while(n=s[i++])r=jQuery.propFix[n]||n,jQuery.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!support.radioValue&&t==="radio"&&jQuery.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),boolHook={set:function(e,t,n){return t===!1?jQuery.removeAttr(e,n):e.setAttribute(n,n),n}},jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),function(e,t){var n=attrHandle[t]||jQuery.find.attr;attrHandle[t]=function(e,t,r){var i,s;return r||(s=attrHandle[t],attrHandle[t]=i,i=n(e,t,r)!=null?t.toLowerCase():null,attrHandle[t]=s),i}});var rfocusable=/^(?:input|select|textarea|button)$/i;jQuery.fn.extend({prop:function(e,t){return access(this,jQuery.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[jQuery.propFix[e]||e]})}}),jQuery.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,s,o=e.nodeType;if(!e||o===3||o===8||o===2)return;return s=o!==1||!jQuery.isXMLDoc(e),s&&(t=jQuery.propFix[t]||t,i=jQuery.propHooks[t]),n!==undefined?i&&"set"in i&&(r=i.set(e,n,t))!==undefined?r:e[t]=n:i&&"get"in i&&(r=i.get(e,t))!==null?r:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||rfocusable.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),support.optSelected||(jQuery.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),jQuery.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){jQuery.propFix[this.toLowerCase()]=this});var rclass=/[\t\r\n\f]/g;jQuery.fn.extend({addClass:function(e){var t,n,r,i,s,o,u=typeof e=="string"&&e,a=0,f=this.length;if(jQuery.isFunction(e))return this.each(function(t){jQuery(this).addClass(e.call(this,t,this.className))});if(u){t=(e||"").match(rnotwhite)||[];for(;a<f;a++){n=this[a],r=n.nodeType===1&&(n.className?(" "+n.className+" ").replace(rclass," "):" ");if(r){s=0;while(i=t[s++])r.indexOf(" "+i+" ")<0&&(r+=i+" ");o=jQuery.trim(r),n.className!==o&&(n.className=o)}}}return this},removeClass:function(e){var t,n,r,i,s,o,u=arguments.length===0||typeof e=="string"&&e,a=0,f=this.length;if(jQuery.isFunction(e))return this.each(function(t){jQuery(this).removeClass(e.call(this,t,this.className))});if(u){t=(e||"").match(rnotwhite)||[];for(;a<f;a++){n=this[a],r=n.nodeType===1&&(n.className?(" "+n.className+" ").replace(rclass," "):"");if(r){s=0;while(i=t[s++])while(r.indexOf(" "+i+" ")>=0)r=r.replace(" "+i+" "," ");o=e?jQuery.trim(r):"",n.className!==o&&(n.className=o)}}}return this},toggleClass:function(e,t){var n=typeof e;return typeof t=="boolean"&&n==="string"?t?this.addClass(e):this.removeClass(e):jQuery.isFunction(e)?this.each(function(n){jQuery(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if(n==="string"){var t,r=0,i=jQuery(this),s=e.match(rnotwhite)||[];while(t=s[r++])i.hasClass(t)?i.removeClass(t):i.addClass(t)}else if(n===strundefined||n==="boolean")this.className&&data_priv.set(this,"__className__",this.className),this.className=this.className||e===!1?"":data_priv.get(this,"__className__")||""})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;n<r;n++)if(this[n].nodeType===1&&(" "+this[n].className+" ").replace(rclass," ").indexOf(t)>=0)return!0;return!1}});var rreturn=/\r/g;jQuery.fn.extend({val:function(e){var t,n,r,i=this[0];if(!arguments.length){if(i)return t=jQuery.valHooks[i.type]||jQuery.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&(n=t.get(i,"value"))!==undefined?n:(n=i.value,typeof n=="string"?n.replace(rreturn,""):n==null?"":n);return}return r=jQuery.isFunction(e),this.each(function(n){var i;if(this.nodeType!==1)return;r?i=e.call(this,n,jQuery(this).val()):i=e,i==null?i="":typeof i=="number"?i+="":jQuery.isArray(i)&&(i=jQuery.map(i,function(e){return e==null?"":e+""})),t=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()];if(!t||!("set"in t)||t.set(this,i,"value")===undefined)this.value=i})}}),jQuery.extend({valHooks:{select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,s=e.type==="select-one"||i<0,o=s?null:[],u=s?i+1:r.length,a=i<0?u:s?i:0;for(;a<u;a++){n=r[a];if((n.selected||a===i)&&(support.optDisabled?!n.disabled:n.getAttribute("disabled")===null)&&(!n.parentNode.disabled||!jQuery.nodeName(n.parentNode,"optgroup"))){t=jQuery(n).val();if(s)return t;o.push(t)}}return o},set:function(e,t){var n,r,i=e.options,s=jQuery.makeArray(t),o=i.length;while(o--){r=i[o];if(r.selected=jQuery.inArray(jQuery(r).val(),s)>=0)n=!0}return n||(e.selectedIndex=-1),s}}}}),jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={set:function(e,t){if(jQuery.isArray(t))return e.checked=jQuery.inArray(jQuery(e).val(),t)>=0}},support.checkOn||(jQuery.valHooks[this].get=function(e){return e.getAttribute("value")===null?"on":e.value})}),jQuery.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){jQuery.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),jQuery.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",n)}});var nonce=jQuery.now(),rquery=/\?/;jQuery.parseJSON=function(e){return JSON.parse(e+"")},jQuery.parseXML=function(e){var t,n;if(!e||typeof e!="string")return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(r){t=undefined}return(!t||t.getElementsByTagName("parsererror").length)&&jQuery.error("Invalid XML: "+e),t};var ajaxLocParts,ajaxLocation,rhash=/#.*$/,rts=/([?&])_=[^&]*/,rheaders=/^(.*?):[ \t]*([^\r\n]*)$/mg,rlocalProtocol=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,rurl=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,prefilters={},transports={},allTypes="*/".concat("*");try{ajaxLocation=location.href}catch(e){ajaxLocation=document.createElement("a"),ajaxLocation.href="",ajaxLocation=ajaxLocation.href}ajaxLocParts=rurl.exec(ajaxLocation.toLowerCase())||[],jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ajaxLocation,type:"GET",isLocal:rlocalProtocol.test(ajaxLocParts[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":allTypes,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?ajaxExtend(ajaxExtend(e,jQuery.ajaxSettings),t):ajaxExtend(jQuery.ajaxSettings,e)},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(e,t){function S(e,t,s,u){var f,m,g,b,E,S=t;if(y===2)return;y=2,o&&clearTimeout(o),n=undefined,i=u||"",w.readyState=e>0?4:0,f=e>=200&&e<300||e===304,s&&(b=ajaxHandleResponses(l,w,s)),b=ajaxConvert(l,b,w,f);if(f)l.ifModified&&(E=w.getResponseHeader("Last-Modified"),E&&(jQuery.lastModified[r]=E),E=w.getResponseHeader("etag"),E&&(jQuery.etag[r]=E)),e===204||l.type==="HEAD"?S="nocontent":e===304?S="notmodified":(S=b.state,m=b.data,g=b.error,f=!g);else{g=S;if(e||!S)S="error",e<0&&(e=0)}w.status=e,w.statusText=(t||S)+"",f?p.resolveWith(c,[m,S,w]):p.rejectWith(c,[w,S,g]),w.statusCode(v),v=undefined,a&&h.trigger(f?"ajaxSuccess":"ajaxError",[w,l,f?m:g]),d.fireWith(c,[w,S]),a&&(h.trigger("ajaxComplete",[w,l]),--jQuery.active||jQuery.event.trigger("ajaxStop"))}typeof e=="object"&&(t=e,e=undefined),t=t||{};var n,r,i,s,o,u,a,f,l=jQuery.ajaxSetup({},t),c=l.context||l,h=l.context&&(c.nodeType||c.jquery)?jQuery(c):jQuery.event,p=jQuery.Deferred(),d=jQuery.Callbacks("once memory"),v=l.statusCode||{},m={},g={},y=0,b="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(y===2){if(!s){s={};while(t=rheaders.exec(i))s[t[1].toLowerCase()]=t[2]}t=s[e.toLowerCase()]}return t==null?null:t},getAllResponseHeaders:function(){return y===2?i:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return y||(e=g[n]=g[n]||e,m[e]=t),this},overrideMimeType:function(e){return y||(l.mimeType=e),this},statusCode:function(e){var t;if(e)if(y<2)for(t in e)v[t]=[v[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||b;return n&&n.abort(t),S(0,t),this}};p.promise(w).complete=d.add,w.success=w.done,w.error=w.fail,l.url=((e||l.url||ajaxLocation)+"").replace(rhash,"").replace(rprotocol,ajaxLocParts[1]+"//"),l.type=t.method||t.type||l.method||l.type,l.dataTypes=jQuery.trim(l.dataType||"*").toLowerCase().match(rnotwhite)||[""],l.crossDomain==null&&(u=rurl.exec(l.url.toLowerCase()),l.crossDomain=!(!u||u[1]===ajaxLocParts[1]&&u[2]===ajaxLocParts[2]&&(u[3]||(u[1]==="http:"?"80":"443"))===(ajaxLocParts[3]||(ajaxLocParts[1]==="http:"?"80":"443")))),l.data&&l.processData&&typeof l.data!="string"&&(l.data=jQuery.param(l.data,l.traditional)),inspectPrefiltersOrTransports(prefilters,l,t,w);if(y===2)return w;a=l.global,a&&jQuery.active++===0&&jQuery.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!rnoContent.test(l.type),r=l.url,l.hasContent||(l.data&&(r=l.url+=(rquery.test(r)?"&":"?")+l.data,delete l.data),l.cache===!1&&(l.url=rts.test(r)?r.replace(rts,"$1_="+nonce++):r+(rquery.test(r)?"&":"?")+"_="+nonce++)),l.ifModified&&(jQuery.lastModified[r]&&w.setRequestHeader("If-Modified-Since",jQuery.lastModified[r]),jQuery.etag[r]&&w.setRequestHeader("If-None-Match",jQuery.etag[r])),(l.data&&l.hasContent&&l.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",l.contentType),w.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+(l.dataTypes[0]!=="*"?", "+allTypes+"; q=0.01":""):l.accepts["*"]);for(f in l.headers)w.setRequestHeader(f,l.headers[f]);if(!l.beforeSend||l.beforeSend.call(c,w,l)!==!1&&y!==2){b="abort";for(f in{success:1,error:1,complete:1})w[f](l[f]);n=inspectPrefiltersOrTransports(transports,l,t,w);if(!n)S(-1,"No Transport");else{w.readyState=1,a&&h.trigger("ajaxSend",[w,l]),l.async&&l.timeout>0&&(o=setTimeout(function(){w.abort("timeout")},l.timeout));try{y=1,n.send(m,S)}catch(E){if(!(y<2))throw E;S(-1,E)}}return w}return w.abort()},getJSON:function(e,t,n){return jQuery.get(e,t,n,"json")},getScript:function(e,t){return jQuery.get(e,undefined,t,"script")}}),jQuery.each(["get","post"],function(e,t){jQuery[t]=function(e,n,r,i){return jQuery.isFunction(n)&&(i=i||r,r=n,n=undefined),jQuery.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){jQuery.fn[t]=function(e){return this.on(t,e)}}),jQuery._evalUrl=function(e){return jQuery.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},jQuery.fn.extend({wrapAll:function(e){var t;return jQuery.isFunction(e)?this.each(function(t){jQuery(this).wrapAll(e.call(this,t))}):(this[0]&&(t=jQuery(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return jQuery.isFunction(e)?this.each(function(t){jQuery(this).wrapInner(e.call(this,t))}):this.each(function(){var t=jQuery(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=jQuery.isFunction(e);return this.each(function(n){jQuery(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){jQuery.nodeName(this,"body")||jQuery(this).replaceWith(this.childNodes)}).end()}}),jQuery.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},jQuery.expr.filters.visible=function(e){return!jQuery.expr.filters.hidden(e)};var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;jQuery.param=function(e,t){var n,r=[],i=function(e,t){t=jQuery.isFunction(t)?t():t==null?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};t===undefined&&(t=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional);if(jQuery.isArray(e)||e.jquery&&!jQuery.isPlainObject(e))jQuery.each(e,function(){i(this.name,this.value)});else for(n in e)buildParams(n,e[n],t,i);return r.join("&").replace(r20,"+")},jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=jQuery.prop(this,"elements");return e?jQuery.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!jQuery(this).is(":disabled")&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(e)&&(this.checked||!rcheckableType.test(e))}).map(function(e,t){var n=jQuery(this).val();return n==null?null:jQuery.isArray(n)?jQuery.map(n,function(e){return{name:t.name,value:e.replace(rCRLF,"\r\n")}}):{name:t.name,value:n.replace(rCRLF,"\r\n")}}).get()}}),jQuery.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var xhrId=0,xhrCallbacks={},xhrSuccessStatus={0:200,1223:204},xhrSupported=jQuery.ajaxSettings.xhr();window.ActiveXObject&&jQuery(window).on("unload",function(){for(var e in xhrCallbacks)xhrCallbacks[e]()}),support.cors=!!xhrSupported&&"withCredentials"in xhrSupported,support.ajax=xhrSupported=!!xhrSupported,jQuery.ajaxTransport(function(e){var t;if(support.cors||xhrSupported&&!e.crossDomain)return{send:function(n,r){var i,s=e.xhr(),o=++xhrId;s.open(e.type,e.url,e.async,e.username,e.password);if(e.xhrFields)for(i in e.xhrFields)s[i]=e.xhrFields[i];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),!e.crossDomain&&!n["X-Requested-With"]&&(n["X-Requested-With"]="XMLHttpRequest");for(i in n)s.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete xhrCallbacks[o],t=s.onload=s.onerror=null,e==="abort"?s.abort():e==="error"?r(s.status,s.statusText):r(xhrSuccessStatus[s.status]||s.status,s.statusText,typeof s.responseText=="string"?{text:s.responseText}:undefined,s.getAllResponseHeaders()))}},s.onload=t(),s.onerror=t("error"),t=xhrCallbacks[o]=t("abort"),s.send(e.hasContent&&e.data||null)},abort:function(){t&&t()}}}),jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return jQuery.globalEval(e),e}}}),jQuery.ajaxPrefilter("script",function(e){e.cache===undefined&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),jQuery.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=jQuery("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i(e.type==="error"?404:200,e.type)}),document.head.appendChild(t[0])},abort:function(){n&&n()}}}});var oldCallbacks=[],rjsonp=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=oldCallbacks.pop()||jQuery.expando+"_"+nonce++;return this[e]=!0,e}}),jQuery.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,s,o=e.jsonp!==!1&&(rjsonp.test(e.url)?"url":typeof e.data=="string"&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&rjsonp.test(e.data)&&"data");if(o||e.dataTypes[0]==="jsonp")return r=e.jsonpCallback=jQuery.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,o?e[o]=e[o].replace(rjsonp,"$1"+r):e.jsonp!==!1&&(e.url+=(rquery.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||jQuery.error(r+" was not called"),s[0]},e.dataTypes[0]="json",i=window[r],window[r]=function(){s=arguments},n.always(function(){window[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,oldCallbacks.push(r)),s&&jQuery.isFunction(i)&&i(s[0]),s=i=undefined}),"script"}),jQuery.parseHTML=function(e,t,n){if(!e||typeof e!="string")return null;typeof t=="boolean"&&(n=t,t=!1),t=t||document;var r=rsingleTag.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=jQuery.buildFragment([e],t,i),i&&i.length&&jQuery(i).remove(),jQuery.merge([],r.childNodes))};var _load=jQuery.fn.load;jQuery.fn.load=function(e,t,n){if(typeof e!="string"&&_load)return _load.apply(this,arguments);var r,i,s,o=this,u=e.indexOf(" ");return u>=0&&(r=e.slice(u),e=e.slice(0,u)),jQuery.isFunction(t)?(n=t,t=undefined):t&&typeof t=="object"&&(i="POST"),o.length>0&&jQuery.ajax({url:e,type:i,dataType:"html",data:t}).done(function(e){s=arguments,o.html(r?jQuery("<div>").append(jQuery.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){o.each(n,s||[e.responseText,t,e])}),this},jQuery.expr.filters.animated=function(e){return jQuery.grep(jQuery.timers,function(t){return e===t.elem}).length};var docElem=window.document.documentElement;jQuery.offset={setOffset:function(e,t,n){var r,i,s,o,u,a,f,l=jQuery.css(e,"position"),c=jQuery(e),h={};l==="static"&&(e.style.position="relative"),u=c.offset(),s=jQuery.css(e,"top"),a=jQuery.css(e,"left"),f=(l==="absolute"||l==="fixed")&&(s+a).indexOf("auto")>-1,f?(r=c.position(),o=r.top,i=r.left):(o=parseFloat(s)||0,i=parseFloat(a)||0),jQuery.isFunction(t)&&(t=t.call(e,n,u)),t.top!=null&&(h.top=t.top-u.top+o),t.left!=null&&(h.left=t.left-u.left+i),"using"in t?t.using.call(e,h):c.css(h)}},jQuery.fn.extend({offset:function(e){if(arguments.length)return e===undefined?this:this.each(function(t){jQuery.offset.setOffset(this,e,t)});var t,n,r=this[0],i={top:0,left:0},s=r&&r.ownerDocument;if(!s)return;return t=s.documentElement,jQuery.contains(t,r)?(typeof r.getBoundingClientRect!==strundefined&&(i=r.getBoundingClientRect()),n=getWindow(s),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i},position:function(){if(!this[0])return;var e,t,n=this[0],r={top:0,left:0};return jQuery.css(n,"position")==="fixed"?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),jQuery.nodeName(e[0],"html")||(r=e.offset()),r.top+=jQuery.css(e[0],"borderTopWidth",!0),r.left+=jQuery.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-jQuery.css(n,"marginTop",!0),left:t.left-r.left-jQuery.css(n,"marginLeft",!0)}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||docElem;while(e&&!jQuery.nodeName(e,"html")&&jQuery.css(e,"position")==="static")e=e.offsetParent;return e||docElem})}}),jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;jQuery.fn[e]=function(r){return access(this,function(e,r,i){var s=getWindow(e);if(i===undefined)return s?s[t]:e[r];s?s.scrollTo(n?window.pageXOffset:i,n?i:window.pageYOffset):e[r]=i},e,r,arguments.length,null)}}),jQuery.each(["top","left"],function(e,t){jQuery.cssHooks[t]=addGetHookIf(support.pixelPosition,function(e,n){if(n)return n=curCSS(e,t),rnumnonpx.test(n)?jQuery(e).position()[t]+"px":n})}),jQuery.each({Height:"height",Width:"width"},function(e,t){jQuery.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){jQuery.fn[r]=function(r,i){var s=arguments.length&&(n||typeof r!="boolean"),o=n||(r===!0||i===!0?"margin":"border");return access(this,function(t,n,r){var i;return jQuery.isWindow(t)?t.document.documentElement["client"+e]:t.nodeType===9?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):r===undefined?jQuery.css(t,n,o):jQuery.style(t,n,r,o)},t,s?r:undefined,s,null)}})}),jQuery.fn.size=function(){return this.length},jQuery.fn.andSelf=jQuery.fn.addBack,typeof define=="function"&&define.amd&&define("jquery",[],function(){return jQuery});var _jQuery=window.jQuery,_$=window.$;return jQuery.noConflict=function(e){return window.$===jQuery&&(window.$=_$),e&&window.jQuery===jQuery&&(window.jQuery=_jQuery),jQuery},typeof noGlobal===strundefined&&(window.jQuery=window.$=jQuery),jQuery}),function(e,t){if(typeof define=="function"&&define.amd)define("backbone",["underscore","jquery","exports"],function(n,r,i){e.Backbone=t(e,i,n,r)});else if(typeof exports!="undefined"){var n=require("underscore");t(e,exports,n)}else e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(this,function(e,t,n,r){var i=e.Backbone,s=[],o=s.push,u=s.slice,a=s.splice;t.VERSION="1.1.2",t.$=r,t.noConflict=function(){return e.Backbone=i,this},t.emulateHTTP=!1,t.emulateJSON=!1;var f=t.Events={on:function(e,t,n){if(!c(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var r=this._events[e]||(this._events[e]=[]);return r.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,r){if(!c(this,"once",e,[t,r])||!t)return this;var i=this,s=n.once(function(){i.off(e,s),t.apply(this,arguments)});return s._callback=t,this.on(e,s,r)},off:function(e,t,r){var i,s,o,u,a,f,l,h;if(!this._events||!c(this,"off",e,[t,r]))return this;if(!e&&!t&&!r)return this._events=void 0,this;u=e?[e]:n.keys(this._events);for(a=0,f=u.length;a<f;a++){e=u[a];if(o=this._events[e]){this._events[e]=i=[];if(t||r)for(l=0,h=o.length;l<h;l++)s=o[l],(t&&t!==s.callback&&t!==s.callback._callback||r&&r!==s.context)&&i.push(s);i.length||delete this._events[e]}}return this},trigger:function(e){if(!this._events)return this;var t=u.call(arguments,1);if(!c(this,"trigger",e,t))return this;var n=this._events[e],r=this._events.all;return n&&h(n,t),r&&h(r,arguments),this},stopListening:function(e,t,r){var i=this._listeningTo;if(!i)return this;var s=!t&&!r;!r&&typeof t=="object"&&(r=this),e&&((i={})[e._listenId]=e);for(var o in i)e=i[o],e.off(t,r,this),(s||n.isEmpty(e._events))&&delete this._listeningTo[o];return this}},l=/\s+/,c=function(e,t,n,r){if(!n)return!0;if(typeof n=="object"){for(var i in n)e[t].apply(e,[i,n[i]].concat(r));return!1}if(l.test(n)){var s=n.split(l);for(var o=0,u=s.length;o<u;o++)e[t].apply(e,[s[o]].concat(r));return!1}return!0},h=function(e,t){var n,r=-1,i=e.length,s=t[0],o=t[1],u=t[2];switch(t.length){case 0:while(++r<i)(n=e[r]).callback.call(n.ctx);return;case 1:while(++r<i)(n=e[r]).callback.call(n.ctx,s);return;case 2:while(++r<i)(n=e[r]).callback.call(n.ctx,s,o);return;case 3:while(++r<i)(n=e[r]).callback.call(n.ctx,s,o,u);return;default:while(++r<i)(n=e[r]).callback.apply(n.ctx,t);return}},p={listenTo:"on",listenToOnce:"once"};n.each(p,function(e,t){f[t]=function(t,r,i){var s=this._listeningTo||(this._listeningTo={}),o=t._listenId||(t._listenId=n.uniqueId("l"));return s[o]=t,!i&&typeof r=="object"&&(i=this),t[e](r,i,this),this}}),f.bind=f.on,f.unbind=f.off,n.extend(t,f);var d=t.Model=function(e,t){var r=e||{};t||(t={}),this.cid=n.uniqueId("c"),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(r=this.parse(r,t)||{}),r=n.defaults({},r,n.result(this,"defaults")),this.set(r,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(d.prototype,f,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return this.get(e)!=null},set:function(e,t,r){var i,s,o,u,a,f,l,c;if(e==null)return this;typeof e=="object"?(s=e,r=t):(s={})[e]=t,r||(r={});if(!this._validate(s,r))return!1;o=r.unset,a=r.silent,u=[],f=this._changing,this._changing=!0,f||(this._previousAttributes=n.clone(this.attributes),this.changed={}),c=this.attributes,l=this._previousAttributes,this.idAttribute in s&&(this.id=s[this.idAttribute]);for(i in s)t=s[i],n.isEqual(c[i],t)||u.push(i),n.isEqual(l[i],t)?delete this.changed[i]:this.changed[i]=t,o?delete c[i]:c[i]=t;if(!a){u.length&&(this._pending=r);for(var h=0,p=u.length;h<p;h++)this.trigger("change:"+u[h],this,c[u[h]],r)}if(f)return this;if(!a)while(this._pending)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var r in this.attributes)t[r]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return e==null?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?n.clone(this.changed):!1;var t,r=!1,i=this._changing?this._previousAttributes:this.attributes;for(var s in e){if(n.isEqual(i[s],t=e[s]))continue;(r||(r={}))[s]=t}return r},previous:function(e){return e==null||!this._previousAttributes?null:this._previousAttributes[e]},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=e?n.clone(e):{},e.parse===void 0&&(e.parse=!0);var t=this,r=e.success;return e.success=function(n){if(!t.set(t.parse(n,e),e))return!1;r&&r(t,n,e),t.trigger("sync",t,n,e)},I(this,e),this.sync("read",this,e)},save:function(e,t,r){var i,s,o,u=this.attributes;e==null||typeof e=="object"?(i=e,r=t):(i={})[e]=t,r=n.extend({validate:!0},r);if(i&&!r.wait){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;i&&r.wait&&(this.attributes=n.extend({},u,i)),r.parse===void 0&&(r.parse=!0);var a=this,f=r.success;return r.success=function(e){a.attributes=u;var t=a.parse(e,r);r.wait&&(t=n.extend(i||{},t));if(n.isObject(t)&&!a.set(t,r))return!1;f&&f(a,e,r),a.trigger("sync",a,e,r)},I(this,r),s=this.isNew()?"create":r.patch?"patch":"update",s==="patch"&&(r.attrs=i),o=this.sync(s,this,r),i&&r.wait&&(this.attributes=u),o},destroy:function(e){e=e?n.clone(e):{};var t=this,r=e.success,i=function(){t.trigger("destroy",t,t.collection,e)};e.success=function(n){(e.wait||t.isNew())&&i(),r&&r(t,n,e),t.isNew()||t.trigger("sync",t,n,e)};if(this.isNew())return e.success(),!1;I(this,e);var s=this.sync("delete",this,e);return e.wait||i(),s},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||F();return this.isNew()?e:e.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var r=this.validationError=this.validate(e,t)||null;return r?(this.trigger("invalid",this,r,n.extend(t,{validationError:r})),!1):!0}});var v=["keys","values","pairs","invert","pick","omit"];n.each(v,function(e){d.prototype[e]=function(){var t=u.call(arguments);return t.unshift(this.attributes),n[e].apply(n,t)}});var m=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),t.comparator!==void 0&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},g={add:!0,remove:!0,merge:!0},y={add:!0,remove:!1};n.extend(m.prototype,f,{model:d,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,y))},remove:function(e,t){var r=!n.isArray(e);e=r?[e]:n.clone(e),t||(t={});var i,s,o,u;for(i=0,s=e.length;i<s;i++){u=e[i]=this.get(e[i]);if(!u)continue;delete this._byId[u.id],delete this._byId[u.cid],o=this.indexOf(u),this.models.splice(o,1),this.length--,t.silent||(t.index=o,u.trigger("remove",u,this,t)),this._removeReference(u,t)}return r?e[0]:e},set:function(e,t){t=n.defaults({},t,g),t.parse&&(e=this.parse(e,t));var r=!n.isArray(e);e=r?e?[e]:[]:n.clone(e);var i,s,o,u,a,f,l,c=t.at,h=this.model,p=this.comparator&&c==null&&t.sort!==!1,v=n.isString(this.comparator)?this.comparator:null,m=[],y=[],b={},w=t.add,E=t.merge,S=t.remove,x=!p&&w&&S?[]:!1;for(i=0,s=e.length;i<s;i++){a=e[i]||{},a instanceof d?o=u=a:o=a[h.prototype.idAttribute||"id"];if(f=this.get(o))S&&(b[f.cid]=!0),E&&(a=a===u?u.attributes:a,t.parse&&(a=f.parse(a,t)),f.set(a,t),p&&!l&&f.hasChanged(v)&&(l=!0)),e[i]=f;else if(w){u=e[i]=this._prepareModel(a,t);if(!u)continue;m.push(u),this._addReference(u,t)}u=f||u,x&&(u.isNew()||!b[u.id])&&x.push(u),b[u.id]=!0}if(S){for(i=0,s=this.length;i<s;++i)b[(u=this.models[i]).cid]||y.push(u);y.length&&this.remove(y,t)}if(m.length||x&&x.length){p&&(l=!0),this.length+=m.length;if(c!=null)for(i=0,s=m.length;i<s;i++)this.models.splice(c+i,0,m[i]);else{x&&(this.models.length=0);var T=x||m;for(i=0,s=T.length;i<s;i++)this.models.push(T[i])}}l&&this.sort({silent:!0});if(!t.silent){for(i=0,s=m.length;i<s;i++)(u=m[i]).trigger("add",u,this,t);(l||x&&x.length)&&this.trigger("sort",this,t)}return r?e[0]:e},reset:function(e,t){t||(t={});for(var r=0,i=this.models.length;r<i;r++)this._removeReference(this.models[r],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(){return u.apply(this.models,arguments)},get:function(e){return e==null?void 0:this._byId[e]||this._byId[e.id]||this._byId[e.cid]},at:function(e){return this.models[e]},where:function(e,t){return n.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),n.isString(this.comparator)||this.comparator.length===1?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return n.invoke(this.models,"get",e)},fetch:function(e){e=e?n.clone(e):{},e.parse===void 0&&(e.parse=!0);var t=e.success,r=this;return e.success=function(n){var i=e.reset?"reset":"set";r[i](n,e),t&&t(r,n,e),r.trigger("sync",r,n,e)},I(this,e),this.sync("read",this,e)},create:function(e,t){t=t?n.clone(t):{};if(!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var r=this,i=t.success;return t.success=function(e,n){t.wait&&r.add(e,t),i&&i(e,n,t)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof d)return e;t=t?n.clone(t):{},t.collection=this;var r=new this.model(e,t);return r.validationError?(this.trigger("invalid",this,r.validationError,t),!1):r},_addReference:function(e,t){this._byId[e.cid]=e,e.id!=null&&(this._byId[e.id]=e),e.collection||(e.collection=this),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if((e==="add"||e==="remove")&&n!==this)return;e==="destroy"&&this.remove(t,r),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],t.id!=null&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments)}});var b=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];n.each(b,function(e){m.prototype[e]=function(){var t=u.call(arguments);return t.unshift(this.models),n[e].apply(n,t)}});var w=["groupBy","countBy","sortBy","indexBy"];n.each(w,function(e){m.prototype[e]=function(t,r){var i=n.isFunction(t)?t:function(e){return e.get(t)};return n[e](this.models,i,r)}});var E=t.View=function(e){this.cid=n.uniqueId("view"),e||(e={}),n.extend(this,n.pick(e,x)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},S=/^(\S+)\s*(.*)$/,x=["model","collection","el","id","attributes","className","tagName","events"];n.extend(E.prototype,f,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,n){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=n.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var r=e[t];n.isFunction(r)||(r=this[e[t]]);if(!r)continue;var i=t.match(S),s=i[1],o=i[2];r=n.bind(r,this),s+=".delegateEvents"+this.cid,o===""?this.$el.on(s,r):this.$el.on(s,o,r)}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(!this.el){var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e["class"]=n.result(this,"className"));var r=t.$("<"+n.result(this,"tagName")+">").attr(e);this.setElement(r,!1)}else this.setElement(n.result(this,"el"),!1)}}),t.sync=function(e,r,i){var s=N[e];n.defaults(i||(i={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var o={type:s,dataType:"json"};i.url||(o.url=n.result(r,"url")||F()),i.data==null&&r&&(e==="create"||e==="update"||e==="patch")&&(o.contentType="application/json",o.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{});if(i.emulateHTTP&&(s==="PUT"||s==="DELETE"||s==="PATCH")){o.type="POST",i.emulateJSON&&(o.data._method=s);var u=i.beforeSend;i.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",s);if(u)return u.apply(this,arguments)}}o.type!=="GET"&&!i.emulateJSON&&(o.processData=!1),o.type==="PATCH"&&T&&(o.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var a=i.xhr=t.ajax(n.extend(o,i));return r.trigger("request",r,a,i),a};var T=typeof window!="undefined"&&!!window.ActiveXObject&&(!window.XMLHttpRequest||!(new XMLHttpRequest).dispatchEvent),N={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var C=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},k=/\((.*?)\)/g,L=/(\(\?)?:\w+/g,A=/\*\w+/g,O=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(C.prototype,f,{initialize:function(){},route:function(e,r,i){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var s=this;return t.history.route(e,function(n){var o=s._extractParameters(e,n);s.execute(i,o),s.trigger.apply(s,["route:"+r].concat(o)),s.trigger("route",r,o),t.history.trigger("route",s,r,o)}),this},execute:function(e,t){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(!this.routes)return;this.routes=n.result(this,"routes");var e,t=n.keys(this.routes);while((e=t.pop())!=null)this.route(e,this.routes[e])},_routeToRegExp:function(e){return e=e.replace(O,"\\$&").replace(k,"(?:$1)?").replace(L,function(e,t){return t?e:"([^/?]+)"}).replace(A,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var r=e.exec(t).slice(1);return n.map(r,function(e,t){return t===r.length-1?e||null:e?decodeURIComponent(e):null})}});var M=t.History=function(){this.handlers=[],n.bindAll(this,"checkUrl"),typeof window!="undefined"&&(this.location=window.location,this.history=window.history)},_=/^[#\/]|\s+$/g,D=/^\/+|\/+$/g,P=/msie [\w.]+/,H=/\/$/,B=/#.*$/;M.started=!1,n.extend(M.prototype,f,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(e==null)if(this._hasPushState||!this._wantsHashChange||t){e=decodeURI(this.location.pathname+this.location.search);var n=this.root.replace(H,"");e.indexOf(n)||(e=e.slice(n.length))}else e=this.getHash();return e.replace(_,"")},start:function(e){if(M.started)throw new Error("Backbone.history has already been started");M.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var r=this.getFragment(),i=document.documentMode,s=P.exec(navigator.userAgent.toLowerCase())&&(!i||i<=7);this.root=("/"+this.root+"/").replace(D,"/");if(s&&this._wantsHashChange){var o=t.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=o.hide().appendTo("body")[0].contentWindow,this.navigate(r)}this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!s?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=r;var u=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&u.hash&&(this.fragment=this.getHash().replace(_,""),this.history.replaceState({},document.title,this.root+this.fragment))}if(!this.options.silent)return this.loadUrl()},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),M.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe)));if(t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()},loadUrl:function(e){return e=this.fragment=this.getFragment(e),n.any(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0})},navigate:function(e,t){if(!M.started)return!1;if(!t||t===!0)t={trigger:!!t};var n=this.root+(e=this.getFragment(e||""));e=e.replace(B,"");if(this.fragment===e)return;this.fragment=e,e===""&&n!=="/"&&(n=n.slice(0,-1));if(this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}if(t.trigger)return this.loadUrl(e)},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),t.history=new M;var j=function(e,t){var r=this,i;e&&n.has(e,"constructor")?i=e.constructor:i=function(){return r.apply(this,arguments)},n.extend(i,r,t);var s=function(){this.constructor=i};return s.prototype=r.prototype,i.prototype=new s,e&&n.extend(i.prototype,e),i.__super__=r.prototype,i};d.extend=m.extend=C.extend=E.extend=M.extend=j;var F=function(){throw new Error('A "url" property or function must be specified')},I=function(e,t){var n=t.error;t.error=function(r){n&&n(e,r,t),e.trigger("error",e,r,t)}};return t}),define("namespace",["backbone"],function(e){return{app:_.extend({},e.Events)}}),define("backbone_router_callbacks",["backbone"],function(e){e.Router.prototype.before=function(){},e.Router.prototype.after=function(){},e.Router.prototype.route=function(t,n,r){_.isRegExp(t)||(t=this._routeToRegExp(t)),_.isFunction(n)&&(r=n,n=""),r||(r=this[n]);var i=this;return e.history.route(t,function(s){var o=i._extractParameters(t,s);i.once("route:before",function(){r&&r.apply(i,o),i.after.apply(i,arguments)}),i.before.apply(i,arguments),i.trigger.apply(i,["route:"+n].concat(o)),i.trigger("route",n,o),e.history.trigger("route",i,n,o)}),this}}),function(e){typeof define=="function"&&define.amd?define("scroll_to",["jquery"],e):e(jQuery)}(function(e){function n(t){return e.isFunction(t)||typeof t=="object"?t:{top:t,left:t}}var t=e.scrollTo=function(t,n,r){return e(window).scrollTo(t,n,r)};return t.defaults={axis:"xy",duration:parseFloat(e.fn.jquery)>=1.3?0:1,limit:!0},t.window=function(t){return e(window)._scrollable()},e.fn._scrollable=function(){return this.map(function(){var t=this,n=!t.nodeName||e.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1;if(!n)return t;var r=(t.contentWindow||t).document||t.ownerDocument||t;return/webkit/i.test(navigator.userAgent)||r.compatMode=="BackCompat"?r.body:r.documentElement})},e.fn.scrollTo=function(r,i,s){return typeof i=="object"&&(s=i,i=0),typeof s=="function"&&(s={onAfter:s}),r=="max"&&(r=9e9),s=e.extend({},t.defaults,s),i=i||s.duration,s.queue=s.queue&&s.axis.length>1,s.queue&&(i/=2),s.offset=n(s.offset),s.over=n(s.over),this._scrollable().each(function(){function p(e){u.animate(l,i,s.easing,e&&function(){e.call(this,a,s)})}if(r==null)return;var o=this,u=e(o),a=r,f,l={},c=u.is("html,body");switch(typeof a){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(a)){a=n(a);break}a=e(a,this);if(!a.length)return;case"object":if(a.is||a.style)f=(a=e(a)).offset()}var h=e.isFunction(s.offset)&&s.offset(o,a)||s.offset;e.each(s.axis.split(""),function(e,n){var r=n=="x"?"Left":"Top",i=r.toLowerCase(),d="scroll"+r,v=o[d],m=t.max(o,n);if(f)l[d]=f[i]+(c?0:v-u.offset()[i]),s.margin&&(l[d]-=parseInt(a.css("margin"+r))||0,l[d]-=parseInt(a.css("border"+r+"Width"))||0),l[d]+=h[i]||0,s.over[i]&&(l[d]+=a[n=="x"?"width":"height"]()*s.over[i]);else{var g=a[i];l[d]=g.slice&&g.slice(-1)=="%"?parseFloat(g)/100*m:g}s.limit&&/^\d+$/.test(l[d])&&(l[d]=l[d]<=0?0:Math.min(l[d],m)),!e&&s.queue&&(v!=l[d]&&p(s.onAfterFirst),delete l[d])}),p(s.onAfter)}).end()},t.max=function(t,n){var r=n=="x"?"Width":"Height",i="scroll"+r;if(!e(t).is("html,body"))return t[i]-e(t)[r.toLowerCase()]();var s="client"+r,o=t.ownerDocument.documentElement,u=t.ownerDocument.body;return Math.max(o[i],u[i])-Math.min(o[s],u[s])},t}),!function(e,t){function n(e,t){for(var n=0,r=e.length,i=[];r>n;n++)i[n]=t(e[n],n);return i}function r(e){return e}function i(e,a){var f=this,l=t;a=a||{},void 0!==e&&("string"==typeof e?(a.selector=e,e=void 0):"undefined"==typeof e.length&&(a=e,e=void 0)),this.imagesOffScreen=[],this.viewportHeight=l.documentElement.clientHeight,this.selector=a.selector||".delayed-image-load",this.className=a.className||"image-replace",this.gif=l.createElement("img"),this.gif.src="data:image/gif;base64,R0lGODlhEAAJAIAAAP///wAAACH5BAEAAAAALAAAAAAQAAkAAAIKhI+py+0Po5yUFQA7",this.gif.className=this.className,this.gif.alt="",this.scrollDelay=a.scrollDelay||250,this.onResize=a.hasOwnProperty("onResize")?a.onResize:!0,this.lazyload=a.hasOwnProperty("lazyload")?a.lazyload:!1,this.scrolled=!1,this.availablePixelRatios=a.availablePixelRatios||[1,2],this.availableWidths=a.availableWidths||s,this.onImagesReplaced=a.onImagesReplaced||function(){},this.widthsMap={},this.refreshPixelRatio(),this.widthInterpolator=a.widthInterpolator||r,"function"!=typeof this.availableWidths&&("number"==typeof this.availableWidths.length?this.widthsMap=i.createWidthsMap(this.availableWidths,this.widthInterpolator):(this.widthsMap=this.availableWidths,this.availableWidths=o(this.availableWidths)),this.availableWidths=this.availableWidths.sort(function(e,t){return e-t})),e?(this.divs=n(e,r),this.selector=null):this.divs=n(l.querySelectorAll(this.selector),r),this.changeDivsToEmptyImages(),u(function(){f.init()})}var s,o,u,a;u=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||function(t){e.setTimeout(t,1e3/60)},a=function(){return t.addEventListener?function(e,t,n){return e.addEventListener(t,n,!1)}:function(e,t,n){return e.attachEvent("on"+t,n)}}(),s=[96,130,165,200,235,270,304,340,375,410,445,485,520,555,590,625,660,695,736],o="function"==typeof Object.keys?Object.keys:function(e){var t,n=[];for(t in e)n.push(t);return n},i.prototype.scrollCheck=function(){this.scrolled&&(this.imagesOffScreen.length||e.clearInterval(this.interval),this.divs=this.imagesOffScreen.slice(0),this.imagesOffScreen.length=0,this.changeDivsToEmptyImages(),this.scrolled=!1)},i.prototype.init=function(){this.initialized=!0,this.checkImagesNeedReplacing(this.divs),this.onResize&&this.registerResizeEvent(),this.lazyload&&this.registerScrollEvent()},i.prototype.createGif=function(e){if(e.className.match(new RegExp("(^| )"+this.className+"( |$)")))return e;var t=this.gif.cloneNode(!1);return t.width=e.getAttribute("data-width"),t.setAttribute("data-src",e.getAttribute("data-src")),t.setAttribute("alt",e.getAttribute("data-alt")||this.gif.alt),e.parentNode.replaceChild(t,e),t},i.prototype.changeDivsToEmptyImages=function(){var e=this;n(this.divs,function(t,n){e.lazyload?e.isThisElementOnScreen(t)?e.divs[n]=e.createGif(t):e.imagesOffScreen.push(t):e.divs[n]=e.createGif(t)}),this.initialized&&this.checkImagesNeedReplacing(this.divs)},i.prototype.isThisElementOnScreen=function(e){var t=i.getPageOffset(),n=0;if(e.offsetParent)do n+=e.offsetTop;while(e=e.offsetParent);return n<this.viewportHeight+t?!0:!1},i.prototype.checkImagesNeedReplacing=function(e){var t=this;this.isResizing||(this.isResizing=!0,this.refreshPixelRatio(),n(e,function(e){t.replaceImagesBasedOnScreenDimensions(e)}),this.isResizing=!1,this.onImagesReplaced(e))},i.prototype.replaceImagesBasedOnScreenDimensions=function(e){var t,n;t="function"==typeof this.availableWidths?this.availableWidths(e):this.determineAppropriateResolution(e),n=this.changeImageSrcToUseNewImageDimensions(e.getAttribute("data-src"),t),e.src=n},i.prototype.determineAppropriateResolution=function(e){return i.getClosestValue(e.clientWidth,this.availableWidths)},i.prototype.refreshPixelRatio=function(){this.devicePixelRatio=i.getClosestValue(i.getPixelRatio(),this.availablePixelRatios)},i.prototype.changeImageSrcToUseNewImageDimensions=function(e,t){return e.replace(/{width}/g,i.transforms.width(t,this.widthsMap)).replace(/{pixel_ratio}/g,i.transforms.pixelRatio(this.devicePixelRatio))},i.getPixelRatio=function(t){return(t||e).devicePixelRatio||1},i.createWidthsMap=function(e,t){for(var n={},r=e.length;r--;)n[e[r]]=t(e[r]);return n},i.transforms={pixelRatio:function(e){return 1===e?"":"-"+e+"x"},width:function(e,t){return t[e]||e}},i.getClosestValue=function(e,t){for(var n=t.length,r=t[n-1];n--;)e<=t[n]&&(r=t[n]);return r},i.prototype.registerResizeEvent=function(){var t=this;a(e,"resize",function(){t.checkImagesNeedReplacing(t.divs)})},i.prototype.registerScrollEvent=function(){var t=this;this.scrolled=!1,this.interval=e.setInterval(function(){t.scrollCheck()},t.scrollDelay),a(e,"scroll",function(){t.scrolled=!0})},i.getPageOffsetGenerator=function(n){return n?function(){return e.pageYOffset}:function(){return t.documentElement.scrollTop}},i.getPageOffset=i.getPageOffsetGenerator(Object.prototype.hasOwnProperty.call(e,"pageYOffset")),i.applyEach=n,"object"==typeof module&&"object"==typeof module.exports?module.exports=exports=i:"function"==typeof define&&define.amd?define("imager",[],function(){return i}):"object"==typeof e&&(e.Imager=i)}(window,document),define("views/pages/_page",["namespace","jquery","underscore","backbone"],function(e,t,n,r){var i=e.app;return r.View.extend({className:"surface",page_name:"",page_title:"",page_template:null,initialize:function(e){return this.$surface_container=e.$surface_container,this.template=n.template(this.page_template),this._pageInit(e),this},_pageInit:function(){},render:function(){return this.$el.append(this.template()).addClass(this.page_name.toLowerCase()),this.$surface_container.append(this.$el),this.$page_content=this.$el.find(".content"),this._renderPageContent(),this._setPageTitle(),this},_renderPageContent:function(){},show:function(){return this._setPageTitle(),this.animate_in(),this},hide:function(e){return this.animate_out(e),this},animate_in:function(){},animate_out:function(){},_setPageTitle:function(){this.page_title?document.title=this.page_title+" | Mike Rockall [dot] com":document.title="Mike Rockall [dot] com"}})}),define("text",["module"],function(e){var t,n,r,i,s,o=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],u=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,a=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,f=typeof location!="undefined"&&location.href,l=f&&location.protocol&&location.protocol.replace(/\:/,""),c=f&&location.hostname,h=f&&(location.port||undefined),p={},d=e.config&&e.config()||{};t={version:"2.0.10",strip:function(e){if(e){e=e.replace(u,"");var t=e.match(a);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:d.createXhr||function(){var e,t,n;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;if(typeof ActiveXObject!="undefined")for(t=0;t<3;t+=1){n=o[t];try{e=new ActiveXObject(n)}catch(r){}if(e){o=[n];break}}return e},parseName:function(e){var t,n,r,i=!1,s=e.indexOf("."),o=e.indexOf("./")===0||e.indexOf("../")===0;return s!==-1&&(!o||s>1)?(t=e.substring(0,s),n=e.substring(s+1,e.length)):t=e,r=n||t,s=r.indexOf("!"),s!==-1&&(i=r.substring(s+1)==="strip",r=r.substring(0,s),n?n=r:t=r),{moduleName:t,ext:n,strip:i}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,n,r,i){var s,o,u,a=t.xdRegExp.exec(e);return a?(s=a[2],o=a[3],o=o.split(":"),u=o[1],o=o[0],(!s||s===n)&&(!o||o.toLowerCase()===r.toLowerCase())&&(!u&&!o||u===i)):!0},finishLoad:function(e,n,r,i){r=n?t.strip(r):r,d.isBuild&&(p[e]=r),i(r)},load:function(e,n,r,i){if(i.isBuild&&!i.inlineText){r();return}d.isBuild=i.isBuild;var s=t.parseName(e),o=s.moduleName+(s.ext?"."+s.ext:""),u=n.toUrl(o),a=d.useXhr||t.useXhr;if(u.indexOf("empty:")===0){r();return}!f||a(u,l,c,h)?t.get(u,function(n){t.finishLoad(e,s.strip,n,r)},function(e){r.error&&r.error(e)}):n([o],function(e){t.finishLoad(s.moduleName+"."+s.ext,s.strip,e,r)})},write:function(e,n,r,i){if(p.hasOwnProperty(n)){var s=t.jsEscape(p[n]);r.asModule(e+"!"+n,"define(function () { return '"+s+"';});\n")}},writeFile:function(e,n,r,i,s){var o=t.parseName(n),u=o.ext?"."+o.ext:"",a=o.moduleName+u,f=r.toUrl(o.moduleName+u)+".js";t.load(a,r,function(n){var r=function(e){return i(f,e)};r.asModule=function(e,t){return i.asModule(e,f,t)},t.write(e,a,r,s)},s)}};if(d.env==="node"||!d.env&&typeof process!="undefined"&&process.versions&&!!process.versions.node&&!process.versions["node-webkit"])n=require.nodeRequire("fs"),t.get=function(e,t,r){try{var i=n.readFileSync(e,"utf8");i.indexOf("")===0&&(i=i.substring(1)),t(i)}catch(s){r(s)}};else if(d.env==="xhr"||!d.env&&t.createXhr())t.get=function(e,n,r,i){var s=t.createXhr(),o;s.open("GET",e,!0);if(i)for(o in i)i.hasOwnProperty(o)&&s.setRequestHeader(o.toLowerCase(),i[o]);d.onXhr&&d.onXhr(s,e),s.onreadystatechange=function(t){var i,o;s.readyState===4&&(i=s.status,i>399&&i<600?(o=new Error(e+" HTTP status: "+i),o.xhr=s,r(o)):n(s.responseText),d.onXhrComplete&&d.onXhrComplete(s,e))},s.send(null)};else if(d.env==="rhino"||!d.env&&typeof Packages!="undefined"&&typeof java!="undefined")t.get=function(e,t){var n,r,i="utf-8",s=new java.io.File(e),o=java.lang.System.getProperty("line.separator"),u=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(s),i)),a="";try{n=new java.lang.StringBuffer,r=u.readLine(),r&&r.length()&&r.charAt(0)===65279&&(r=r.substring(1)),r!==null&&n.append(r);while((r=u.readLine())!==null)n.append(o),n.append(r);a=String(n.toString())}finally{u.close()}t(a)};else if(d.env==="xpconnect"||!d.env&&typeof Components!="undefined"&&Components.classes&&Components.interfaces)r=Components.classes,i=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),s="@mozilla.org/windows-registry-key;1"in r,t.get=function(e,t){var n,o,u,a={};s&&(e=e.replace(/\//g,"\\")),u=new FileUtils.File(e);try{n=r["@mozilla.org/network/file-input-stream;1"].createInstance(i.nsIFileInputStream),n.init(u,1,0,!1),o=r["@mozilla.org/intl/converter-input-stream;1"].createInstance(i.nsIConverterInputStream),o.init(n,"utf-8",n.available(),i.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),o.readString(n.available(),a),o.close(),n.close(),t(a.value)}catch(f){throw new Error((u&&u.path||"")+": "+f)}};return t}),define("text!templates/home.html",[],function(){return'<div class="surface-content">\n  <div class="header">\n    <div id="canvas" class="title">\n      <svg version="1.1" class="desktop" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="-250 -8.667 500 167.334" enable-background="new -250 -8.667 500 167.334" xml:space="preserve">\n        <path d="M-225.712,93.626l-10.452-37.335h-0.292c0.133,1.999,0.236,3.926,0.322,5.792c0.043,0.807,0.085,1.63,0.116,2.476\n          c0.03,0.845,0.064,1.682,0.099,2.506c0.034,0.828,0.052,1.617,0.064,2.377c0.013,0.759,0.017,1.445,0.017,2.051v22.134h-9.014\n          V46.037h13.738l10.28,36.391h0.198l10.94-36.391h13.738v47.589h-9.409V71.102c0-0.566,0.004-1.206,0.013-1.922\n          c0.017-0.717,0.03-1.477,0.052-2.278c0.021-0.803,0.051-1.618,0.082-2.441c0.034-0.824,0.06-1.631,0.081-2.411\n          c0.086-1.819,0.163-3.72,0.232-5.698h-0.266l-11.258,37.275H-225.712L-225.712,93.626z"/>\n        <path d="M-166.178,93.626h-21.645v-5.728l5.792-2.673V54.438l-5.792-2.673v-5.728h21.645v5.728l-5.796,2.673v30.788l5.796,2.673\n          V93.626z"/>\n        <path d="M-121.776,93.626h-11.456l-10.94-19.792l-3.776,2.802v16.99h-10.091V46.037h10.091v22.915l3.973-6.74l10.872-16.175\n          h11.194l-15.201,21.452L-121.776,93.626z"/>\n        <path d="M-88.38,93.626h-27.407V46.037h27.407v8.268h-17.316v10.447h16.111v8.268h-16.111v12.274h17.316V93.626L-88.38,93.626z"/>\n        <path d="M46.159,69.768c0,3.668-0.429,7.006-1.287,10.026c-0.85,3.012-2.163,5.595-3.921,7.748\n          c-1.75,2.146-3.973,3.806-6.65,4.978c-2.686,1.175-5.844,1.759-9.49,1.759c-3.647,0-6.813-0.584-9.491-1.759\n          c-2.677-1.172-4.891-2.832-6.642-4.978c-1.746-2.153-3.046-4.736-3.904-7.766c-0.858-3.028-1.287-6.384-1.287-10.073\n          c0-3.69,0.429-7.037,1.287-10.044c0.858-3.008,2.163-5.573,3.922-7.697c1.759-2.128,3.981-3.771,6.659-4.93\n          c2.677-1.167,5.852-1.742,9.516-1.742c3.646,0,6.805,0.575,9.473,1.742c2.668,1.158,4.882,2.806,6.625,4.942\n          c1.75,2.137,3.055,4.711,3.904,7.714C45.73,62.696,46.159,66.056,46.159,69.768z M13.869,69.768c0,2.492,0.215,4.731,0.652,6.723\n          c0.438,1.982,1.098,3.664,2,5.046c0.901,1.372,2.034,2.437,3.406,3.17c1.365,0.738,2.995,1.107,4.883,1.107\n          c1.931,0,3.586-0.369,4.959-1.107c1.382-0.733,2.506-1.798,3.39-3.17c0.875-1.382,1.527-3.063,1.948-5.046\n          c0.429-1.991,0.635-4.23,0.635-6.723c0-2.497-0.206-4.737-0.635-6.724c-0.42-1.986-1.073-3.673-1.948-5.062\n          c-0.884-1.391-2-2.454-3.373-3.192c-1.364-0.737-3.003-1.106-4.917-1.106c-1.888,0-3.527,0.369-4.908,1.106\n          c-1.39,0.738-2.54,1.802-3.441,3.192c-0.901,1.39-1.562,3.076-2,5.062C14.092,65.03,13.869,67.271,13.869,69.768z"/>\n        <path d="M76.209,53.751c-1.931,0-3.638,0.378-5.131,1.124c-1.484,0.747-2.729,1.819-3.741,3.222\n          c-1.004,1.399-1.776,3.103-2.291,5.11c-0.523,2.008-0.781,4.256-0.781,6.753c0,2.54,0.231,4.797,0.695,6.771\n          c0.472,1.978,1.184,3.643,2.153,4.998c0.961,1.36,2.197,2.39,3.707,3.094c1.511,0.703,3.304,1.06,5.389,1.06\n          c1.931,0,3.87-0.219,5.81-0.652c1.947-0.433,4.059-1.051,6.332-1.857v8.465c-1.038,0.434-2.067,0.803-3.089,1.107\n          c-1.021,0.305-2.06,0.553-3.123,0.75c-1.064,0.193-2.154,0.34-3.278,0.438c-1.115,0.094-2.316,0.146-3.595,0.146\n          c-3.664,0-6.848-0.584-9.534-1.759c-2.694-1.172-4.917-2.823-6.675-4.947c-1.759-2.124-3.063-4.689-3.904-7.684\n          c-0.85-2.995-1.27-6.324-1.27-9.988c0-3.604,0.489-6.908,1.467-9.915c0.97-3.008,2.403-5.591,4.291-7.762\n          c1.896-2.171,4.222-3.861,7.002-5.062c2.78-1.206,5.972-1.811,9.567-1.811c2.368,0,4.736,0.3,7.113,0.9\n          c2.377,0.593,4.651,1.416,6.822,2.454l-3.252,8.204c-1.785-0.846-3.57-1.584-5.372-2.214\n          C79.719,54.068,77.942,53.751,76.209,53.751z"/>\n        <path d="M134.73,93.626h-11.455l-10.933-19.792l-3.784,2.802v16.99H98.468V46.037h10.091v22.915l3.974-6.74l10.871-16.175h11.198\n          l-15.196,21.452L134.73,93.626z"/>\n        <path d="M167.87,93.626L164.617,82.3h-16.406l-3.286,11.326H134.73l15.463-47.786h12.339l15.531,47.786H167.87z M162.275,73.834\n          l-3.063-10.412c-0.129-0.395-0.326-1.034-0.584-1.923c-0.266-0.892-0.54-1.87-0.832-2.947c-0.292-1.072-0.566-2.153-0.832-3.239\n          c-0.258-1.081-0.446-2.008-0.55-2.763c-0.086,0.477-0.206,1.038-0.343,1.69c-0.138,0.652-0.301,1.339-0.489,2.067\n          c-0.181,0.726-0.378,1.459-0.566,2.197c-0.197,0.738-0.378,1.433-0.558,2.085c-0.172,0.647-0.326,1.223-0.472,1.725\n          c-0.138,0.498-0.241,0.867-0.31,1.107l-3.029,10.412H162.275z"/>\n        <path d="M184.045,93.626V46.037h10.091v39.257h17.324v8.332H184.045z"/>\n        <path d="M219.724,93.626V46.037h10.091v39.257h17.316v8.332H219.724z"/>\n        \n        <g class="subtext">\n          <path d="M16.855,87.251c0,1.565-1.304,2.865-2.875,2.865c-4.308,0-8.873-8.997-10.829-13.433\n            c-3.784-8.74-9.521-20.873-27.133-23.225c-1.433-0.129-2.479-1.433-2.479-2.866c0-1.698,1.175-3.003,2.737-3.003\n            c13.961,0,28.964-4.437,28.964-16.437c0-15.394-19.568-23.614-37.571-23.614c-11.219,0-18.526,4.179-18.526,10.177\n            c0,3.522,2.218,5.607,3.913,6.916c4.698-5.874,12.133-8.873,21.658-8.873c9.525,0,16.308,4.437,16.308,10.306\n            c0,5.479-6.783,9.525-19.312,9.525c-4.822,0-11.086-0.914-16.565-3.261c-1.961,4.303-2.999,9.915-2.999,16.96\n            c0,15.261,1.828,27.656,5.088,34.829c0.257,0.523,0.386,0.919,0.386,1.305c0,1.566-1.304,2.87-2.866,2.87\n            c-1.175,0-2.218-0.652-2.742-1.694c-3.78-8.092-5.736-21.006-5.736-37.31c0-7.959,1.305-14.613,3.78-19.702\n            c-5.479-3.913-6.783-8.478-6.783-11.872c0-7.568,6.521-15.523,24.395-15.523c22.83,0,43.445,10.696,43.445,28.956\n            c0,10.31-8.744,18.788-22.181,20.354C0.805,57.114,5.108,67.42,8.369,74.203c1.965,4.175,3.655,8.479,6.659,10.306\n            C16.066,85.165,16.855,86.075,16.855,87.251z M-41.983,27.502c3.913,1.433,9.001,2.609,13.695,2.609\n            c9.396,0,13.438-2.223,13.438-4.046c0-2.613-3.913-4.569-10.435-4.569C-35.724,21.496-40.156,25.674-41.983,27.502z"/>\n          <path d="M-99.896,122.758c0,2.75-1.501,5.2-3.896,6.702c0.498,6.547-4.604,13.094-15.454,13.094\n            c-9.594,0-15.694-5.899-15.694-13.296c0-5.95,3.046-9.4,6.397-11.15c-0.249-0.747-0.348-1.549-0.348-2.398\n            c0-4.252,3.149-6.801,6.195-6.801c3.501,0,4.501,2.45,4.501,3.398c0,0.601-0.502,1.103-1.15,1.103\n            c-0.549,0-0.948-0.399-1.051-0.901c-0.197-1.051-1.296-1.549-2.3-1.549c-1.948,0-3.947,1.601-3.947,4.75\n            c0,0.502,0,1.051,0.103,1.549c1.047-0.45,2.394-0.652,3.295-0.652c4.102,0,5.801,1.999,5.801,3.999c0,2.3-1.948,3.449-3.849,3.449\n            c-2.051,0-4.899-0.995-6.5-4.05c-3.646,2.102-4.899,5.702-4.899,9.25c0,6.35,5.35,11.249,13.446,11.249\n            c9.104,0,13.249-5.148,13.3-10.048c-1.047,0.399-2.351,0.601-3.647,0.601c-4.702,0-7.8-2.3-7.8-5.702\n            c0-2.449,2.248-4.449,5.097-4.449c3.45,0,6.805,2.248,8.049,6.2c1.952-1.601,2.154-3.6,2.154-4.397c0-1.305-0.455-2.403-1.103-3.45\n            c-0.15-0.253-0.249-0.454-0.249-0.652c0-0.651,0.451-1.098,1.099-1.098c0.352,0,0.648,0.146,0.901,0.398\n            C-100.445,119.407-99.896,121.11-99.896,122.758z M-123.244,118.656c-0.695,0-1.845,0.15-2.694,0.502\n            c1.245,2.099,3.398,2.849,4.646,2.849c0.7,0,1.652-0.398,1.652-1.402C-119.64,119.609-120.944,118.656-123.244,118.656z\n             M-109.592,129.005c1.201,0,2.497-0.197,3.595-0.647c-0.896-3.402-3.346-5.402-6.247-5.402c-1.802,0-2.9,1.15-2.9,2.403\n            C-115.144,127.855-112.342,129.005-109.592,129.005z"/>\n          <path d="M-188.416,138.529h-5.723l-2.935-11.729c-0.043-0.163-0.095-0.395-0.155-0.687c-0.056-0.292-0.125-0.622-0.197-0.991\n            c-0.077-0.369-0.154-0.755-0.231-1.154c-0.078-0.403-0.146-0.794-0.21-1.176c-0.064-0.377-0.125-0.729-0.167-1.047\n            c-0.051-0.321-0.085-0.579-0.111-0.771c-0.017,0.192-0.052,0.45-0.103,0.771c-0.047,0.318-0.103,0.665-0.172,1.039\n            c-0.064,0.377-0.128,0.764-0.201,1.167c-0.069,0.398-0.142,0.785-0.21,1.153c-0.069,0.369-0.137,0.708-0.206,1.009\n            c-0.06,0.305-0.12,0.545-0.163,0.721l-2.9,11.695h-5.745l-5.728-23.794h4.959l2.703,12.991c0.034,0.172,0.077,0.425,0.137,0.755\n            s0.129,0.704,0.206,1.115c0.077,0.412,0.154,0.85,0.236,1.305s0.159,0.901,0.236,1.334c0.077,0.434,0.146,0.837,0.21,1.215\n            c0.064,0.368,0.116,0.678,0.146,0.918c0.03-0.24,0.082-0.545,0.142-0.91c0.06-0.368,0.12-0.764,0.184-1.184\n            c0.064-0.416,0.142-0.85,0.219-1.296c0.081-0.446,0.154-0.858,0.223-1.244c0.06-0.382,0.129-0.726,0.185-1.021\n            c0.06-0.3,0.107-0.515,0.142-0.644l3.304-13.33h4.428l3.304,13.33c0.03,0.129,0.077,0.344,0.137,0.644\n            c0.06,0.296,0.129,0.64,0.197,1.021c0.069,0.386,0.146,0.802,0.219,1.244c0.073,0.446,0.15,0.88,0.219,1.296\n            c0.069,0.42,0.138,0.815,0.198,1.184c0.06,0.369,0.103,0.67,0.137,0.91c0.034-0.24,0.077-0.55,0.137-0.918\n            c0.06-0.378,0.129-0.781,0.206-1.215c0.073-0.433,0.154-0.879,0.231-1.334c0.086-0.455,0.163-0.893,0.24-1.305\n            c0.077-0.411,0.146-0.78,0.202-1.115c0.056-0.33,0.107-0.583,0.142-0.755l2.699-12.991h4.964L-188.416,138.529z"/>\n          <path d="M-165.985,138.529h-13.704v-23.794h13.704v4.136h-8.658v5.226h8.057v4.136h-8.057v6.136h8.658V138.529z"/>\n          <path d="M-161.021,114.735h6.963c1.501,0,2.814,0.106,3.938,0.317c1.133,0.214,2.077,0.558,2.832,1.029\n            c0.764,0.472,1.334,1.09,1.716,1.854c0.386,0.764,0.583,1.708,0.583,2.823c0,0.674-0.086,1.305-0.249,1.888\n            c-0.163,0.584-0.399,1.099-0.712,1.545c-0.317,0.446-0.699,0.814-1.15,1.115c-0.451,0.3-0.97,0.498-1.553,0.597v0.158\n            c0.597,0.133,1.15,0.322,1.665,0.566c0.515,0.24,0.97,0.575,1.356,1.009c0.386,0.429,0.687,0.965,0.91,1.617\n            s0.334,1.441,0.334,2.377c0,1.085-0.193,2.055-0.57,2.904c-0.382,0.854-0.923,1.575-1.635,2.167\n            c-0.712,0.592-1.579,1.047-2.591,1.359c-1.013,0.313-2.163,0.468-3.441,0.468h-8.396V114.735z M-155.976,124.161h2.622\n            c0.626,0,1.154-0.056,1.579-0.172c0.421-0.115,0.764-0.287,1.021-0.511c0.262-0.231,0.45-0.515,0.566-0.857\n            c0.111-0.339,0.171-0.738,0.171-1.193c0-0.909-0.288-1.565-0.858-1.965c-0.566-0.395-1.476-0.592-2.712-0.592h-2.39V124.161z\n             M-155.976,128.164v6.204h2.965c0.661,0,1.218-0.077,1.665-0.231c0.451-0.15,0.815-0.369,1.09-0.652\n            c0.274-0.279,0.476-0.622,0.596-1.021c0.116-0.403,0.176-0.85,0.176-1.339c0-0.441-0.06-0.845-0.176-1.21\n            c-0.12-0.364-0.322-0.678-0.613-0.935c-0.283-0.262-0.661-0.464-1.128-0.601c-0.468-0.146-1.047-0.215-1.738-0.215H-155.976z"/>\n          <path d="M-78.795,137.835l-5.222-18.664h-0.146c0.064,0.996,0.116,1.966,0.163,2.896c0.021,0.399,0.039,0.811,0.056,1.24\n            c0.018,0.42,0.035,0.841,0.052,1.252c0.017,0.412,0.026,0.807,0.03,1.185c0.004,0.378,0.004,0.721,0.004,1.025v11.065h-4.505\n            V114.04h6.865l5.148,18.2h0.094l5.47-18.2h6.869v23.795h-4.707v-11.259c0-0.283,0.004-0.601,0.009-0.961\n            c0.004-0.355,0.013-0.737,0.025-1.141c0.013-0.399,0.026-0.807,0.039-1.219c0.017-0.412,0.03-0.815,0.043-1.201\n            c0.043-0.914,0.082-1.862,0.112-2.849h-0.129l-5.629,18.629H-78.795z"/>\n          <path d="M-37.65,125.907c0,1.836-0.215,3.505-0.644,5.012c-0.429,1.51-1.082,2.801-1.957,3.874\n            c-0.884,1.076-1.991,1.904-3.33,2.492c-1.338,0.584-2.921,0.876-4.745,0.876c-1.819,0-3.402-0.292-4.745-0.876\n            c-1.338-0.588-2.445-1.416-3.321-2.492c-0.871-1.073-1.523-2.368-1.948-3.883c-0.429-1.511-0.644-3.192-0.644-5.037\n            s0.214-3.519,0.644-5.02c0.429-1.502,1.081-2.789,1.957-3.849c0.884-1.06,1.991-1.884,3.329-2.467\n            c1.339-0.58,2.926-0.867,4.763-0.867c1.819,0,3.398,0.287,4.736,0.867c1.33,0.583,2.437,1.407,3.312,2.476\n            c0.871,1.067,1.523,2.354,1.948,3.856C-37.865,122.372-37.65,124.054-37.65,125.907z M-53.791,125.907\n            c0,1.248,0.103,2.368,0.322,3.363c0.219,0.991,0.553,1.828,1,2.523c0.455,0.687,1.021,1.214,1.704,1.587\n            c0.682,0.369,1.497,0.55,2.441,0.55c0.965,0,1.793-0.185,2.48-0.55c0.695-0.369,1.253-0.9,1.699-1.587\n            c0.438-0.695,0.764-1.536,0.974-2.523c0.21-0.995,0.317-2.115,0.317-3.363s-0.107-2.368-0.317-3.363\n            c-0.21-0.991-0.536-1.832-0.974-2.527c-0.442-0.695-1.004-1.228-1.69-1.592c-0.678-0.369-1.502-0.558-2.454-0.558\n            c-0.944,0-1.768,0.188-2.463,0.558c-0.691,0.364-1.261,0.896-1.716,1.592c-0.446,0.695-0.781,1.536-1,2.527\n            C-53.688,123.539-53.791,124.663-53.791,125.907z"/>\n          <path d="M-32.733,114.04h6.968c1.498,0,2.81,0.107,3.938,0.321c1.128,0.211,2.072,0.554,2.832,1.025\n            c0.759,0.473,1.33,1.09,1.716,1.854c0.386,0.764,0.575,1.708,0.575,2.823c0,0.674-0.077,1.305-0.24,1.888\n            c-0.163,0.584-0.403,1.103-0.721,1.545c-0.309,0.446-0.695,0.819-1.142,1.115c-0.455,0.301-0.97,0.498-1.557,0.597v0.163\n            c0.596,0.129,1.154,0.317,1.669,0.562c0.515,0.24,0.965,0.579,1.352,1.009c0.386,0.429,0.69,0.965,0.909,1.617\n            c0.223,0.652,0.335,1.441,0.335,2.377c0,1.086-0.193,2.056-0.571,2.909c-0.377,0.85-0.927,1.57-1.635,2.162\n            c-0.712,0.592-1.574,1.047-2.587,1.36c-1.013,0.312-2.163,0.472-3.441,0.472h-8.401V114.04L-32.733,114.04z M-27.688,123.466h2.621\n            c0.631,0,1.154-0.056,1.579-0.172c0.425-0.115,0.768-0.283,1.025-0.51c0.257-0.232,0.446-0.516,0.562-0.858\n            c0.116-0.339,0.167-0.738,0.167-1.192c0-0.91-0.283-1.566-0.85-1.961c-0.571-0.399-1.476-0.597-2.711-0.597h-2.394V123.466z\n             M-27.688,127.469v6.204h2.96c0.665,0,1.218-0.077,1.673-0.231c0.446-0.15,0.811-0.369,1.09-0.652\n            c0.275-0.279,0.472-0.618,0.592-1.021s0.18-0.849,0.18-1.338c0-0.442-0.06-0.846-0.18-1.21c-0.12-0.36-0.322-0.674-0.609-0.936\n            s-0.665-0.464-1.133-0.601c-0.463-0.146-1.047-0.215-1.742-0.215H-27.688z"/>\n          <path d="M-2.752,137.835h-10.825v-2.862l2.896-1.334v-15.395l-2.896-1.338v-2.862h10.825v2.862l-2.9,1.338v15.395l2.9,1.334\n            V137.835z"/>\n          <path d="M1.315,137.835V114.04h5.046v19.633h8.658v4.162H1.315z"/>\n          <path d="M32.859,137.835H19.155V114.04h13.704v4.136h-8.658v5.226h8.058v4.137h-8.058v6.135h8.658V137.835z"/>\n          <path d="M64.891,125.714c0,2.004-0.274,3.768-0.823,5.282c-0.55,1.51-1.339,2.775-2.377,3.792c-1.039,1.013-2.308,1.776-3.81,2.283\n            c-1.501,0.51-3.209,0.764-5.131,0.764h-6.264V114.04h6.959c1.75,0,3.329,0.253,4.728,0.751c1.407,0.502,2.608,1.239,3.612,2.223\n            c0.996,0.982,1.759,2.2,2.299,3.65C64.625,122.123,64.891,123.805,64.891,125.714z M59.777,125.843\n            c0-1.325-0.129-2.467-0.395-3.428c-0.266-0.961-0.652-1.755-1.159-2.386c-0.506-0.626-1.124-1.094-1.854-1.398\n            s-1.57-0.455-2.514-0.455h-2.325v15.497h1.854c2.128,0,3.724-0.652,4.788-1.956C59.245,130.416,59.777,128.456,59.777,125.843z"/>\n          <path d="M83.528,137.835H69.825V114.04h13.703v4.136H74.87v5.226h8.049v4.137H74.87v6.135h8.658V137.835z"/>\n          <path d="M100.725,114.04h5.097l-7.422,23.795h-5.501l-7.405-23.795h5.098l4.033,14.321c0.051,0.188,0.128,0.498,0.223,0.931\n            c0.086,0.434,0.188,0.914,0.292,1.429c0.103,0.523,0.197,1.047,0.3,1.566c0.095,0.52,0.172,0.957,0.224,1.317\n            c0.06-0.36,0.137-0.798,0.231-1.317s0.206-1.043,0.309-1.558c0.112-0.515,0.215-0.986,0.317-1.42\n            c0.104-0.434,0.181-0.751,0.24-0.948L100.725,114.04z"/>\n          <path d="M122.52,137.835h-13.703V114.04h13.703v4.136h-8.657v5.226h8.057v4.137h-8.057v6.135h8.657V137.835z"/>\n          <path d="M127.488,137.835V114.04h5.046v19.633h8.657v4.162H127.488z"/>\n          <path d="M165.278,125.907c0,1.836-0.215,3.505-0.644,5.012c-0.429,1.51-1.081,2.801-1.965,3.874\n            c-0.876,1.076-1.982,1.904-3.321,2.492c-1.339,0.584-2.926,0.876-4.745,0.876c-1.827,0-3.406-0.292-4.745-0.876\n            c-1.339-0.588-2.445-1.416-3.32-2.492c-0.876-1.073-1.527-2.368-1.957-3.883c-0.429-1.511-0.644-3.192-0.644-5.037\n            s0.215-3.519,0.644-5.02c0.43-1.502,1.081-2.789,1.965-3.849c0.876-1.06,1.991-1.884,3.33-2.467\n            c1.338-0.58,2.926-0.867,4.762-0.867c1.819,0,3.398,0.287,4.729,0.867c1.339,0.583,2.445,1.407,3.312,2.476\n            c0.876,1.067,1.528,2.354,1.957,3.856S165.278,124.054,165.278,125.907z M149.129,125.907c0,1.248,0.111,2.368,0.326,3.363\n            c0.224,0.991,0.549,1.828,1.004,2.523c0.455,0.687,1.013,1.214,1.699,1.587c0.687,0.369,1.502,0.55,2.445,0.55\n            c0.961,0,1.794-0.185,2.48-0.55c0.686-0.369,1.252-0.9,1.69-1.587c0.445-0.695,0.771-1.536,0.978-2.523\n            c0.215-0.995,0.317-2.115,0.317-3.363s-0.103-2.368-0.317-3.363c-0.214-0.991-0.54-1.832-0.978-2.527\n            c-0.438-0.695-0.996-1.228-1.683-1.592c-0.687-0.369-1.501-0.558-2.454-0.558c-0.952,0-1.768,0.188-2.462,0.558\n            c-0.695,0.364-1.271,0.896-1.717,1.592s-0.78,1.536-1.004,2.527C149.24,123.539,149.129,124.663,149.129,125.907z"/>\n          <path d="M185.641,121.462c0,1.047-0.163,2.043-0.472,2.995c-0.317,0.957-0.833,1.798-1.554,2.522\n            c-0.721,0.729-1.673,1.309-2.849,1.742c-1.185,0.438-2.634,0.652-4.376,0.652h-1.15v8.461h-5.045V114.04h6.607\n            c1.527,0,2.849,0.172,3.964,0.515c1.107,0.344,2.025,0.832,2.746,1.468c0.721,0.635,1.261,1.407,1.604,2.325\n            C185.469,119.266,185.641,120.304,185.641,121.462z M175.24,125.238h0.996c1.415,0,2.488-0.279,3.209-0.841\n            c0.721-0.566,1.081-1.485,1.081-2.755c0-1.18-0.317-2.051-0.97-2.617c-0.644-0.566-1.656-0.85-3.029-0.85h-1.287V125.238\n            L175.24,125.238z"/>\n          <path d="M203.832,137.835h-13.704V114.04h13.704v4.136h-8.658v5.226h8.058v4.137h-8.058v6.135h8.658V137.835z"/>\n          <path d="M213.846,128.705v9.13H208.8V114.04h6.505c3.055,0,5.303,0.592,6.762,1.768c1.45,1.176,2.18,2.965,2.18,5.363c0,0.814-0.112,1.553-0.326,2.214c-0.215,0.66-0.507,1.248-0.875,1.768c-0.361,0.515-0.781,0.961-1.253,1.347c-0.473,0.387-0.961,0.713-1.484,0.97c1.201,1.931,2.282,3.655,3.234,5.175c0.412,0.651,0.815,1.287,1.201,1.904c0.378,0.618,0.729,1.176,1.03,1.661c0.3,0.484,0.549,0.879,0.746,1.171l0.274,0.455h-5.595l-5.156-9.13H213.846L213.846,128.705zM213.846,124.607h1.364c1.398,0,2.402-0.279,3.012-0.841c0.609-0.558,0.91-1.378,0.91-2.467c0-1.125-0.326-1.932-0.979-2.403c-0.652-0.48-1.656-0.721-3.029-0.721h-1.278V124.607L213.846,124.607z"/>\n        </g>\n      </svg>\n      <svg version="1.1" class="mobile" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="231.14 284.445 364.14 222" enable-background="new 231.14 284.445 364.14 222" xml:space="preserve">\n        <path d="M363.45,373.293l-17.639-63.026h-0.494c0.219,3.372,0.401,6.63,0.548,9.781c0.072,1.355,0.139,2.748,0.192,4.175s0.109,2.839,0.162,4.231c0.055,1.394,0.093,2.729,0.111,4.012s0.027,2.436,0.027,3.462v37.367H331.14v-80.338h23.188l17.363,61.433h0.331l18.462-61.433h23.189v80.335h-15.88v-38.024c0-0.953,0.01-2.033,0.029-3.243c0.019-1.209,0.047-2.49,0.082-3.847c0.035-1.356,0.082-2.729,0.138-4.122c0.057-1.393,0.102-2.748,0.139-4.065c0.146-3.076,0.274-6.283,0.385-9.617h-0.441l-19.011,62.917H363.45V373.293z"/>\n        <path d="M463.951,373.293h-36.542v-9.67l9.782-4.507v-51.981l-9.782-4.505v-9.671h36.542v9.671l-9.78,4.505v51.981l9.78,4.507V373.293z"/>\n        <path d="M538.902,373.293h-19.341l-18.463-33.408l-6.375,4.727v28.681h-17.035v-80.335h17.035v38.684l6.702-11.375l18.353-27.308h18.902l-25.659,36.21L538.902,373.293z"/>\n        <path d="M595.28,373.293h-46.268v-80.335h46.265v13.957h-29.232v17.637h27.199v13.957h-27.199v20.715h29.232v14.069H595.28z"/>\n        <path d="M354.268,420.509c0,4.375-0.513,8.361-1.534,11.959c-1.022,3.598-2.583,6.678-4.679,9.24c-2.096,2.563-4.743,4.543-7.94,5.94c-3.197,1.398-6.969,2.098-11.317,2.098s-8.121-0.699-11.318-2.098c-3.197-1.397-5.836-3.377-7.92-5.94c-2.084-2.562-3.637-5.648-4.659-9.261c-1.021-3.611-1.533-7.617-1.533-12.017c0-4.4,0.512-8.393,1.533-11.978c1.022-3.585,2.583-6.646,4.679-9.183s4.743-4.498,7.94-5.883s6.982-2.077,11.355-2.077c4.349,0,8.114,0.692,11.299,2.077c3.184,1.385,5.818,3.352,7.902,5.901c2.084,2.55,3.636,5.618,4.658,9.203C353.755,412.077,354.268,416.083,354.268,420.509z M315.751,420.509c0,2.977,0.258,5.649,0.776,8.018s1.314,4.375,2.388,6.019s2.427,2.905,4.057,3.785s3.572,1.32,5.825,1.32c2.304,0,4.277-0.44,5.921-1.32c1.643-0.879,2.99-2.142,4.038-3.785c1.049-1.644,1.826-3.649,2.33-6.019c0.503-2.369,0.757-5.041,0.757-8.018s-0.252-5.649-0.757-8.018c-0.506-2.369-1.281-4.382-2.33-6.038c-1.048-1.657-2.387-2.926-4.019-3.806c-1.632-0.879-3.585-1.32-5.862-1.32c-2.252,0-4.207,0.441-5.863,1.32c-1.656,0.88-3.021,2.149-4.097,3.806c-1.075,1.656-1.87,3.669-2.388,6.038C316.011,414.86,315.751,417.532,315.751,420.509z"/>\n        <path d="M390.106,401.407c-2.305,0-4.343,0.447-6.115,1.34s-3.262,2.173-4.465,3.843c-1.202,1.67-2.115,3.701-2.736,6.096c-0.621,2.396-0.931,5.08-0.931,8.057c0,3.028,0.278,5.72,0.835,8.076c0.557,2.355,1.411,4.342,2.562,5.96c1.151,1.619,2.627,2.848,4.427,3.689c1.799,0.842,3.94,1.263,6.426,1.263c2.305,0,4.613-0.259,6.932-0.777c2.317-0.519,4.834-1.256,7.552-2.213v10.096c-1.242,0.517-2.472,0.957-3.688,1.32c-1.218,0.362-2.459,0.659-3.728,0.893c-1.27,0.233-2.569,0.407-3.901,0.523s-2.764,0.174-4.291,0.174c-4.375,0-8.167-0.699-11.376-2.098c-3.209-1.397-5.862-3.364-7.96-5.9s-3.649-5.591-4.658-9.163c-1.009-3.571-1.515-7.546-1.515-11.919c0-4.297,0.583-8.239,1.748-11.824c1.164-3.585,2.872-6.671,5.125-9.26c2.254-2.589,5.035-4.601,8.349-6.039c3.312-1.438,7.118-2.155,11.415-2.155c2.821,0,5.649,0.356,8.484,1.068c2.834,0.712,5.546,1.69,8.134,2.933l-3.884,9.784c-2.122-1.009-4.257-1.89-6.405-2.641C394.291,401.783,392.176,401.407,390.106,401.407z"/>\n        <path d="M459.917,448.97H446.25l-13.046-23.606l-4.505,3.34v20.267h-12.037v-56.766h12.037v27.334l4.736-8.038l12.969-19.296h13.355l-18.132,25.587L459.917,448.97z"/>\n        <path d="M499.443,448.97l-3.883-13.511h-19.568l-3.921,13.511h-12.153l18.443-56.998h14.716l18.521,56.998H499.443zM492.765,425.363l-3.649-12.425c-0.156-0.465-0.388-1.229-0.699-2.291s-0.642-2.233-0.991-3.514s-0.679-2.569-0.99-3.863s-0.53-2.394-0.659-3.3c-0.103,0.57-0.24,1.242-0.408,2.019c-0.167,0.777-0.362,1.599-0.583,2.465c-0.22,0.866-0.447,1.741-0.679,2.621c-0.232,0.88-0.452,1.708-0.659,2.485c-0.207,0.777-0.395,1.463-0.563,2.058s-0.292,1.036-0.369,1.32l-3.612,12.425H492.765z"/>\n        <path d="M518.739,448.97v-56.766h12.037v46.826h20.657v9.939H518.739z"/>\n        <path d="M561.294,448.97v-56.766h12.037v46.826h20.656v9.939H561.294z"/>\n        <path stroke="#000000" stroke-width="3" stroke-miterlimit="10" stroke-dasharray="457.8498,457.8498" d="M319.308,441.364c0,1.867-1.556,3.423-3.425,3.423c-5.135,0-10.58-10.736-12.915-16.027c-4.513-10.426-11.358-24.898-32.366-27.699c-1.712-0.156-2.957-1.711-2.957-3.422c0-2.023,1.399-3.579,3.269-3.579c16.65,0,34.545-5.291,34.545-19.608c0-18.362-23.342-28.166-44.816-28.166c-13.382,0-22.096,4.979-22.096,12.138c0,4.201,2.646,6.691,4.668,8.249c5.603-7.002,14.473-10.583,25.832-10.583s19.452,5.291,19.452,12.294c0,6.535-8.091,11.359-23.03,11.359c-5.759,0-13.227-1.09-19.764-3.89c-2.334,5.135-3.578,11.827-3.578,20.229c0,18.206,2.178,32.99,6.067,41.548c0.312,0.623,0.468,1.09,0.468,1.556c0,1.866-1.556,3.422-3.423,3.422c-1.399,0-2.646-0.776-3.269-2.022c-4.513-9.648-6.847-25.055-6.847-44.505c0-9.491,1.556-17.429,4.513-23.498c-6.535-4.668-8.093-10.115-8.093-14.161c0-9.025,7.781-18.518,29.099-18.518c27.231,0,51.819,12.761,51.819,34.545c0,12.294-10.426,22.408-26.455,24.276c14.161,6.691,19.297,18.983,23.187,27.076c2.334,4.979,4.356,10.113,7.937,12.293C318.373,438.875,319.308,439.963,319.308,441.364z M249.125,370.095c4.668,1.711,10.736,3.111,16.339,3.111c11.204,0,16.028-2.646,16.028-4.824c0-3.113-4.669-5.447-12.45-5.447C256.595,362.935,251.305,367.915,249.125,370.095z"/>\n        <g class="subtext">\n          <path d="M337.399,483.868c0,2.161-1.18,4.087-3.064,5.265c0.393,5.146-3.615,10.293-12.14,10.293c-7.542,0-12.336-4.636-12.336-10.45c0-4.675,2.396-7.385,5.028-8.761c-0.196-0.589-0.275-1.218-0.275-1.885c0-3.34,2.476-5.344,4.871-5.344c2.75,0,3.536,1.926,3.536,2.672c0,0.472-0.393,0.865-0.904,0.865c-0.432,0-0.746-0.315-0.825-0.707c-0.157-0.826-1.021-1.219-1.807-1.219c-1.533,0-3.103,1.257-3.103,3.73c0,0.394,0,0.826,0.078,1.219c0.825-0.354,1.886-0.511,2.594-0.511c3.22,0,4.556,1.571,4.556,3.142c0,1.808-1.532,2.711-3.023,2.711c-1.611,0-3.851-0.785-5.108-3.182c-2.867,1.65-3.849,4.479-3.849,7.267c0,4.989,4.203,8.84,10.567,8.84c7.149,0,10.41-4.047,10.45-7.896c-0.825,0.314-1.848,0.472-2.868,0.472c-3.692,0-6.127-1.808-6.127-4.479c0-1.925,1.768-3.496,4.006-3.496c2.711,0,5.344,1.768,6.324,4.87c1.533-1.257,1.689-2.829,1.689-3.456c0-1.021-0.354-1.886-0.864-2.711c-0.117-0.196-0.196-0.354-0.196-0.511c0-0.511,0.354-0.864,0.865-0.864c0.274,0,0.51,0.118,0.706,0.314C336.966,481.236,337.399,482.572,337.399,483.868z M319.053,480.646c-0.551,0-1.454,0.118-2.122,0.394c0.982,1.649,2.672,2.237,3.653,2.237c0.551,0,1.297-0.313,1.297-1.1C321.881,481.394,320.86,480.646,319.053,480.646z M329.777,488.778c0.943,0,1.966-0.157,2.828-0.511c-0.706-2.672-2.632-4.243-4.91-4.243c-1.414,0-2.2790.904-2.279,1.887C325.417,487.875,327.616,488.778,329.777,488.778z"/>\n          <path d="M267.841,496.264h-4.502l-2.301-9.221c-0.034-0.128-0.075-0.306-0.122-0.536c-0.047-0.231-0.101-0.49-0.159-0.781c-0.059-0.29-0.119-0.593-0.179-0.908c-0.06-0.314-0.115-0.622-0.166-0.921c-0.051-0.299-0.096-0.572-0.134-0.824s-0.066-0.455-0.083-0.608c-0.018,0.153-0.045,0.356-0.083,0.608s-0.083,0.523-0.134,0.817c-0.051,0.295-0.104,0.6-0.159,0.916c-0.055,0.314-0.111,0.617-0.166,0.907c-0.054,0.29-0.109,0.555-0.159,0.794c-0.051,0.238-0.094,0.427-0.128,0.562l-2.281,9.194h-4.515l-4.501-18.697h3.9l2.123,10.206c0.025,0.136,0.062,0.335,0.109,0.596c0.047,0.258,0.101,0.552,0.159,0.875c0.06,0.325,0.122,0.665,0.186,1.023c0.064,0.359,0.125,0.708,0.185,1.049c0.061,0.342,0.115,0.66,0.166,0.953c0.052,0.294,0.089,0.535,0.115,0.723c0.025-0.188,0.062-0.427,0.109-0.716s0.096-0.599,0.147-0.928c0.051-0.329,0.109-0.667,0.172-1.018c0.063-0.35,0.121-0.675,0.172-0.977c0.051-0.303,0.1-0.572,0.147-0.806c0.047-0.235,0.083-0.403,0.109-0.506l2.596-10.476h3.479l2.596,10.476c0.025,0.103,0.062,0.271,0.109,0.506c0.047,0.233,0.098,0.503,0.153,0.806c0.056,0.302,0.114,0.628,0.173,0.977c0.059,0.35,0.117,0.688,0.172,1.018c0.055,0.329,0.107,0.637,0.154,0.928s0.083,0.528,0.109,0.716c0.025-0.188,0.062-0.429,0.108-0.723c0.047-0.293,0.101-0.612,0.16-0.953c0.059-0.34,0.121-0.69,0.185-1.049c0.065-0.357,0.126-0.698,0.186-1.023c0.06-0.323,0.113-0.615,0.16-0.875c0.045-0.263,0.082-0.46,0.108-0.596l2.123-10.206h3.9L267.841,496.264z"/>\n          <path d="M285.464,496.264h-10.768v-18.698h10.768v3.25h-6.803v4.104h6.331v3.25h-6.331v4.82h6.803V496.264z"/>\n          <path d="M289.365,477.565h5.474c1.176,0,2.208,0.083,3.095,0.251c0.887,0.166,1.628,0.434,2.226,0.805c0.597,0.371,1.046,0.857,1.349,1.458c0.303,0.602,0.454,1.342,0.454,2.219c0,0.528-0.064,1.023-0.192,1.483s-0.315,0.865-0.563,1.215c-0.248,0.349-0.548,0.642-0.901,0.877c-0.354,0.233-0.76,0.389-1.221,0.467v0.127c0.469,0.104,0.905,0.25,1.311,0.441c0.405,0.19,0.758,0.457,1.062,0.794s0.541,0.76,0.717,1.271c0.174,0.512,0.262,1.134,0.262,1.867c0,0.853-0.149,1.614-0.448,2.283c-0.298,0.669-0.727,1.236-1.285,1.702c-0.559,0.464-1.236,0.82-2.033,1.068c-0.797,0.247-1.698,0.369-2.705,0.369h-6.599V477.565zM293.329,484.971h2.06c0.494,0,0.907-0.045,1.241-0.134c0.333-0.09,0.602-0.224,0.806-0.403c0.204-0.179,0.351-0.402,0.44-0.671s0.134-0.582,0.134-0.939c0-0.716-0.224-1.23-0.671-1.541c-0.448-0.312-1.158-0.467-2.129-0.467h-1.88V484.971L293.329,484.971zM293.329,488.117v4.873h2.328c0.521,0,0.957-0.061,1.311-0.18c0.353-0.119,0.64-0.29,0.856-0.511c0.217-0.223,0.374-0.49,0.467-0.806c0.094-0.315,0.141-0.664,0.141-1.049c0-0.35-0.047-0.667-0.141-0.952c-0.093-0.287-0.252-0.531-0.479-0.736c-0.226-0.206-0.523-0.362-0.889-0.474c-0.365-0.111-0.823-0.166-1.368-0.166H293.329L293.329,488.117z"/>\n          <path d="M353.981,495.718l-4.106-14.668h-0.113c0.051,0.784,0.093,1.543,0.127,2.276c0.018,0.315,0.031,0.64,0.045,0.973c0.013,0.333,0.024,0.66,0.037,0.984c0.014,0.323,0.021,0.635,0.025,0.934c0.003,0.297,0.007,0.566,0.007,0.805v8.696h-3.543v-18.697h5.397l4.041,14.298h0.076l4.299-14.298h5.396v18.697h-3.696v-8.85c0-0.222,0.002-0.474,0.007-0.753c0.003-0.281,0.011-0.58,0.019-0.896c0.009-0.314,0.02-0.634,0.031-0.959c0.013-0.323,0.023-0.639,0.032-0.945c0.033-0.716,0.064-1.463,0.09-2.238h-0.103l-4.424,14.642H353.981z"/>\n          <path d="M386.312,486.345c0,1.439-0.168,2.753-0.505,3.938c-0.338,1.185-0.851,2.199-1.541,3.043s-1.563,1.496-2.616,1.957c-1.051,0.46-2.295,0.69-3.728,0.69c-1.432,0-2.675-0.23-3.728-0.69c-1.054-0.461-1.923-1.113-2.609-1.957s-1.198-1.86-1.535-3.05c-0.335-1.189-0.505-2.509-0.505-3.958c0-1.45,0.168-2.766,0.505-3.946s0.851-2.189,1.541-3.023c0.691-0.835,1.563-1.481,2.615-1.938s2.3-0.685,3.741-0.685c1.433,0,2.673,0.229,3.722,0.685s1.917,1.104,2.604,1.944c0.687,0.838,1.197,1.849,1.534,3.03C386.143,483.566,386.312,484.886,386.312,486.345z M373.625,486.345c0,0.979,0.085,1.86,0.255,2.64c0.17,0.781,0.432,1.441,0.787,1.982c0.354,0.541,0.799,0.957,1.337,1.247c0.538,0.291,1.177,0.435,1.918,0.435c0.759,0,1.409-0.145,1.951-0.435c0.541-0.289,0.983-0.704,1.329-1.247s0.603-1.203,0.769-1.982c0.165-0.778,0.249-1.659,0.249-2.64c0-0.981-0.082-1.861-0.249-2.643c-0.168-0.779-0.423-1.442-0.769-1.988c-0.345-0.545-0.786-0.963-1.322-1.253c-0.538-0.289-1.182-0.435-1.933-0.435c-0.742,0-1.386,0.146-1.932,0.435c-0.546,0.29-0.996,0.708-1.349,1.253c-0.354,0.546-0.616,1.209-0.787,1.988C373.708,484.483,373.625,485.364,373.625,486.345z"/>\n          <path d="M390.174,477.021h5.475c1.177,0,2.207,0.083,3.095,0.249c0.887,0.167,1.628,0.435,2.226,0.806c0.597,0.372,1.047,0.857,1.349,1.458c0.302,0.602,0.454,1.342,0.454,2.22c0,0.527-0.064,1.023-0.191,1.482c-0.128,0.46-0.316,0.865-0.563,1.215c-0.248,0.35-0.548,0.642-0.901,0.876c-0.354,0.235-0.761,0.39-1.222,0.468v0.128c0.469,0.103,0.906,0.249,1.311,0.439c0.405,0.192,0.759,0.456,1.062,0.794c0.303,0.338,0.54,0.762,0.716,1.273c0.174,0.512,0.262,1.134,0.262,1.866c0,0.853-0.149,1.614-0.448,2.283c-0.297,0.67-0.727,1.237-1.285,1.702s-1.236,0.82-2.033,1.067c-0.797,0.248-1.699,0.372-2.706,0.372h-6.599L390.174,477.021L390.174,477.021z M394.139,484.426h2.06c0.494,0,0.907-0.045,1.241-0.135c0.332-0.09,0.601-0.224,0.806-0.402c0.204-0.18,0.351-0.402,0.44-0.672c0.089-0.269,0.135-0.582,0.135-0.939c0-0.716-0.225-1.23-0.672-1.542c-0.447-0.311-1.158-0.467-2.129-0.467h-1.881V484.426L394.139,484.426z M394.139,487.571v4.873h2.327c0.521,0,0.958-0.06,1.312-0.179s0.64-0.29,0.856-0.512c0.218-0.222,0.374-0.49,0.467-0.806c0.095-0.316,0.142-0.665,0.142-1.049c0-0.35-0.047-0.667-0.142-0.953c-0.093-0.285-0.253-0.53-0.479-0.735s-0.522-0.362-0.889-0.474s-0.822-0.166-1.369-0.166H394.139L394.139,487.571z"/>\n          <path d="M413.733,495.718h-8.506v-2.249l2.277-1.05V480.32l-2.277-1.049v-2.25h8.506v2.25l-2.277,1.049v12.099l2.277,1.05V495.718z"/>\n          <path d="M416.929,495.718v-18.697h3.965v15.424h6.804v3.273H416.929z"/>\n          <path d="M441.716,495.718h-10.77v-18.697h10.77v3.248h-6.805v4.106h6.331v3.248h-6.331v4.821h6.805V495.718z"/>\n          <path d="M466.885,486.19c0,1.577-0.215,2.961-0.647,4.151c-0.431,1.189-1.053,2.183-1.867,2.979c-0.813,0.797-1.812,1.396-2.992,1.796s-2.525,0.601-4.035,0.601h-4.924v-18.697h5.475c1.373,0,2.611,0.196,3.715,0.588s2.049,0.976,2.833,1.747c0.785,0.771,1.387,1.729,1.811,2.87C466.673,483.368,466.885,484.689,466.885,486.19z M462.869,486.292c0-1.04-0.104-1.937-0.313-2.692c-0.209-0.755-0.512-1.379-0.908-1.873c-0.396-0.494-0.883-0.861-1.458-1.101s-1.233-0.358-1.977-0.358h-1.829v12.177h1.458c1.671,0,2.928-0.512,3.767-1.534C462.448,489.888,462.869,488.347,462.869,486.292z"/>\n          <path d="M481.529,495.718H470.76v-18.697h10.769v3.248h-6.804v4.106h6.331v3.248h-6.331v4.821h6.804V495.718z"/>\n          <path d="M495.046,477.021h4.003l-5.832,18.697h-4.323l-5.818-18.697h4.004l3.171,11.254c0.043,0.146,0.101,0.388,0.172,0.729c0.072,0.341,0.15,0.716,0.231,1.125c0.08,0.409,0.159,0.818,0.235,1.228c0.078,0.409,0.137,0.754,0.18,1.035c0.043-0.281,0.103-0.626,0.18-1.035c0.076-0.409,0.157-0.816,0.242-1.221c0.085-0.405,0.169-0.779,0.251-1.119c0.081-0.341,0.143-0.588,0.185-0.742L495.046,477.021z"/>\n          <path d="M512.173,495.718h-10.77v-18.697h10.77v3.248h-6.805v4.106h6.331v3.248h-6.331v4.821h6.805V495.718z"/>\n          <path d="M516.073,495.718v-18.697h3.965v15.424h6.804v3.273H516.073z"/>\n          <path d="M545.77,486.345c0,1.439-0.167,2.753-0.505,3.938c-0.338,1.185-0.851,2.199-1.541,3.043c-0.691,0.844-1.563,1.496-2.615,1.957c-1.053,0.46-2.297,0.69-3.729,0.69s-2.675-0.23-3.728-0.69c-1.053-0.461-1.923-1.113-2.609-1.957s-1.199-1.86-1.534-3.05c-0.336-1.189-0.506-2.509-0.506-3.958c0-1.45,0.168-2.766,0.506-3.946c0.337-1.181,0.85-2.189,1.541-3.023c0.69-0.835,1.562-1.481,2.614-1.938s2.3-0.685,3.741-0.685c1.432,0,2.672,0.229,3.722,0.685c1.049,0.456,1.917,1.104,2.603,1.944c0.687,0.838,1.198,1.849,1.535,3.03C545.601,483.566,545.77,484.886,545.77,486.345z M533.083,486.345c0,0.979,0.085,1.86,0.255,2.64c0.17,0.781,0.432,1.441,0.786,1.982c0.355,0.541,0.799,0.957,1.337,1.247c0.539,0.291,1.178,0.435,1.919,0.435c0.759,0,1.41-0.145,1.951-0.435c0.541-0.289,0.983-0.704,1.33-1.247c0.346-0.543,0.602-1.203,0.768-1.982c0.165-0.778,0.249-1.659,0.249-2.64c0-0.981-0.083-1.861-0.249-2.643c-0.168-0.779-0.424-1.442-0.768-1.988c-0.345-0.545-0.787-0.963-1.324-1.253c-0.536-0.289-1.181-0.435-1.932-0.435c-0.742,0-1.387,0.146-1.932,0.435c-0.546,0.29-0.996,0.708-1.35,1.253c-0.353,0.546-0.614,1.209-0.786,1.988C533.167,484.483,533.083,485.364,533.083,486.345z"/>\n          <path d="M561.77,482.853c0,0.818-0.124,1.604-0.372,2.353c-0.247,0.75-0.654,1.412-1.221,1.982c-0.567,0.57-1.313,1.026-2.239,1.368c-0.925,0.342-2.068,0.513-3.433,0.513h-0.908v6.649h-3.966v-18.697h5.193c1.203,0,2.241,0.134,3.115,0.402c0.874,0.27,1.594,0.652,2.161,1.151c0.566,0.498,0.986,1.109,1.259,1.829C561.633,481.124,561.77,481.94,561.77,482.853z M553.597,485.82h0.78c1.116,0,1.959-0.222,2.525-0.666c0.566-0.442,0.85-1.162,0.85-2.16c0-0.93-0.253-1.615-0.76-2.06c-0.508-0.443-1.302-0.664-2.387-0.664h-1.01L553.597,485.82L553.597,485.82z"/>\n          <path d="M576.067,495.718h-10.768v-18.697h10.768v3.248h-6.804v4.106h6.331v3.248h-6.331v4.821h6.804V495.718z"/>\n          <path d="M583.933,488.544v7.174h-3.966v-18.697h5.117c2.396,0,4.164,0.463,5.307,1.386c1.143,0.925,1.714,2.331,1.714,4.215c0,0.64-0.086,1.22-0.256,1.74c-0.17,0.52-0.398,0.981-0.684,1.387c-0.287,0.404-0.613,0.759-0.985,1.062c-0.371,0.303-0.761,0.557-1.17,0.761c0.947,1.519,1.796,2.873,2.546,4.068c0.323,0.511,0.637,1.01,0.939,1.495c0.302,0.485,0.572,0.921,0.812,1.305c0.239,0.383,0.435,0.69,0.589,0.921l0.217,0.357h-4.399l-4.054-7.174L583.933,488.544L583.933,488.544z M583.933,485.321h1.073c1.101,0,1.889-0.22,2.366-0.66c0.478-0.439,0.716-1.084,0.716-1.937c0-0.886-0.255-1.518-0.768-1.893c-0.511-0.374-1.304-0.563-2.379-0.563h-1.011v5.053H583.933z"/>\n        </g>\n      </svg>\n    </div>\n  </div>\n\n  <section id="grid" class="grid clearfix">\n    <div class="column">\n      <div class="job">\n        <div href="#" class="title">Ex Ordo</div>\n        <a href="http://www.exordo.com" class="logo ex-ordo">www.exordo.com</a>\n        <div class="overlay"></div>\n        <div class="delayed-image-load" data-src="images/ex_ordo--{width}.png" data-alt="Ex Ordo"></div>\n      </div>\n    </div>\n    <div class="column">\n      <div class="job">\n        <div class="title">What\'s the Score?</div>\n        <a href="http://www.whatsthescore.ie" class="logo wts">www.whatsthescore.ie</a>\n        <div class="overlay"></div>\n        <div class="delayed-image-load" data-src="images/wts--{width}.png" data-alt="What\'s the Score"></div>\n      </div>\n    </div>\n    <div class="column">\n      <div class="job">\n        <div class="title">Snake</div>\n        <a href="/snake" class="logo snake">play some snake</a>\n        <div class="overlay"></div>\n        <div class="delayed-image-load" data-src="images/snake--{width}.jpg" data-alt="Snake"></div>\n      </div>\n    </div>\n  </section>\n\n  <section class="social">\n    <a href="http://www.twitter.com/mrockall" class="twitter">\n      <svg viewBox="0 0 100 100">\n        <g filter="">\n          <use xlink:href="#twitter"></use>\n        </g>\n      </svg>\n    </a>\n    <a href="http://www.facebook.com/mike.rockall" class="facebook">\n      <svg viewBox="0 0 100 100">\n        <g filter="">\n          <use xlink:href="#facebook"></use>\n        </g>\n      </svg>\n    </a>\n    <a href="http://www.github.com/mrockall" class="github">\n      <svg viewBox="0 0 100 100">\n        <g filter="">\n          <use xlink:href="#github"></use>\n        </g>\n      </svg>\n    </a>\n  </section>\n</div>'}),define("views/pages/home",["namespace","jquery","underscore","backbone","imager","views/pages/_page","text!templates/home.html"],function(e,t,n,r,i,s,o){var u=e.app;return s.extend({page_name:"home",page_template:o,_renderPageContent:function(){this.$paths=t(".title path"),this.$paths.hide(),new i({availableWidths:[480,767,980]})},animate_in:function(){this.$el.removeClass("out"),setTimeout(n.bind(this.animate_header_text,this),500)},animate_out:function(e){this.$el.addClass("out"),this.$el.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",n.bind(function(){this.$el.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),e()},this))},animate_header_text:function(){var e,r,i,s,o,u,a;e=1e3,r=400,i=220,s=40,this.$el.find(".job").addClass("fadeInUp").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(e){t(this).css("opacity",1)}),o=window.innerWidth,o>e&&(o=e),o<r&&(o=r),u=(o-r)/(e-r),af=s+Math.floor(u*(i-s)),this.$paths.show().each(n.bind(function(e,t){var r=0,i=Math.random()*(af+30-af)+af,s=t.getTotalLength(),o=0;t.style.transition=t.style.WebkitTransition="none",t.style.strokeDasharray=s+" "+s,t.style.strokeDashoffset=s,t.style.fill="rgba(255,255,255,0)";var u=n.bind(function(){var e=r/i;e>=1?window.cancelAnimationFrame(o):(r++,t.style.strokeDashoffset=Math.floor(s*(1-e)),t.style.fill="rgba(255,255,255,"+e+")",o=window.requestAnimationFrame(u))},{current_frame:r,total_frames:i,handle:o,path:t,length:s});u()},this))}})}),function(){function e(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t][0],e[t][1]!=null&&(r+=e[t][1],e[t][2]!=null&&(r+=" ",r+=e[t][2],e[t][3]!=null&&(r+=" ",r+=e[t][3],r+=" ",r+=e[t][4],e[t][5]!=null&&(r+=" ",r+=e[t][5],r+=" ",r+=e[t][6],e[t][7]!=null&&(r+=" ",r+=e[t][7])))));return r+" "}function t(e,t){return typeof e.from=="number"?e.from+(e.to-e.from)*t:e instanceof SVG.Color||e instanceof SVG.Number?e.at(t):t<1?e.from:e.to}this.SVG=function(e){if(SVG.supported)return e=new SVG.Doc(e),SVG.parser||SVG.prepare(e),e},SVG.ns="http://www.w3.org/2000/svg",SVG.xmlns="http://www.w3.org/2000/xmlns/",SVG.xlink="http://www.w3.org/1999/xlink",SVG.did=1e3,SVG.eid=function(e){return"Svgjs"+e.charAt(0).toUpperCase()+e.slice(1)+SVG.did++},SVG.create=function(e){var t=document.createElementNS(this.ns,e);return t.setAttribute("id",this.eid(e)),t},SVG.extend=function(){var e,t,n,r;e=[].slice.call(arguments),t=e.pop();for(r=e.length-1;r>=0;r--)if(e[r])for(n in t)e[r].prototype[n]=t[n];SVG.Set&&SVG.Set.inherit&&SVG.Set.inherit()},SVG.get=function(e){var t=document.getElementById(e);if(t)return t.instance},SVG.prepare=function(e){var t=document.getElementsByTagName("body")[0],n=(t?new SVG.Doc(t):e.nested()).size(2,2),r=SVG.create("path");n.node.appendChild(r),SVG.parser={body:t||e.parent,draw:n.style("opacity:0;position:fixed;left:100%;top:100%;overflow:hidden"),poly:n.polyline().node,path:r}},SVG.supported=function(){return!!document.createElementNS&&!!document.createElementNS(SVG.ns,"svg").createSVGRect}();if(!SVG.supported)return!1;SVG.invent=function(e){var t=typeof e.create=="function"?e.create:function(){this.constructor.call(this,SVG.create(e.create))};return e.inherit&&(t.prototype=new e.inherit),e.extend&&SVG.extend(t,e.extend),e.construct&&SVG.extend(e.parent||SVG.Container,e.construct),t},SVG.regex={test:function(e,t){return this[t].test(e)},unit:/^(-?[\d\.]+)([a-z%]{0,2})$/,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^-?[\d\.]+$/,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif)(\?[^=]+.*)?/i},SVG.defaults={matrix:"1 0 0 1 0 0",attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"},trans:function(){return{x:0,y:0,scaleX:1,scaleY:1,rotation:0,skewX:0,skewY:0,matrix:this.matrix,a:1,b:0,c:0,d:1,e:0,f:0}}},SVG.Color=function(e){var t;this.r=0,this.g=0,this.b=0,typeof e=="string"?SVG.regex.isRgb.test(e)?(t=SVG.regex.rgb.exec(e.replace(/\s/g,"")),this.r=parseInt(t[1]),this.g=parseInt(t[2]),this.b=parseInt(t[3])):SVG.regex.isHex.test(e)&&(t=SVG.regex.hex.exec(this._fullHex(e)),this.r=parseInt(t[1],16),this.g=parseInt(t[2],16),this.b=parseInt(t[3],16)):typeof e=="object"&&(this.r=e.r,this.g=e.g,this.b=e.b)},SVG.extend(SVG.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+this._compToHex(this.r)+this._compToHex(this.g)+this._compToHex(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(e){return this.destination=new SVG.Color(e),this},at:function(e){return this.destination?(e=e<0?0:e>1?1:e,new SVG.Color({r:~~(this.r+(this.destination.r-this.r)*e),g:~~(this.g+(this.destination.g-this.g)*e),b:~~(this.b+(this.destination.b-this.b)*e)})):this},_fullHex:function(e){return e.length==4?["#",e.substring(1,2),e.substring(1,2),e.substring(2,3),e.substring(2,3),e.substring(3,4),e.substring(3,4)].join(""):e},_compToHex:function(e){var t=e.toString(16);return t.length==1?"0"+t:t}}),SVG.Color.test=function(e){return e+="",SVG.regex.isHex.test(e)||SVG.regex.isRgb.test(e)},SVG.Color.isRgb=function(e){return e&&typeof e.r=="number"&&typeof e.g=="number"&&typeof e.b=="number"},SVG.Color.isColor=function(e){return SVG.Color.isRgb(e)||SVG.Color.test(e)},SVG.Array=function(e,t){e=(e||[]).valueOf(),e.length==0&&t&&(e=t.valueOf()),this.value=this.parse(e)},SVG.extend(SVG.Array,{morph:function(e){this.destination=this.parse(e);if(this.value.length!=this.destination.length){var t=this.value[this.value.length-1],n=this.destination[this.destination.length-1];while(this.value.length>this.destination.length)this.destination.push(n);while(this.value.length<this.destination.length)this.value.push(t)}return this},settle:function(){for(var e=0,t=this.value.length,n=[];e<t;e++)n.indexOf(this.value[e])==-1&&n.push(this.value[e]);return this.value=n},at:function(e){if(!this.destination)return this;for(var t=0,n=this.value.length,r=[];t<n;t++)r.push(this.value[t]+(this.destination[t]-this.value[t])*e);return new SVG.Array(r)},toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(e){return e=e.valueOf(),Array.isArray(e)?e:this.split(e)},split:function(e){return e.replace(/\s+/g," ").replace(/^\s+|\s+$/g,"").split(" ")}}),SVG.PointArray=function(){this.constructor.apply(this,arguments)},SVG.PointArray.prototype=new SVG.Array,SVG.extend(SVG.PointArray,{toString:function(){for(var e=0,t=this.value.length,n=[];e<t;e++)n.push(this.value[e].join(","));return n.join(" ")},at:function(e){if(!this.destination)return this;for(var t=0,n=this.value.length,r=[];t<n;t++)r.push([this.value[t][0]+(this.destination[t][0]-this.value[t][0])*e,this.value[t][1]+(this.destination[t][1]-this.value[t][1])*e]);return new SVG.PointArray(r)},parse:function(e){e=e.valueOf();if(Array.isArray(e))return e;e=this.split(e);for(var t=0,n=e.length,r,i=[];t<n;t++)r=e[t].split(","),i.push([parseFloat(r[0]),parseFloat(r[1])]);return i},move:function(e,t){var n=this.bbox();e-=n.x,t-=n.y;if(!isNaN(e)&&!isNaN(t))for(var r=this.value.length-1;r>=0;r--)this.value[r]=[this.value[r][0]+e,this.value[r][1]+t];return this},size:function(e,t){var n,r=this.bbox();for(n=this.value.length-1;n>=0;n--)this.value[n][0]=(this.value[n][0]-r.x)*e/r.width+r.x,this.value[n][1]=(this.value[n][1]-r.y)*t/r.height+r.x;return this},bbox:function(){return SVG.parser.poly.setAttribute("points",this.toString()),SVG.parser.poly.getBBox()}}),SVG.PathArray=function(e,t){this.constructor.call(this,e,t)},SVG.PathArray.prototype=new SVG.Array,SVG.extend(SVG.PathArray,{toString:function(){return e(this.value)},move:function(e,t){var n=this.bbox();e-=n.x,t-=n.y;if(!isNaN(e)&&!isNaN(t))for(var r,i=this.value.length-1;i>=0;i--)r=this.value[i][0],r=="M"||r=="L"||r=="T"?(this.value[i][1]+=e,this.value[i][2]+=t):r=="H"?this.value[i][1]+=e:r=="V"?this.value[i][1]+=t:r=="C"||r=="S"||r=="Q"?(this.value[i][1]+=e,this.value[i][2]+=t,this.value[i][3]+=e,this.value[i][4]+=t,r=="C"&&(this.value[i][5]+=e,this.value[i][6]+=t)):r=="A"&&(this.value[i][6]+=e,this.value[i][7]+=t);return this},size:function(e,t){var n,r,i=this.bbox();for(n=this.value.length-1;n>=0;n--)r=this.value[n][0],r=="M"||r=="L"||r=="T"?(this.value[n][1]=(this.value[n][1]-i.x)*e/i.width+i.x,this.value[n][2]=(this.value[n][2]-i.y)*t/i.height+i.y):r=="H"?this.value[n][1]=(this.value[n][1]-i.x)*e/i.width+i.x:r=="V"?this.value[n][1]=(this.value[n][1]-i.y)*t/i.height+i.y:r=="C"||r=="S"||r=="Q"?(this.value[n][1]=(this.value[n][1]-i.x)*e/i.width+i.x,this.value[n][2]=(this.value[n][2]-i.y)*t/i.height+i.y,this.value[n][3]=(this.value[n][3]-i.x)*e/i.width+i.x,this.value[n][4]=(this.value[n][4]-i.y)*t/i.height+i.y,r=="C"&&(this.value[n][5]=(this.value[n][5]-i.x)*e/i.width+i.x,this.value[n][6]=(this.value[n][6]-i.y)*t/i.height+i.y)):r=="A"&&(this.value[n][1]=this.value[n][1]*e/i.width,this.value[n][2]=this.value[n][2]*t/i.height,this.value[n][6]=(this.value[n][6]-i.x)*e/i.width+i.x,this.value[n][7]=(this.value[n][7]-i.y)*t/i.height+i.y);return this},parse:function(t){if(t instanceof SVG.PathArray)return t.valueOf();var n,r,i,s,o,u,a,f,l,c,h,p=0,d=0;SVG.parser.path.setAttribute("d",typeof t=="string"?t:e(t)),h=SVG.parser.path.pathSegList;for(n=0,r=h.numberOfItems;n<r;++n){c=h.getItem(n),l=c.pathSegTypeAsLetter;if(l=="M"||l=="L"||l=="H"||l=="V"||l=="C"||l=="S"||l=="Q"||l=="T"||l=="A")"x"in c&&(p=c.x),"y"in c&&(d=c.y);else{"x1"in c&&(o=p+c.x1),"x2"in c&&(a=p+c.x2),"y1"in c&&(u=d+c.y1),"y2"in c&&(f=d+c.y2),"x"in c&&(p+=c.x),"y"in c&&(d+=c.y);if(l=="m")h.replaceItem(SVG.parser.path.createSVGPathSegMovetoAbs(p,d),n);else if(l=="l")h.replaceItem(SVG.parser.path.createSVGPathSegLinetoAbs(p,d),n);else if(l=="h")h.replaceItem(SVG.parser.path.createSVGPathSegLinetoHorizontalAbs(p),n);else if(l=="v")h.replaceItem(SVG.parser.path.createSVGPathSegLinetoVerticalAbs(d),n);else if(l=="c")h.replaceItem(SVG.parser.path.createSVGPathSegCurvetoCubicAbs(p,d,o,u,a,f),n);else if(l=="s")h.replaceItem(SVG.parser.path.createSVGPathSegCurvetoCubicSmoothAbs(p,d,a,f),n);else if(l=="q")h.replaceItem(SVG.parser.path.createSVGPathSegCurvetoQuadraticAbs(p,d,o,u),n);else if(l=="t")h.replaceItem(SVG.parser.path.createSVGPathSegCurvetoQuadraticSmoothAbs(p,d),n);else if(l=="a")h.replaceItem(SVG.parser.path.createSVGPathSegArcAbs(p,d,c.r1,c.r2,c.angle,c.largeArcFlag,c.sweepFlag),n);else if(l=="z"||l=="Z")p=i,d=s}if(l=="M"||l=="m")i=p,s=d}t=[],h=SVG.parser.path.pathSegList;for(n=0,r=h.numberOfItems;n<r;++n)c=h.getItem(n),l=c.pathSegTypeAsLetter,p=[l],l=="M"||l=="L"||l=="T"?p.push(c.x,c.y):l=="H"?p.push(c.x):l=="V"?p.push(c.y):l=="C"?p.push(c.x1,c.y1,c.x2,c.y2,c.x,c.y):l=="S"?p.push(c.x2,c.y2,c.x,c.y):l=="Q"?p.push(c.x1,c.y1,c.x,c.y):l=="A"&&p.push(c.r1,c.r2,c.angle,c.largeArcFlag|0,c.sweepFlag|0,c.x,c.y),t.push(p);return t},bbox:function(){return SVG.parser.path.setAttribute("d",this.toString()),SVG.parser.path.getBBox()}}),SVG.Number=function(e){this.value=0,this.unit="";switch(typeof e){case"number":this.value=isNaN(e)?0:isFinite(e)?e:e<0?-3.4e38:3.4e38;break;case"string":var t=e.match(SVG.regex.unit);t&&(this.value=parseFloat(t[1]),t[2]=="%"?this.value/=100:t[2]=="s"&&(this.value*=1e3),this.unit=t[2]);break;default:e instanceof SVG.Number&&(this.value=e.value,this.unit=e.unit)}},SVG.extend(SVG.Number,{toString:function(){return(this.unit=="%"?~~(this.value*1e8)/1e6:this.unit=="s"?this.value/1e3:this.value)+this.unit},valueOf:function(){return this.value},plus:function(e){return this.value=this+new SVG.Number(e),this},minus:function(e){return this.plus(-(new SVG.Number(e)))},times:function(e){return this.value=this*new SVG.Number(e),this},divide:function(e){return this.value=this/new SVG.Number(e),this},to:function(e){return typeof e=="string"&&(this.unit=e),this},morph:function(e){return this.destination=new SVG.Number(e),this},at:function(e){return this.destination?(new SVG.Number(this.destination)).minus(this).times(e).plus(this):this}}),SVG.ViewBox=function(e){var t,n,r,i,s=1,o=1,u=e.bbox(),a=(e.attr("viewBox")||"").match(/-?[\d\.]+/g);r=new SVG.Number(e.width()),i=new SVG.Number(e.height());while(r.unit=="%")s*=r.value,r=new SVG.Number(e instanceof SVG.Doc?e.parent.offsetWidth:e.width());while(i.unit=="%")o*=i.value,i=new SVG.Number(e instanceof SVG.Doc?e.parent.offsetHeight:e.height());this.x=u.x,this.y=u.y,this.width=r*s,this.height=i*o,this.zoom=1,a&&(t=parseFloat(a[0]),n=parseFloat(a[1]),r=parseFloat(a[2]),i=parseFloat(a[3]),this.zoom=this.width/this.height>r/i?this.height/i:this.width/r,this.x=t,this.y=n,this.width=r,this.height=i)},SVG.extend(SVG.ViewBox,{toString:function(){return this.x+" "+this.y+" "+this.width+" "+this.height}}),SVG.BBox=function(e){var t;this.x=0,this.y=0,this.width=0,this.height=0;if(e){try{t=e.node.getBBox()}catch(n){t={x:e.node.clientLeft,y:e.node.clientTop,width:e.node.clientWidth,height:e.node.clientHeight}}this.x=t.x+e.trans.x,this.y=t.y+e.trans.y,this.width=t.width*e.trans.scaleX,this.height=t.height*e.trans.scaleY}this.cx=this.x+this.width/2,this.cy=this.y+this.height/2},SVG.extend(SVG.BBox,{merge:function(e){var t=new SVG.BBox;return t.x=Math.min(this.x,e.x),t.y=Math.min(this.y,e.y),t.width=Math.max(this.x+this.width,e.x+e.width)-t.x,t.height=Math.max(this.y+this.height,e.y+e.height)-t.y,t.cx=t.x+t.width/2,t.cy=t.y+t.height/2,t}}),SVG.RBox=function(e){var t,n,r={};this.x=0,this.y=0,this.width=0,this.height=0;if(e){t=e.doc().parent,n=e.doc().viewbox().zoom,r=e.node.getBoundingClientRect(),this.x=r.left,this.y=r.top,this.x-=t.offsetLeft,this.y-=t.offsetTop;while(t=t.offsetParent)this.x-=t.offsetLeft,this.y-=t.offsetTop;t=e;while(t=t.parent)t.type=="svg"&&t.viewbox&&(n*=t.viewbox().zoom,this.x-=t.x()||0,this.y-=t.y()||0)}this.x/=n,this.y/=n,this.width=r.width/=n,this.height=r.height/=n,this.cx=this.x+this.width/2,this.cy=this.y+this.height/2},SVG.extend(SVG.RBox,{merge:function(e){var t=new SVG.RBox;return t.x=Math.min(this.x,e.x),t.y=Math.min(this.y,e.y),t.width=Math.max(this.x+this.width,e.x+e.width)-t.x,t.height=Math.max(this.y+this.height,e.y+e.height)-t.y,t.cx=t.x+t.width/2,t.cy=t.y+t.height/2,t}}),SVG.Element=SVG.invent({create:function(e){this._stroke=SVG.defaults.attrs.stroke,this.styles={},this.trans=SVG.defaults.trans();if(this.node=e)this.type=e.nodeName,this.node.instance=this},extend:{x:function(e){return e&&(e=new SVG.Number(e),e.value/=this.trans.scaleX),this.attr("x",e)},y:function(e){return e&&(e=new SVG.Number(e),e.value/=this.trans.scaleY),this.attr("y",e)},cx:function(e){return e==null?this.x()+this.width()/2:this.x(e-this.width()/2)},cy:function(e){return e==null?this.y()+this.height()/2:this.y(e-this.height()/2)},move:function(e,t){return this.x(e).y(t)},center:function(e,t){return this.cx(e).cy(t)},width:function(e){return this.attr("width",e)},height:function(e){return this.attr("height",e)},size:function(e,t){var n=this._proportionalSize(e,t);return this.attr({width:new SVG.Number(n.width),height:new SVG.Number(n.height)})},clone:function(){var e,t,n=this.type;return e=n=="rect"||n=="ellipse"?this.parent[n](0,0):n=="line"?this.parent[n](0,0,0,0):n=="image"?this.parent[n](this.src):n=="text"?this.parent[n](this.content):n=="path"?this.parent[n](this.attr("d")):n=="polyline"||n=="polygon"?this.parent[n](this.attr("points")):n=="g"?this.parent.group():this.parent[n](),t=this.attr(),delete t.id,e.attr(t),e.trans=this.trans,e.transform({})},remove:function(){return this.parent&&this.parent.removeElement(this),this},replace:function(e){return this.after(e).remove(),e},addTo:function(e){return e.put(this)},putIn:function(e){return e.add(this)},doc:function(e){return this._parent(e||SVG.Doc)},attr:function(e,t,n){if(e==null){e={},t=this.node.attributes;for(n=t.length-1;n>=0;n--)e[t[n].nodeName]=SVG.regex.test(t[n].nodeValue,"isNumber")?parseFloat(t[n].nodeValue):t[n].nodeValue;return e}if(typeof e=="object")for(t in e)this.attr(t,e[t]);else if(t===null)this.node.removeAttribute(e);else{if(t==null)return t=this.node.getAttribute(e),t==null?SVG.defaults.attrs[e]:SVG.regex.test(t,"isNumber")?parseFloat(t):t;if(e=="style")return this.style(t);e=="stroke-width"?this.attr("stroke",parseFloat(t)>0?this._stroke:null):e=="stroke"&&(this._stroke=t);if(e=="fill"||e=="stroke")SVG.regex.isImage.test(t)&&(t=this.doc().defs().image(t,0,0)),t instanceof SVG.Image&&(t=this.doc().defs().pattern(0,0,function(){this.add(t)}));SVG.Color.isColor(t)?t=new SVG.Color(t):typeof t=="number"?t=new SVG.Number(t):Array.isArray(t)&&(t=new SVG.Array(t)),e=="leading"?this.leading&&this.leading(t):n!=null?this.node.setAttributeNS(n,e,t.toString()):this.node.setAttribute(e,t.toString()),this.rebuild&&(e=="font-size"||e=="x")&&this.rebuild(e,t)}return this},transform:function(e,t){if(arguments.length==0)return this.trans;if(typeof e=="string"){if(arguments.length<2)return this.trans[e];var n={};return n[e]=t,this.transform(n)}var n=[];e=this._parseMatrix(e);for(t in e)e[t]!=null&&(this.trans[t]=e[t]);return this.trans.matrix=this.trans.a+" "+this.trans.b+" "+this.trans.c+" "+this.trans.d+" "+this.trans.e+" "+this.trans.f,e=this.trans,e.matrix!=SVG.defaults.matrix&&n.push("matrix("+e.matrix+")"),e.rotation!=0&&n.push("rotate("+e.rotation+" "+(e.cx==null?this.bbox().cx:e.cx)+" "+(e.cy==null?this.bbox().cy:e.cy)+")"),(e.scaleX!=1||e.scaleY!=1)&&n.push("scale("+e.scaleX+" "+e.scaleY+")"),e.skewX!=0&&n.push("skewX("+e.skewX+")"),e.skewY!=0&&n.push("skewY("+e.skewY+")"),(e.x!=0||e.y!=0)&&n.push("translate("+new SVG.Number(e.x/e.scaleX)+" "+new SVG.Number(e.y/e.scaleY)+")"),n.length==0?this.node.removeAttribute("transform"):this.node.setAttribute("transform",n.join(" ")),this},style:function(e,t){if(arguments.length==0)return this.attr("style")||"";if(arguments.length<2)if(typeof e=="object")for(t in e)this.style(t,e[t]);else{if(!SVG.regex.isCss.test(e))return this.styles[e];e=e.split(";");for(var n=0;n<e.length;n++)t=e[n].split(":"),t.length==2&&this.style(t[0].replace(/\s+/g,""),t[1].replace(/^\s+/,"").replace(/\s+$/,""))}else t===null||SVG.regex.test(t,"isBlank")?delete this.styles[e]:this.styles[e]=t;e="";for(t in this.styles)e+=t+":"+this.styles[t]+";";return e==""?this.node.removeAttribute("style"):this.node.setAttribute("style",e),this},bbox:function(){return new SVG.BBox(this)},rbox:function(){return new SVG.RBox(this)},inside:function(e,t){var n=this.bbox();return e>n.x&&t>n.y&&e<n.x+n.width&&t<n.y+n.height},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return this.style("display")!="none"},toString:function(){return this.attr("id")},_parent:function(e){var t=this;while(t!=null&&!(t instanceof e))t=t.parent;return t},_parseMatrix:function(e){if(e.matrix){var t=e.matrix.replace(/\s/g,"").split(",");t.length==6&&(e.a=parseFloat(t[0]),e.b=parseFloat(t[1]),e.c=parseFloat(t[2]),e.d=parseFloat(t[3]),e.e=parseFloat(t[4]),e.f=parseFloat(t[5]))}return e},_proportionalSize:function(e,t){if(e==null||t==null){var n=this.bbox();t==null?t=n.height/n.width*e:e==null&&(e=n.width/n.height*t)}return{width:e,height:t}}}}),SVG.Parent=SVG.invent({create:function(e){this.constructor.call(this,e)},inherit:SVG.Element,extend:{children:function(){return this._children||(this._children=[])},add:function(e,t){return this.has(e)||(t=t==null?this.children().length:t,e.parent&&e.parent.children().splice(e.parent.index(e),1),this.children().splice(t,0,e),this.node.insertBefore(e.node,this.node.childNodes[t]||null),e.parent=this),this._defs&&(this.node.removeChild(this._defs.node),this.node.appendChild(this._defs.node)),this},put:function(e,t){return this.add(e,t),e},has:function(e){return this.index(e)>=0},index:function(e){return this.children().indexOf(e)},get:function(e){return this.children()[e]},first:function(){return this.children()[0]},last:function(){return this.children()[this.children().length-1]},each:function(e,t){var n,r,i=this.children();for(n=0,r=i.length;n<r;n++)i[n]instanceof SVG.Element&&e.apply(i[n],[n,i]),t&&i[n]instanceof SVG.Container&&i[n].each(e,t);return this},removeElement:function(e){return this.children().splice(this.index(e),1),this.node.removeChild(e.node),e.parent=null,this},clear:function(){for(var e=this.children().length-1;e>=0;e--)this.removeElement(this.children()[e]);return this._defs&&this._defs.clear(),this},defs:function(){return this.doc().defs()}}}),SVG.Container=SVG.invent({create:function(e){this.constructor.call(this,e)},inherit:SVG.Parent,extend:{viewbox:function(e){return arguments.length==0?new SVG.ViewBox(this):(e=arguments.length==1?[e.x,e.y,e.width,e.height]:[].slice.call(arguments),this.attr("viewBox",e))}}}),SVG.FX=SVG.invent({create:function(e){this.target=e},extend:{animate:function(e,n,r){var i,s,o,u,a=this.target,f=this;return typeof e=="object"&&(r=e.delay,n=e.ease,e=e.duration),e=e=="="?e:e==null?1e3:(new SVG.Number(e)).valueOf(),n=n||"<>",f.to=function(e){var r;e=e<0?0:e>1?1:e;if(i==null){i=[];for(u in f.attrs)i.push(u);if(a.morphArray&&(f._plot||i.indexOf("points")>-1)){var l,c=new a.morphArray(f._plot||f.attrs.points||a.array);f._size&&c.size(f._size.width.to,f._size.height.to),l=c.bbox(),f._x?c.move(f._x.to,l.y):f._cx&&c.move(f._cx.to-l.width/2,l.y),l=c.bbox(),f._y?c.move(l.x,f._y.to):f._cy&&c.move(l.x,f._cy.to-l.height/2),delete f._x,delete f._y,delete f._cx,delete f._cy,delete f._size,f._plot=a.array.morph(c)}}if(s==null){s=[];for(u in f.trans)s.push(u)}if(o==null){o=[];for(u in f.styles)o.push(u)}e=n=="<>"?-Math.cos(e*Math.PI)/2+.5:n==">"?Math.sin(e*Math.PI/2):n=="<"?-Math.cos(e*Math.PI/2)+1:n=="-"?e:typeof n=="function"?n(e):e,f._plot?a.plot(f._plot.at(e)):(f._x?a.x(t(f._x,e)):f._cx&&a.cx(t(f._cx,e)),f._y?a.y(t(f._y,e)):f._cy&&a.cy(t(f._cy,e)),f._size&&a.size(t(f._size.width,e),t(f._size.height,e))),f._viewbox&&a.viewbox(t(f._viewbox.x,e),t(f._viewbox.y,e),t(f._viewbox.width,e),t(f._viewbox.height,e));for(r=i.length-1;r>=0;r--)a.attr(i[r],t(f.attrs[i[r]],e));for(r=s.length-1;r>=0;r--)a.transform(s[r],t(f.trans[s[r]],e));for(r=o.length-1;r>=0;r--)a.style(o[r],t(f.styles[o[r]],e));f._during&&f._during.call(a,e,function(n,r){return t({from:n,to:r},e)})},typeof e=="number"&&(this.timeout=setTimeout(function(){var t=(new Date).getTime();f.situation={interval:1e3/60,start:t,play:!0,finish:t+e,duration:e},f.render=function(){if(f.situation.play===!0){var t=(new Date).getTime(),i=t>f.situation.finish?1:(t-f.situation.start)/e;f.to(i),t>f.situation.finish?(f._plot&&a.plot((new SVG.PointArray(f._plot.destination)).settle()),f._loop===!0||typeof f._loop=="number"&&f._loop>1?(typeof f._loop=="number"&&--f._loop,f.animate(e,n,r)):f._after?f._after.apply(a,[f]):f.stop()):requestAnimFrame(f.render)}else requestAnimFrame(f.render)},f.render()},(new SVG.Number(r)).valueOf())),this},bbox:function(){return this.target.bbox()},attr:function(e,t){if(typeof e=="object")for(var n in e)this.attr(n,e[n]);else{var r=this.target.attr(e);this.attrs[e]=SVG.Color.isColor(r)?(new SVG.Color(r)).morph(t):SVG.regex.unit.test(r)?(new SVG.Number(r)).morph(t):{from:r,to:t}}return this},transform:function(e,t){if(arguments.length==1){e=this.target._parseMatrix(e),delete e.matrix;for(t in e)this.trans[t]={from:this.target.trans[t],to:e[t]}}else{var n={};n[e]=t,this.transform(n)}return this},style:function(e,t){if(typeof e=="object")for(var n in e)this.style(n,e[n]);else this.styles[e]={from:this.target.style(e),to:t};return this},x:function(e){return this._x={from:this.target.x(),to:e},this},y:function(e){return this._y={from:this.target.y(),to:e},this},cx:function(e){return this._cx={from:this.target.cx(),to:e},this},cy:function(e){return this._cy={from:this.target.cy(),to:e},this},move:function(e,t){return this.x(e).y(t)},center:function(e,t){return this.cx(e).cy(t)},size:function(e,t){if(this.target instanceof SVG.Text)this.attr("font-size",e);else{var n=this.target.bbox();this._size={width:{from:n.width,to:e},height:{from:n.height,to:t}}}return this},plot:function(e){return this._plot=e,this},viewbox:function(e,t,n,r){if(this.target instanceof SVG.Container){var i=this.target.viewbox();this._viewbox={x:{from:i.x,to:e},y:{from:i.y,to:t},width:{from:i.width,to:n},height:{from:i.height,to:r}}}return this},update:function(e){return this.target instanceof SVG.Stop&&(e.opacity!=null&&this.attr("stop-opacity",e.opacity),e.color!=null&&this.attr("stop-color",e.color),e.offset!=null&&this.attr("offset",new SVG.Number(e.offset))),this},during:function(e){return this._during=e,this},after:function(e){return this._after=e,this},loop:function(e){return this._loop=e||!0,this},stop:function(){return clearTimeout(this.timeout),clearInterval(this.interval),this.attrs={},this.trans={},this.styles={},this.situation={},delete this._x,delete this._y,delete this._cx,delete this._cy,delete this._size,delete this._plot,delete this._loop,delete this._after,delete this._during,delete this._viewbox,this},pause:function(){return this.situation.play===!0&&(this.situation.play=!1,this.situation.pause=(new Date).getTime()),this},play:function(){if(this.situation.play===!1){var e=(new Date).getTime()-this.situation.pause;this.situation.finish+=e,this.situation.start+=e,this.situation.play=!0}return this}},parent:SVG.Element,construct:{animate:function(e,t,n){return(this.fx||(this.fx=new SVG.FX(this))).stop().animate(e,t,n)},stop:function(){return this.fx&&this.fx.stop(),this},pause:function(){return this.fx&&this.fx.pause(),this},play:function(){return this.fx&&this.fx.play(),this}}}),window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}(),SVG.extend(SVG.Element,SVG.FX,{dx:function(e){return this.x(this.x()+e)},dy:function(e){return this.y(this.y()+e)},dmove:function(e,t){return this.dx(e).dy(t)}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(e){SVG.Element.prototype[e]=function(t){var n=this;return this.node["on"+e]=typeof t=="function"?function(){return t.apply(n,arguments)}:null,this}}),SVG.on=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},SVG.off=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)},SVG.extend(SVG.Element,{on:function(e,t){return SVG.on(this.node,e,t),this},off:function(e,t){return SVG.off(this.node,e,t),this}}),SVG.Defs=SVG.invent({create:"defs",inherit:SVG.Container}),SVG.G=SVG.invent({create:"g",inherit:SVG.Container,extend:{x:function(e){return e==null?this.trans.x:this.transform("x",e)},y:function(e){return e==null?this.trans.y:this.transform("y",e)},cx:function(e){return e==null?this.bbox().cx:this.x(e-this.bbox().width/2)},cy:function(e){return e==null?this.bbox().cy:this.y(e-this.bbox().height/2)}},construct:{group:function(){return this.put(new SVG.G)}}}),SVG.extend(SVG.Element,{siblings:function(){return this.parent.children()},position:function(){return this.parent.index(this)},next:function(){return this.siblings()[this.position()+1]},previous:function(){return this.siblings()[this.position()-1]},forward:function(){var e=this.position();return this.parent.removeElement(this).put(this,e+1)},backward:function(){var e=this.position();return e>0&&this.parent.removeElement(this).add(this,e-1),this},front:function(){return this.parent.removeElement(this).put(this)},back:function(){return this.position()>0&&this.parent.removeElement(this).add(this,0),this},before:function(e){e.remove();var t=this.position();return this.parent.add(e,t),this},after:function(e){e.remove();var t=this.position();return this.parent.add(e,t+1),this}}),SVG.Mask=SVG.invent({create:function(){this.constructor.call(this,SVG.create("mask")),this.targets=[]},inherit:SVG.Container,extend:{remove:function(){for(var e=this.targets.length-1;e>=0;e--)this.targets[e]&&this.targets[e].unmask();return delete this.targets,this.parent.removeElement(this),this}},construct:{mask:function(){return this.defs().put(new SVG.Mask)}}}),SVG.extend(SVG.Element,{maskWith:function(e){return this.masker=e instanceof SVG.Mask?e:this.parent.mask().add(e),this.masker.targets.push(this),this.attr("mask",'url("#'+this.masker.attr("id")+'")')},unmask:function(){return delete this.masker,this.attr("mask",null)}}),SVG.Clip=SVG.invent({create:function(){this.constructor.call(this,SVG.create("clipPath")),this.targets=[]},inherit:SVG.Container,extend:{remove:function(){for(var e=this.targets.length-1;e>=0;e--)this.targets[e]&&this.targets[e].unclip();return delete this.targets,this.parent.removeElement(this),this}},construct:{clip:function(){return this.defs().put(new SVG.Clip)}}}),SVG.extend(SVG.Element,{clipWith:function(e){return this.clipper=e instanceof SVG.Clip?e:this.parent.clip().add(e),this.clipper.targets.push(this),this.attr("clip-path",'url("#'+this.clipper.attr("id")+'")')},unclip:function(){return delete this.clipper,this.attr("clip-path",null)}}),SVG.Gradient=SVG.invent({create:function(e){this.constructor.call(this,SVG.create(e+"Gradient")),this.type=e},inherit:SVG.Container,extend:{from:function(e,t){return this.type=="radial"?this.attr({fx:new SVG.Number(e),fy:new SVG.Number(t)}):this.attr({x1:new SVG.Number(e),y1:new SVG.Number(t)})},to:function(e,t){return this.type=="radial"?this.attr({cx:new SVG.Number(e),cy:new SVG.Number(t)}):this.attr({x2:new SVG.Number(e),y2:new SVG.Number(t)})},radius:function(e){return this.type=="radial"?this.attr({r:new SVG.Number(e)}):this},at:function(e,t,n){return this.put(new SVG.Stop).update(e,t,n)},update:function(e){return this.clear(),typeof e=="function"&&e.call(this,this),this},fill:function(){return"url(#"+this.attr("id")+")"},toString:function(){return this.fill()}},construct:{gradient:function(e,t){return this.defs().gradient(e,t)}}}),SVG.extend(SVG.Defs,{gradient:function(e,t){return this.put(new SVG.Gradient(e)).update(t)}}),SVG.Stop=SVG.invent({create:"stop",inherit:SVG.Element,extend:{update:function(e){if(typeof e=="number"||e instanceof SVG.Number)e={offset:arguments[0],color:arguments[1],opacity:arguments[2]};return e.opacity!=null&&this.attr("stop-opacity",e.opacity),e.color!=null&&this.attr("stop-color",e.color),e.offset!=null&&this.attr("offset",new SVG.Number(e.offset)),this}}}),SVG.Pattern=SVG.invent({create:"pattern",inherit:SVG.Container,extend:{fill:function(){return"url(#"+this.attr("id")+")"},update:function(e){return this.clear(),typeof e=="function"&&e.call(this,this),this},toString:function(){return this.fill()}},construct:{pattern:function(e,t,n){return this.defs().pattern(e,t,n)}}}),SVG.extend(SVG.Defs,{pattern:function(e,t,n){return this.put(new SVG.Pattern).update(n).attr({x:0,y:0,width:e,height:t,patternUnits:"userSpaceOnUse"})}}),SVG.Doc=SVG.invent({create:function(e){this.parent=typeof e=="string"?document.getElementById(e):e,this.constructor.call(this,this.parent.nodeName=="svg"?this.parent:SVG.create("svg")),this.attr({xmlns:SVG.ns,version:"1.1",width:"100%",height:"100%"}).attr("xmlns:xlink",SVG.xlink,SVG.xmlns),this._defs=new SVG.Defs,this._defs.parent=this,this.node.appendChild(this._defs.node),this.doSpof=!1,this.parent!=this.node&&this.stage()},inherit:SVG.Container,extend:{stage:function(){var e=this;return this.parent.appendChild(this.node),e.spof(),SVG.on(window,"resize",function(){e.spof()}),this},defs:function(){return this._defs},spof:function(){if(this.doSpof){var e=this.node.getScreenCTM();e&&this.style("left",-e.e%1+"px").style("top",-e.f%1+"px")}return this},fixSubPixelOffset:function(){return this.doSpof=!0,this}}}),SVG.Shape=SVG.invent({create:function(e){this.constructor.call(this,e)},inherit:SVG.Element}),SVG.Use=SVG.invent({create:"use",inherit:SVG.Shape,extend:{element:function(e){return this.target=e,this.attr("href","#"+e,SVG.xlink)}},construct:{use:function(e){return this.put(new SVG.Use).element(e)}}}),SVG.Rect=SVG.invent({create:"rect",inherit:SVG.Shape,construct:{rect:function(e,t){return this.put((new SVG.Rect).size(e,t))}}}),SVG.Ellipse=SVG.invent({create:"ellipse",inherit:SVG.Shape,extend:{x:function(e){return e==null?this.cx()-this.attr("rx"):this.cx(e+this.attr("rx"))},y:function(e){return e==null?this.cy()-this.attr("ry"):this.cy(e+this.attr("ry"))},cx:function(e){return e==null?this.attr("cx"):this.attr("cx",(new SVG.Number(e)).divide(this.trans.scaleX))},cy:function(e){return e==null?this.attr("cy"):this.attr("cy",(new SVG.Number(e)).divide(this.trans.scaleY))},width:function(e){return e==null?this.attr("rx")*2:this.attr("rx",(new SVG.Number(e)).divide(2))},height:function(e){return e==null?this.attr("ry")*2:this.attr("ry",(new SVG.Number(e)).divide(2))},size:function(e,t){var n=this._proportionalSize(e,t);return this.attr({rx:(new SVG.Number(n.width)).divide(2),ry:(new SVG.Number(n.height)).divide(2)})}},construct:{circle:function(e){return this.ellipse(e,e)},ellipse:function(e,t){return this.put(new SVG.Ellipse).size(e,t).move(0,0)}}}),SVG.Line=SVG.invent({create:"line",inherit:SVG.Shape,extend:{x:function(e){var t=this.bbox();return e==null?t.x:this.attr({x1:this.attr("x1")-t.x+e,x2:this.attr("x2")-t.x+e})},y:function(e){var t=this.bbox();return e==null?t.y:this.attr({y1:this.attr("y1")-t.y+e,y2:this.attr("y2")-t.y+e})},cx:function(e){var t=this.bbox().width/2;return e==null?this.x()+t:this.x(e-t)},cy:function(e){var t=this.bbox().height/2;return e==null?this.y()+t:this.y(e-t)},width:function(e){var t=this.bbox();return e==null?t.width:this.attr(this.attr("x1")<this.attr("x2")?"x2":"x1",t.x+e)},height:function(e){var t=this.bbox();return e==null?t.height:this.attr(this.attr("y1")<this.attr("y2")?"y2":"y1",t.y+e)},size:function(e,t){var n=this._proportionalSize(e,t);return this.width(n.width).height(n.height)},plot:function(e,t,n,r){return this.attr({x1:e,y1:t,x2:n,y2:r})}},construct:{line:function(e,t,n,r){return this.put((new SVG.Line).plot(e,t,n,r))}}}),SVG.Polyline=SVG.invent({create:"polyline",inherit:SVG.Shape,construct:{polyline:function(e){return this.put(new SVG.Polyline).plot(e)}}}),SVG.Polygon=SVG.invent({create:"polygon",inherit:SVG.Shape,construct:{polygon:function(e){return this.put(new SVG.Polygon).plot(e)}}}),SVG.extend(SVG.Polyline,SVG.Polygon,{morphArray:SVG.PointArray,plot:function(e){return this.attr("points",this.array=new SVG.PointArray(e,[[0,0]]))},move:function(e,t){return this.attr("points",this.array.move(e,t))},x:function(e){return e==null?this.bbox().x:this.move(e,this.bbox().y)},y:function(e){return e==null?this.bbox().y:this.move(this.bbox().x,e)},width:function(e){var t=this.bbox();return e==null?t.width:this.size(e,t.height)},height:function(e){var t=this.bbox();return e==null?t.height:this.size(t.width,e)},size:function(e,t){var n=this._proportionalSize(e,t);return this.attr("points",this.array.size(n.width,n.height))}}),SVG.Path=SVG.invent({create:"path",inherit:SVG.Shape,extend:{plot:function(e){return this.attr("d",this.array=new SVG.PathArray(e,[["M",0,0]]))},move:function(e,t){return this.attr("d",this.array.move(e,t))},x:function(e){return e==null?this.bbox().x:this.move(e,this.bbox().y)},y:function(e){return e==null?this.bbox().y:this.move(this.bbox().x,e)},size:function(e,t){var n=this._proportionalSize(e,t);return this.attr("d",this.array.size(n.width,n.height))},width:function(e){return e==null?this.bbox().width:this.size(e,this.bbox().height)},height:function(e){return e==null?this.bbox().height:this.size(this.bbox().width,e)}},construct:{path:function(e){return this.put(new SVG.Path).plot(e)}}}),SVG.Image=SVG.invent({create:"image",inherit:SVG.Shape,extend:{load:function(e){if(!e)return this;var t=this,n=document.createElement("img");return n.onload=function(){var r=t.doc(SVG.Pattern);t.width()==0&&t.height()==0&&t.size(n.width,n.height),r&&r.width()==0&&r.height()==0&&r.size(t.width(),t.height()),typeof t._loaded=="function"&&t._loaded.call(t,{width:n.width,height:n.height,ratio:n.width/n.height,url:e})},this.attr("href",n.src=this.src=e,SVG.xlink)},loaded:function(e){return this._loaded=e,this}},construct:{image:function(e,t,n){return this.put(new SVG.Image).load(e).size(t||0,n||t||0)}}}),SVG.Text=SVG.invent({create:function(){this.constructor.call(this,SVG.create("text")),this._leading=new SVG.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",SVG.defaults.attrs["font-family"])},inherit:SVG.Shape,extend:{x:function(e){return e==null?this.attr("x"):(this.textPath||this.lines.each(function(){this.newLined&&this.x(e)}),this.attr("x",e))},y:function(e){return e==null?this.attr("y"):this.attr("y",e+this.attr("y")-this.bbox().y)},cx:function(e){return e==null?this.bbox().cx:this.x(e-this.bbox().width/2)},cy:function(e){return e==null?this.bbox().cy:this.y(e-this.bbox().height/2)},move:function(e,t){return this.x(e).y(t)},center:function(e,t){return this.cx(e).cy(t)},text:function(e){if(!e)return this.content;this.clear().build(!0);if(typeof e=="function")e.call(this,this);else{e=(this.content=SVG.regex.isBlank.test(e)?"text":e).split("\n");for(var t=0,n=e.length;t<n;t++)this.tspan(e[t]).newLine()}return this.build(!1).rebuild()},size:function(e){return this.attr("font-size",e).rebuild()},leading:function(e){return e==null?this._leading:(this._leading=new SVG.Number(e),this.rebuild())},rebuild:function(e){var t=this;return typeof e=="boolean"&&(this._rebuild=e),this._rebuild&&this.lines.each(function(){this.newLined&&(this.textPath||this.attr("x",t.attr("x")),this.attr("dy",t._leading*new SVG.Number(t.attr("font-size"))))}),this},build:function(e){return this._build=!!e,this}},construct:{text:function(e){return this.put(new SVG.Text).text(e)},plain:function(e){return this.put(new SVG.Text).plain(e)}}}),SVG.TSpan=SVG.invent({create:"tspan",inherit:SVG.Shape,extend:{text:function(e){return typeof e=="function"?e.call(this,this):this.plain(e),this},dx:function(e){return this.attr("dx",e)},dy:function(e){return this.attr("dy",e)},newLine:function(){var e=this.doc(SVG.Text);return this.newLined=!0,this.dy(e._leading*e.attr("font-size")).attr("x",e.x())}}}),SVG.extend(SVG.Text,SVG.TSpan,{plain:function(e){return this._build===!1&&this.clear(),this.node.appendChild(document.createTextNode(this.content=e)),this},tspan:function(e){var t=(this.textPath||this).node,n=new SVG.TSpan;return this._build===!1&&this.clear(),t.appendChild(n.node),n.parent=this,this instanceof SVG.Text&&this.lines.add(n),n.text(e)},clear:function(){var e=(this.textPath||this).node;while(e.hasChildNodes())e.removeChild(e.lastChild);return this instanceof SVG.Text&&(delete this.lines,this.lines=new SVG.Set,this.content=""),this}}),SVG.TextPath=SVG.invent({create:"textPath",inherit:SVG.Element,parent:SVG.Text,construct:{path:function(e){this.textPath=new SVG.TextPath;while(this.node.hasChildNodes())this.textPath.node.appendChild(this.node.firstChild);return this.node.appendChild(this.textPath.node),this.track=this.doc().defs().path(e),this.textPath.parent=this,this.textPath.attr("href","#"+this.track,SVG.xlink),this},plot:function(e){return this.track&&this.track.plot(e),this}}}),SVG.Nested=SVG.invent({create:function(){this.constructor.call(this,SVG.create("svg")),this.style("overflow","visible")},inherit:SVG.Container,construct:{nested:function(){return this.put(new SVG.Nested)}}}),SVG.A=SVG.invent({create:"a",inherit:SVG.Container,extend:{to:function(e){return this.attr("href",e,SVG.xlink)},show:function(e){return this.attr("show",e,SVG.xlink)},target:function(e){return this.attr("target",e)}},construct:{link:function(e){return this.put(new SVG.A).to(e)}}}),SVG.extend(SVG.Element,{linkTo:function(e){var t=new SVG.A;return typeof e=="function"?e.call(t,t):t.to(e),this.parent.put(t).put(this)}});var n={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(e,t){return t=="color"?e:e+"-"+t}};["fill","stroke"].forEach(function(e){var t,r={};r[e]=function(r){if(typeof r=="string"||SVG.Color.isRgb(r)||r&&typeof r.fill=="function")this.attr(e,r);else for(t=n[e].length-1;t>=0;t--)r[n[e][t]]!=null&&this.attr(n.prefix(e,n[e][t]),r[n[e][t]]);return this},SVG.extend(SVG.Element,SVG.FX,r)}),SVG.extend(SVG.Element,SVG.FX,{rotate:function(e,t,n){return this.transform({rotation:e||0,cx:t,cy:n})},skew:function(e,t){return this.transform({skewX:e||0,skewY:t||0})},scale:function(e,t){return this.transform({scaleX:e,scaleY:t==null?e:t})},translate:function(e,t){return this.transform({x:e,y:t})},matrix:function(e){return this.transform({matrix:e})},opacity:function(e){return this.attr("opacity",e)}}),SVG.extend(SVG.Rect,SVG.Ellipse,SVG.FX,{radius:function(e,t){return this.attr({rx:e,ry:t||e})}}),SVG.extend(SVG.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(e){return this.node.getPointAtLength(e)}}),SVG.extend(SVG.Text,SVG.FX,{font:function(e){for(var t in e)t=="leading"?this.leading(e[t]):t=="anchor"?this.attr("text-anchor",e[t]):t=="size"||t=="family"||t=="weight"||t=="stretch"||t=="variant"||t=="style"?this.attr("font-"+t,e[t]):this.attr(t,e[t]);return this}}),SVG.Set=SVG.invent({create:function(){this.clear()},extend:{add:function(){var e,t,n=[].slice.call(arguments);for(e=0,t=n.length;e<t;e++)this.members.push(n[e]);return this},remove:function(e){var t=this.index(e);return t>-1&&this.members.splice(t,1),this},each:function(e){for(var t=0,n=this.members.length;t<n;t++)e.apply(this.members[t],[t,this.members]);return this},clear:function(){return this.members=[],this},has:function(e){return this.index(e)>=0},index:function(e){return this.members.indexOf(e)},get:function(e){return this.members[e]},valueOf:function(){return this.members},bbox:function(){var e=new SVG.BBox;if(this.members.length==0)return e;var t=this.members[0].rbox();return e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height,this.each(function(){e=e.merge(this.rbox())}),e}},construct:{set:function(){return new SVG.Set}}}),SVG.SetFX=SVG.invent({create:function(e){this.set=e}}),SVG.Set.inherit=function(){var e,t=[];for(var e in SVG.Shape.prototype)typeof SVG.Shape.prototype[e]=="function"&&typeof SVG.Set.prototype[e]!="function"&&t.push(e);t.forEach(function(e){SVG.Set.prototype[e]=function(){for(var t=0,n=this.members.length;t<n;t++)this.members[t]&&typeof this.members[t][e]=="function"&&this.members[t][e].apply(this.members[t],arguments);return e=="animate"?this.fx||(this.fx=new SVG.SetFX(this)):this}}),t=[];for(var e in SVG.FX.prototype)typeof SVG.FX.prototype[e]=="function"&&typeof SVG.SetFX.prototype[e]!="function"&&t.push(e);t.forEach(function(e){SVG.SetFX.prototype[e]=function(){for(var t=0,n=this.set.members.length;t<n;t++)this.set.members[t].fx[e].apply(this.set.members[t].fx,arguments);return this}})},SVG.extend(SVG.Element,{data:function(e,t,n){if(typeof e=="object")for(t in e)this.data(t,e[t]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+e))}catch(r){return this.attr("data-"+e)}else this.attr("data-"+e,t===null?null:n===!0||typeof t=="string"||typeof t=="number"?t:JSON.stringify(t));return this}}),SVG.extend(SVG.Element,{remember:function(e,t){if(typeof arguments[0]=="object")for(var t in e)this.remember(t,e[t]);else{if(arguments.length==1)return this.memory()[e];this.memory()[e]=t}return this},forget:function(){if(arguments.length==0)this._memory={};else for(var e=arguments.length-1;e>=0;e--)delete this.memory()[arguments[e]];return this},memory:function(){return this._memory||(this._memory={})}}),typeof define=="function"&&define.amd?define("svg",[],function(){return SVG}):typeof exports!="undefined"&&(exports.SVG=SVG)}.call(this),define("models/point",["namespace","jquery","underscore","backbone"],function(e,t,n,r){return r.Model.extend({defaults:{left:0,top:0},initialize:function(e){e.left&&this.set("left",e.left),e.top&&this.set("top",e.top),this.on("change:left",this.updateOffset,this),this.on("change:top",this.updateOffset,this),this.updateOffset()},updateOffset:function(e){n.isUndefined(e)||(this.set("offsetLeft",this.get("left")*e.get("point_width")),this.set("offsetTop",this.get("top")*e.get("point_height"))),n.isUndefined(this.collection)||(this.set("offsetLeft",this.get("left")*this.collection.Grid.get("point_width")),this.set("offsetTop",this.get("top")*this.collection.Grid.get("point_height")))},collidesWith:function(e){return e.get("left")==this.get("left")&&e.get("top")==this.get("top")?!0:!1}})}),define("collections/points",["namespace","jquery","underscore","backbone","models/point"],function(e,t,n,r,i){return r.Collection.extend({model:i,addRandomPoint:function(){this.add({left:this.randomInteger(0,this.Grid.get("grid_width")-1),top:this.randomInteger(0,this.Grid.get("grid_height")-1)})},randomPoint:function(){var e=new this.model({left:this.randomInteger(0,this.Grid.get("grid_width")-1),top:this.randomInteger(0,this.Grid.get("grid_height")-1)});return e.updateOffset(this.Grid),e},randomInteger:function(e,t){var n=e+Math.floor(Math.random()*(t+1));return n}})}),define("models/snake",["namespace","jquery","underscore","backbone","models/point","collections/points"],function(e,t,n,r,i,s){var o={UP:1,DOWN:-1,RIGHT:2,LEFT:-2};return r.Model.extend({defaults:{collisionFramesLeft:1},growthLeft:0,color:"#276448",initialize:function(){this.alive=!0,this.points=new s,this.direction=o.LEFT},addRandomPoint:function(){this.points.addRandomPoint()},collidesWith:function(e,t){t&&this.growthLeft===0?range=this.points.length-1:range=this.points.length;for(var n=0;n<range;n++)if(e.collidesWith(this.points.at(n)))return!0;return!1},actualDirection:function(e){return this.points.length===1?e:this._oppositeDirections(this.direction,e)?this.direction:e},movePoint:function(e,t){var n;switch(t){case o.LEFT:n=new i({left:e.get("left")-1,top:e.get("top")});break;case o.UP:n=new i({left:e.get("left"),top:e.get("top")-1});break;case o.RIGHT:n=new i({left:e.get("left")+1,top:e.get("top")});break;case o.DOWN:n=new i({left:e.get("left"),top:e.get("top")+1})}return n},_sign:function(e){return e>0?1:e<0?-1:e===0?0:undefined},_oppositeDirections:function(e,t){return Math.abs(e)==Math.abs(t)&&this._sign(e*t)==-1?!0:!1}})}),define("models/grid",["namespace","jquery","underscore","backbone"],function(e,t,n,r){return r.Model.extend({defaults:{grid_width:30,grid_height:30,point_height:20,point_width:20},buildGrid:function(e,t){this.$canvas=e,this.ctx=t,this.$canvas.hide();var n=Math.floor((window.innerWidth-20)/this.get("point_width")),r=Math.floor((window.innerHeight-20)/this.get("point_height"));this.set("grid_width",n),this.set("grid_height",r);var i=n*this.get("point_width"),s=r*this.get("point_height");this.ctx.size(i,s);var o=Math.floor((window.innerHeight-s)/2),u=Math.floor((window.innerWidth-i)/2);this.$canvas.css({marginTop:o+"px",marginLeft:u+"px"}).fadeIn()},insideGrid:function(e){return e.get("left")<0||e.get("top")<0||e.get("left")>=this.get("grid_width")||e.get("top")>=this.get("grid_height")?!1:!0}})}),function(e,t){function p(){if(n.READY)return;y.determineEventTypes(),d.each(n.gestures,function(e){w.register(e)}),y.onTouch(n.DOCUMENT,c,w.detect),y.onTouch(n.DOCUMENT,h,w.detect),n.READY=!0}var n=function(e,t){return new n.Instance(e,t||{})};n.VERSION="1.0.10",n.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},n.HAS_POINTEREVENTS=e.navigator.pointerEnabled||e.navigator.msPointerEnabled,n.HAS_TOUCHEVENTS="ontouchstart"in e,n.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android|silk/i,n.NO_MOUSEEVENTS=n.HAS_TOUCHEVENTS&&e.navigator.userAgent.match(n.MOBILE_REGEX),n.EVENT_TYPES={},n.UPDATE_VELOCITY_INTERVAL=16,n.DOCUMENT=e.document;var r=n.DIRECTION_DOWN="down",i=n.DIRECTION_LEFT="left",s=n.DIRECTION_UP="up",o=n.DIRECTION_RIGHT="right",u=n.POINTER_MOUSE="mouse",a=n.POINTER_TOUCH="touch",f=n.POINTER_PEN="pen",l=n.EVENT_START="start",c=n.EVENT_MOVE="move",h=n.EVENT_END="end";n.plugins=n.plugins||{},n.gestures=n.gestures||{},n.READY=!1;var d=n.utils={extend:function(n,r,i){for(var s in r){if(n[s]!==t&&i)continue;n[s]=r[s]}return n},each:function(n,r,i){var s,o;if("forEach"in n)n.forEach(r,i);else if(n.length!==t){for(s=-1;o=n[++s];)if(r.call(i,o,s,n)===!1)return}else for(s in n)if(n.hasOwnProperty(s)&&r.call(i,n[s],s,n)===!1)return},inStr:function(t,n){return t.indexOf(n)>-1},hasParent:function(t,n){while(t){if(t==n)return!0;t=t.parentNode}return!1},getCenter:function(t){var n=[],r=[],i=[],s=[],o=Math.min,u=Math.max;return t.length===1?{pageX:t[0].pageX,pageY:t[0].pageY,clientX:t[0].clientX,clientY:t[0].clientY}:(d.each(t,function(e){n.push(e.pageX),r.push(e.pageY),i.push(e.clientX),s.push(e.clientY)}),{pageX:(o.apply(Math,n)+u.apply(Math,n))/2,pageY:(o.apply(Math,r)+u.apply(Math,r))/2,clientX:(o.apply(Math,i)+u.apply(Math,i))/2,clientY:(o.apply(Math,s)+u.apply(Math,s))/2})},getVelocity:function(t,n,r){return{x:Math.abs(n/t)||0,y:Math.abs(r/t)||0}},getAngle:function(t,n){var r=n.clientX-t.clientX,i=n.clientY-t.clientY;return Math.atan2(i,r)*180/Math.PI},getDirection:function(t,n){var u=Math.abs(t.clientX-n.clientX),a=Math.abs(t.clientY-n.clientY);return u>=a?t.clientX-n.clientX>0?i:o:t.clientY-n.clientY>0?s:r},getDistance:function(t,n){var r=n.clientX-t.clientX,i=n.clientY-t.clientY;return Math.sqrt(r*r+i*i)},getScale:function(t,n){return t.length>=2&&n.length>=2?this.getDistance(n[0],n[1])/this.getDistance(t[0],t[1]):1},getRotation:function(t,n){return t.length>=2&&n.length>=2?this.getAngle(n[1],n[0])-this.getAngle(t[1],t[0]):0},isVertical:function(t){return t==s||t==r},toggleDefaultBehavior:function(t,n,r){if(!n||!t||!t.style)return;d.each(["webkit","moz","Moz","ms","o",""],function(i){d.each(n,function(e,n){i&&(n=i+n.substring(0,1).toUpperCase()+n.substring(1)),n in t.style&&(t.style[n]=!r&&e)})});var i=function(){return!1};n.userSelect=="none"&&(t.onselectstart=!r&&i),n.userDrag=="none"&&(t.ondragstart=!r&&i)}};n.Instance=function(e,t){var r=this;return p(),this.element=e,this.enabled=!0,this.options=d.extend(d.extend({},n.defaults),t||{}),this.options.stop_browser_behavior&&d.toggleDefaultBehavior(this.element,this.options.stop_browser_behavior,!1),this.eventStartHandler=y.onTouch(e,l,function(e){r.enabled&&w.startDetect(r,e)}),this.eventHandlers=[],this},n.Instance.prototype={on:function(t,n){var r=t.split(" ");return d.each(r,function(e){this.element.addEventListener(e,n,!1),this.eventHandlers.push({gesture:e,handler:n})},this),this},off:function(t,n){var r=t.split(" "),i,s;return d.each(r,function(e){this.element.removeEventListener(e,n,!1);for(i=-1;s=this.eventHandlers[++i];)s.gesture===e&&s.handler===n&&this.eventHandlers.splice(i,1)},this),this},trigger:function(t,r){r||(r={});var i=n.DOCUMENT.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=r;var s=this.element;return d.hasParent(r.target,s)&&(s=r.target),s.dispatchEvent(i),this},enable:function(t){return this.enabled=t,this},dispose:function(){var t,r;this.options.stop_browser_behavior&&d.toggleDefaultBehavior(this.element,this.options.stop_browser_behavior,!0);for(t=-1;r=this.eventHandlers[++t];)this.element.removeEventListener(r.gesture,r.handler,!1);return this.eventHandlers=[],y.unbindDom(this.element,n.EVENT_TYPES[l],this.eventStartHandler),null}};var v=null,m=!1,g=!1,y=n.event={bindDom:function(e,t,n){var r=t.split(" ");d.each(r,function(t){e.addEventListener(t,n,!1)})},unbindDom:function(e,t,n){var r=t.split(" ");d.each(r,function(t){e.removeEventListener(t,n,!1)})},onTouch:function(t,r,i){var s=this,o=function(o){var u=o.type.toLowerCase();if(d.inStr(u,"mouse")&&g)return;d.inStr(u,"touch")||d.inStr(u,"pointerdown")||d.inStr(u,"mouse")&&o.which===1?m=!0:d.inStr(u,"mouse")&&!o.which&&(m=!1);if(d.inStr(u,"touch")||d.inStr(u,"pointer"))g=!0;var a=0;if(m){n.HAS_POINTEREVENTS&&r!=h?a=b.updatePointer(r,o):d.inStr(u,"touch")?a=o.touches.length:g||(a=d.inStr(u,"up")?0:1),a>0&&r==h?r=c:a||(r=h);if(a||v===null)v=o;i.call(w,s.collectEventData(t,r,s.getTouchList(v,r),o)),n.HAS_POINTEREVENTS&&r==h&&(a=b.updatePointer(r,o))}a||(v=null,m=!1,g=!1,b.reset())};return this.bindDom(t,n.EVENT_TYPES[r],o),o},determineEventTypes:function(){var t;n.HAS_POINTEREVENTS?t=b.getEvents():n.NO_MOUSEEVENTS?t=["touchstart","touchmove","touchend touchcancel"]:t=["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],n.EVENT_TYPES[l]=t[0],n.EVENT_TYPES[c]=t[1],n.EVENT_TYPES[h]=t[2]},getTouchList:function(t){return n.HAS_POINTEREVENTS?b.getTouchList():t.touches?t.touches:(t.identifier=1,[t])},collectEventData:function(t,n,r,i){var s=a;if(d.inStr(i.type,"mouse")||b.matchType(u,i))s=u;return{center:d.getCenter(r),timeStamp:Date.now(),target:i.target,touches:r,eventType:n,pointerType:s,srcEvent:i,preventDefault:function(){var e=this.srcEvent;e.preventManipulation&&e.preventManipulation(),e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return w.stopDetect()}}}},b=n.PointerEvent={pointers:{},getTouchList:function(){var t=[];return d.each(this.pointers,function(e){t.push(e)}),t},updatePointer:function(t,n){return t==h?delete this.pointers[n.pointerId]:(n.identifier=n.pointerId,this.pointers[n.pointerId]=n),Object.keys(this.pointers).length},matchType:function(t,n){if(!n.pointerType)return!1;var r=n.pointerType,i={};return i[u]=r===u,i[a]=r===a,i[f]=r===f,i[t]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}},w=n.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(t,n){if(this.current)return;this.stopped=!1,this.current={inst:t,startEvent:d.extend({},n),lastEvent:!1,lastVelocityEvent:!1,velocity:!1,name:""},this.detect(n)},detect:function(t){if(!this.current||this.stopped)return;t=this.extendEventData(t);var n=this.current.inst,r=n.options;return d.each(this.gestures,function(i){if(!this.stopped&&r[i.name]!==!1&&n.enabled!==!1&&i.handler.call(i,t,n)===!1)return this.stopDetect(),!1},this),this.current&&(this.current.lastEvent=t),t.eventType==h&&!t.touches.length-1&&this.stopDetect(),t},stopDetect:function(){this.previous=d.extend({},this.current),this.current=null,this.stopped=!0},getVelocityData:function(t,r,i,s){var o=this.current,u=o.lastVelocityEvent,a=o.velocity;u&&t.timeStamp-u.timeStamp>n.UPDATE_VELOCITY_INTERVAL?(a=d.getVelocity(t.timeStamp-u.timeStamp,t.center.clientX-u.center.clientX,t.center.clientY-u.center.clientY),o.lastVelocityEvent=t):o.velocity||(a=d.getVelocity(r,i,s),o.lastVelocityEvent=t),o.velocity=a,t.velocityX=a.x,t.velocityY=a.y},getInterimData:function(t){var n=this.current.lastEvent,r,i;t.eventType==h?(r=n&&n.interimAngle,i=n&&n.interimDirection):(r=n&&d.getAngle(n.center,t.center),i=n&&d.getDirection(n.center,t.center)),t.interimAngle=r,t.interimDirection=i},extendEventData:function(t){var n=this.current,r=n.startEvent;if(t.touches.length!=r.touches.length||t.touches===r.touches)r.touches=[],d.each(t.touches,function(e){r.touches.push(d.extend({},e))});var i=t.timeStamp-r.timeStamp,s=t.center.clientX-r.center.clientX,o=t.center.clientY-r.center.clientY;return this.getVelocityData(t,i,s,o),this.getInterimData(t),d.extend(t,{startEvent:r,deltaTime:i,deltaX:s,deltaY:o,distance:d.getDistance(r.center,t.center),angle:d.getAngle(r.center,t.center),direction:d.getDirection(r.center,t.center),scale:d.getScale(r.touches,t.touches),rotation:d.getRotation(r.touches,t.touches)}),t},register:function(r){var i=r.defaults||{};return i[r.name]===t&&(i[r.name]=!0),d.extend(n.defaults,i,!0),r.index=r.index||1e3,this.gestures.push(r),this.gestures.sort(function(e,t){return e.index<t.index?-1:e.index>t.index?1:0}),this.gestures}};n.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,correct_for_drag_min_distance:!0,drag_max_touches:1,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1,drag_lock_min_distance:25},triggered:!1,handler:function(t,n){var u=w.current;if(u.name!=this.name&&this.triggered){n.trigger(this.name+"end",t),this.triggered=!1;return}if(n.options.drag_max_touches>0&&t.touches.length>n.options.drag_max_touches)return;switch(t.eventType){case l:this.triggered=!1;break;case c:if(t.distance<n.options.drag_min_distance&&u.name!=this.name)return;var a=u.startEvent.center;if(u.name!=this.name){u.name=this.name;if(n.options.correct_for_drag_min_distance&&t.distance>0){var f=Math.abs(n.options.drag_min_distance/t.distance);a.pageX+=t.deltaX*f,a.pageY+=t.deltaY*f,a.clientX+=t.deltaX*f,a.clientY+=t.deltaY*f,t=w.extendEventData(t)}}if(u.lastEvent.drag_locked_to_axis||n.options.drag_lock_to_axis&&n.options.drag_lock_min_distance<=t.distance)t.drag_locked_to_axis=!0;var p=u.lastEvent.direction;t.drag_locked_to_axis&&p!==t.direction&&(d.isVertical(p)?t.direction=t.deltaY<0?s:r:t.direction=t.deltaX<0?i:o),this.triggered||(n.trigger(this.name+"start",t),this.triggered=!0),n.trigger(this.name,t),n.trigger(this.name+t.direction,t);var v=d.isVertical(t.direction);(n.options.drag_block_vertical&&v||n.options.drag_block_horizontal&&!v)&&t.preventDefault();break;case h:this.triggered&&n.trigger(this.name+"end",t),this.triggered=!1}}},n.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:2},timer:null,handler:function(t,n){switch(t.eventType){case l:clearTimeout(this.timer),w.current.name=this.name,this.timer=setTimeout(function(){w.current.name=="hold"&&n.trigger("hold",t)},n.options.hold_timeout);break;case c:t.distance>n.options.hold_threshold&&clearTimeout(this.timer);break;case h:clearTimeout(this.timer)}}},n.gestures.Release={name:"release",index:Infinity,handler:function(t,n){t.eventType==h&&n.trigger(this.name,t)}},n.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_min_touches:1,swipe_max_touches:1,swipe_velocity:.7},handler:function(t,n){if(t.eventType==h){if(t.touches.length<n.options.swipe_min_touches||t.touches.length>n.options.swipe_max_touches)return;if(t.velocityX>n.options.swipe_velocity||t.velocityY>n.options.swipe_velocity)n.trigger(this.name,t),n.trigger(this.name+t.direction,t)}}},n.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300},has_moved:!1,handler:function(t,n){var r,i,s;if(t.eventType==l)this.has_moved=!1;else if(t.eventType==c&&!this.moved)this.has_moved=t.distance>n.options.tap_max_distance;else if(t.eventType==h&&t.srcEvent.type!="touchcancel"&&t.deltaTime<n.options.tap_max_touchtime&&!this.has_moved){r=w.previous,i=r&&r.lastEvent&&t.timeStamp-r.lastEvent.timeStamp,s=!1,r&&r.name=="tap"&&i&&i<n.options.doubletap_interval&&t.distance<n.options.doubletap_distance&&(n.trigger("doubletap",t),s=!0);if(!s||n.options.tap_always)w.current.name="tap",n.trigger(w.current.name,t)}}},n.gestures.Touch={name:"touch",index:-Infinity,defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(t,n){if(n.options.prevent_mouseevents&&t.pointerType==u){t.stopDetect();return}n.options.prevent_default&&t.preventDefault(),t.eventType==l&&n.trigger(this.name,t)}},n.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:!1,transform_within_instance:!1},triggered:!1,handler:function(t,n){if(w.current.name!=this.name&&this.triggered){n.trigger(this.name+"end",t),this.triggered=!1;return}if(t.touches.length<2)return;n.options.transform_always_block&&t.preventDefault();if(n.options.transform_within_instance)for(var r=-1;t.touches[++r];)if(!d.hasParent(t.touches[r].target,n.element))return;switch(t.eventType){case l:this.triggered=!1;break;case c:var i=Math.abs(1-t.scale),s=Math.abs(t.rotation);if(i<n.options.transform_min_scale&&s<n.options.transform_min_rotation)return;w.current.name=this.name,this.triggered||(n.trigger(this.name+"start",t),this.triggered=!0),n.trigger(this.name,t),s>n.options.transform_min_rotation&&n.trigger("rotate",t),i>n.options.transform_min_scale&&(n.trigger("pinch",t),n.trigger("pinch"+(t.scale<1?"in":"out"),t));break;case h:this.triggered&&n.trigger(this.name+"end",t),this.triggered=!1}}},typeof define=="function"&&define.amd?define("hammer",[],function(){return n}):typeof module=="object"&&module.exports?module.exports=n:e.Hammer=n}(window),define("models/input_handler",["namespace","jquery","underscore","backbone","hammer"],function(e,t,n,r,i){return r.Model.extend({defaults:{listening:!1,lastDirection:2},directions:{UP:1,DOWN:-1,RIGHT:2,LEFT:-2},arrowKeys:[37,38,39,40],initialize:function(){return n.bindAll(this,"handleKeyDown","disableKeyPress","pauseFn","resumeFn"),this},lastDirection:function(){return this.get("lastDirection")},startListening:function(){this.get("listening")||(window.addEventListener("keydown",this.handleKeyDown,!0),window.addEventListener("keypress",this.disableKeyPress,!0),window.addEventListener("blur",this.pauseFn,!0),window.addEventListener("focus",this.resumeFn,!0),i(window).on("swipe drag",n.bind(this.handleSwipe,this)),this.set({listening:!0}))},stopListening:function(){this.get("listening")&&(window.removeEventListener("keydown",this.handleKeyDown,!0),window.removeEventListener("keypress",this.disableKeyPress,!0),window.removeEventListener("blur",this.pauseFn,!0),window.removeEventListener("focus",this.resumeFn,!0),i(window).off("swipe drag"),this.set("listening",!1))},handleKeyDown:function(e){if(this.arrowKeys.indexOf(e.keyCode)>=0){e.preventDefault();switch(e.keyCode){case 37:this.set("lastDirection",this.directions.LEFT);break;case 38:this.set("lastDirection",this.directions.UP);break;case 39:this.set("lastDirection",this.directions.RIGHT);break;case 40:this.set("lastDirection",this.directions.DOWN)}}},disableKeyPress:function(e){this.arrowKeys.indexOf(e.keyCode)>=0&&e.preventDefault()},handleSwipe:function(e){e.stopPropagation(),e.preventDefault(),e.gesture.stopPropagation(),e.gesture.preventDefault(),alert("swipe or drag");switch(event.gesture.direction){case"left":this.set("lastDirection",this.directions.LEFT);break;case"up":this.set("lastDirection",this.directions.UP);break;case"right":this.set("lastDirection",this.directions.RIGHT);break;case"down":this.set("lastDirection",this.directions.DOWN)}},pauseFn:function(){this.trigger("game:paused")},resumeFn:function(){this.trigger("game:resumed")}})}),define("models/candy",["namespace","jquery","underscore","backbone"],function(e,t,n,r){return r.Model.extend({defaults:{score:5,calories:1,radius:1,color:"#000",decrement:1,minRadius:1},types:{REGULAR:1,MASSIVE:2,SHRINKING:3},initialize:function(e){var t=this.types.SHRINKING,n=Math.random();n<.5?t=this.types.REGULAR:n<.75&&(t=this.types.MASSIVE),this.set("type",t);switch(t){case this.types.REGULAR:this.set("score",5),this.set("age",200),this.set("calories",3),this.set("radius",.3),this.set("color","#888");break;case this.types.MASSIVE:this.set("score",15),this.set("age",100),this.set("calories",5),this.set("radius",.45),this.set("color","#888");break;case this.types.SHRINKING:this.set("score",50),this.set("age",75),this.set("calories",1),this.set("radius",.45),this.set("color","#888")}return this},age:function(){return this.set("age",this.get("age")-1),this.get("age")<1?!1:!0},blink:function(){return!(this.get("age")<40&&this.get("age")%4==0)}})}),define("text!templates/modals/snake_start.html",[],function(){return'<div class="content">\n  <div class="clearfix">\n    <div class="half_col">\n      <p>It\'s old school snake! A throw back to the classic Nokia game.</p>\n    </div>\n    <div class="half_col">\n      <p>Use the arrows to direct the snake to eat the candies that appear. Be careful not to run into the walls or yourself.</p>\n    </div>\n  </div>\n  <div class="actions">\n    <a href="#play" class="play">Play!</a>\n  </div>\n</div>'}),define("views/modals/snake_start_game",["namespace","jquery","underscore","backbone","text!templates/modals/snake_start.html"],function(e,t,n,r,i){var s=e.app;return r.View.extend({className:"modal md-effect-3",modal_name:"",raw_template:i,initialize:function(e){return this.$container=e.$container,this.template=n.template(this.raw_template),this.input_handler=e.input_handler,this.render()},events:{"click .return_home":"return_home","click .play":"start_game"},render:function(){return this.$el.append(this.template()).addClass(this.modal_name),this.$container.append(this.$el),this.$page_content=this.$el.find(".content"),this.show(),this},show:function(){this.$el.hasClass("md-show")||(this.delegateEvents(),window.addEventListener("keydown",n.bind(this.isEnter,this),!0),setTimeout(n.bind(function(){this.$el.addClass("md-show")},this),200))},hide:function(){this.$el.hasClass("md-show")&&(window.removeEventListener("keydown",n.bind(this.isEnter,this),!0),this.undelegateEvents(),this.$el.removeClass("md-show"))},isEnter:function(e){e.keyCode==13&&this.start_game(e)},start_game:function(e){e.preventDefault(),e.stopPropagation(),this.hide(),this.input_handler.trigger("game:start")},return_home:function(e){e.preventDefault(),e.stopPropagation(),this.hide(),s.router.navigate("/",{trigger:!0})}})}),define("text!templates/modals/snake_end.html",[],function(){return'<div class="content clearfix">\n  <div class="half_col">\n    <h2>Game Over!</h2>\n    <p>Your score was <span class="your_score"></span>.</p>\n    <p>Why not spread the word and <a href="#tweet">tweet</a> your score?</p>\n  </div>\n  <div class="half_col">\n    <div class="actions">\n      <a href="#restart" class="restart">Restart!</a>\n      <a href="#tweet" class="tweet">Tweet</a>\n    </div>\n  </div>\n</div>'}),define("views/modals/snake_end_game",["namespace","jquery","underscore","backbone","text!templates/modals/snake_end.html"],function(e,t,n,r,i){var s=e.app;return r.View.extend({className:"modal md-effect-3",modal_name:"snake_end",raw_template:i,initialize:function(e){return this.$container=e.$container,this.template=n.template(this.raw_template),this.input_handler=e.input_handler,this.score=e.score,this.render()},events:{"click .return_home":"return_home","click .restart":"restart_game"},render:function(){return this.$el.append(this.template()).addClass(this.modal_name),this.$container.append(this.$el),this.$page_content=this.$el.find(".content"),this.show(),this},show:function(){this.delegateEvents(),this.update_score(),setTimeout(n.bind(function(){this.$el.addClass("md-show")},this),200)},hide:function(){this.undelegateEvents(),this.$el.removeClass("md-show")},update_score:function(){this.$el.find(".your_score").text(this.score)},restart_game:function(e){e.preventDefault(),e.stopPropagation(),this.hide(),this.input_handler.trigger("game:restart")},return_home:function(e){e.preventDefault(),e.stopPropagation(),this.hide(),s.router.navigate("/",{trigger:!0})}})}),define("text!templates/snake.html",[],function(){return'<div class="surface-content">\n  <div class="modal_holder">\n    <div class="overlay"></div>\n  </div>\n  <div class="canvas"></div>\n</div>'}),define("views/pages/snake",["namespace","jquery","underscore","backbone","svg","models/snake","models/grid","models/input_handler","models/candy","views/pages/_page","views/modals/snake_start_game","views/modals/snake_end_game","text!templates/snake.html"],function(e,t,n,r,i,s,o,u,a,f,l,c,h){var p=e.app;return f.extend({page_name:"snake",page_title:"Snake",page_template:h,states:{STATE_PLAYING:1,STATE_PAUSED:2,STATE_GAME_OVER:3},score:0,frame_interval:50,_pageInit:function(e){return this.modals={},this.Grid=new o,this.InputHandler=new u,this.InputHandler.on("game:start",this.playGame,this),this.InputHandler.on("game:pause",this.pauseGame,this),this.InputHandler.on("game:restart",this.restartGame,this),this.InputHandler.on("game:paused",this.pauseGame,this),this.InputHandler.on("game:resumed",this.resumeGame,this),this.currentState=this.states.STATE_GAME_OVER,this},_renderPageContent:function(){return this.$canvas=this.$el.find(".canvas"),this.ctx=i(this.$canvas[0]),window.addEventListener("resize",n.bind(this.resizeCanvas,this),!1),this.resizeCanvas(),this.trigger("loaded"),this.showStartModel(),this},animate_in:function(){this.$el.removeClass("out"),this.$el.fadeIn("slow"),this.showStartModel()},animate_out:function(e){this.$el.addClass("out"),this.hideAllModals(),this.InputHandler.stopListening(),this.$el.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",n.bind(function(){this.$el.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),this.$el.hide(),e()},this))},resizeCanvas:function(){this.Grid.buildGrid(this.$canvas,this.ctx)},showStartModel:function(){this.hideAllModals();if(n.isUndefined(this.modals.start_model)){var e=new l({$container:this.$el.find(".modal_holder"),input_handler:this.InputHandler});this.modals.start_model=e}else this.modals.start_model.show()},showEndModel:function(){this.hideAllModals();if(n.isUndefined(this.modals.end_model)){var e=new c({$container:this.$el.find(".modal_holder"),input_handler:this.InputHandler,score:this.score});this.modals.end_model=e}else this.modals.end_model.score=this.score,this.modals.end_model.show()},hideAllModals:function(){n(this.modals).each(n.bind(function(e,t){e.hide()},this))},initGame:function(){this.score=0,this.Snake&&this.Snake.destroy(),this.Snake=new s(this.Grid),this.Snake.points.Grid=this.Grid,this.Candy=this.randomCandy(),this.Snake.addRandomPoint(),this.drawFrame(),this.InputHandler.set("lastDirection",2)},playGame:function(){this.currentState===this.states.STATE_GAME_OVER&&(this.initGame(),this.hideAllModals(),this.currentState=this.states.STATE_PLAYING,this.frameIntervalId=setInterval(n.bind(this.nextFrame,this),this.frame_interval),this.InputHandler.startListening())},resumeGame:function(){this.currentState===this.states.STATE_PAUSED&&(this.frameIntervalId=setInterval(n.bind(this.nextFrame,this),this.frame_interval),this.currentState=this.states.STATE_PLAYING)},pauseGame:function(){this.currentState===this.states.STATE_PLAYING&&(clearInterval(this.frameIntervalId),this.currentState=this.states.STATE_PAUSED)},gameOver:function(){this.currentState=this.states.STATE_GAME_OVER,clearInterval(this.frameIntervalId),this.showEndModel(),this.InputHandler.stopListening()},restartGame:function(){this.initGame(),this.currentState=this.states.STATE_PLAYING,this.frameIntervalId=setInterval(n.bind(this.nextFrame,this),this.frame_interval),this.InputHandler.startListening()},nextFrame:function(){if(!this.moveSnake(this.InputHandler.lastDirection())){if(this.Snake.get("collisionFramesLeft")>0){this.Snake.set("collisionFramesLeft",this.Snake.get("collisionFramesLeft")-1);return}this.Snake.alive=!1,this.gameOver();return}this.Snake.set("collisionFramesLeft",1),this.Candy.age()||(this.Candy=this.randomCandy()),this.Candy.get("Point").collidesWith(this.Snake.points.first())&&(this.eatCandy(),this.Candy=this.randomCandy()),this.drawFrame()},drawFrame:function(){this.clear(),this.drawScore(),this.drawSnake(),this.drawCandy()},clear:function(){this.ctx.clear()},drawSnake:function(){if(this.Snake.points.length===1){var e=this.Snake.points.first();this.ctx.rect(this.Grid.get("point_width"),this.Grid.get("point_height")).attr({fill:this.Snake.color}).x(e.get("offsetLeft")).y(e.get("offsetTop"))}else this.Snake.points.each(n.bind(function(e,t){this.ctx.rect(this.Grid.get("point_width"),this.Grid.get("point_height")).attr({fill:this.Snake.color}).x(e.get("offsetLeft")).y(e.get("offsetTop"))},this))},drawCandy:function(){this.Candy.get("type")==1&&this.Candy.blink()?this.ctx.circle(this.Grid.get("point_width")/2).attr({fill:this.Candy.get("color")}).x(this.Candy.get("Point").get("offsetLeft")+this.Grid.get("point_width")/4).y(this.Candy.get("Point").get("offsetTop")+this.Grid.get("point_width")/4):this.Candy.get("type")==2&&this.Candy.blink()?this.ctx.circle(this.Grid.get("point_width")).attr({fill:this.Candy.get("color")}).x(this.Candy.get("Point").get("offsetLeft")).y(this.Candy.get("Point").get("offsetTop")):this.Candy.blink()&&this.ctx.rect(this.Grid.get("point_width")/2,this.Grid.get("point_height")/2).attr({fill:this.Candy.get("color")}).x(this.Candy.get("Point").get("offsetLeft")+this.Grid.get("point_width")/4).y(this.Candy.get("Point").get("offsetTop")+this.Grid.get("point_width")/4)},drawScore:function(){this.ctx.text(""+this.score).font({family:"Roboto",size:"80px",fill:"#404040",anchor:"middle"}).x("50%","middle").y("25%","middle")},moveSnake:function(e){var t=this.Snake.points.first(),n=this.Snake.actualDirection(e),r=this.Snake.movePoint(t,n);return this.Grid.insideGrid(r)?this.Snake.collidesWith(r,!0)?!1:(this.Snake.direction=n,this.Snake.points.unshift({left:r.get("left"),top:r.get("top")}),this.Snake.growthLeft>=1?this.Snake.growthLeft--:this.Snake.points.pop(),!0):!1},eatCandy:function(){this.score+=this.Candy.get("score"),this.Snake.growthLeft+=this.Candy.get("calories")},randomCandy:function(){do var e=this.Snake.points.randomPoint(this.Grid);while(this.Snake.collidesWith(e));return new a({Point:e})}})}),define("router",["jquery","underscore","backbone","backbone_router_callbacks","scroll_to","views/pages/home","views/pages/snake"],function(e,t,n,r,i,s,o){var u=e("#container"),a=e(".loading"),f=n.Router.extend({routes:{snake:"snake","*default":"home"},views:{},current_page:"",home:function(){this._viewExists("home")?this.views.home.show():this.views.home=(new s({$surface_container:u})).render().show(),this.current_page="home"},snake:function(){this._viewExists("snake")?this.views.snake.show():this.views.snake=(new o({$surface_container:u})).render().show(),this.current_page="snake"},before:function(){this.views[this.current_page]?this.views[this.current_page].hide(t.bind(function(){this.trigger("route:before")},this)):this.trigger("route:before")},after:function(){a.fadeOut()},_viewExists:function(e){return!t.isUndefined(this.views[e])}});return{router:f}}),require.config({shim:{underscore:{exports:"_"},backbone_router_callbacks:{deps:["backbone"]},backbone:{deps:["underscore","jquery"],exports:"Backbone"},scroll_to:{deps:["jquery"]},waypoints:{deps:["jquery"]}},paths:{jquery:"../components/jquery/dist/jquery",backbone:"../components/backbone/backbone",underscore:"../components/underscore/underscore-min",text:"../components/requirejs-text/text",svg:"../components/svg.js/dist/svg",hammer:"../components/hammerjs/hammer",scroll_to:"../components/jquery.scrollTo/jquery.scrollTo",imager:"../components/imager.js/dist/Imager.min",backbone_router_callbacks:"libs/backbone-router-callbacks"}}),require(["namespace","backbone","router"],function(e,t,n){var r=e.app;window.app=r,r.router=new n.router,t.history.start({pushState:!0}),$(document).on("click","a[href]:not([data-bypass])",function(e){var n={prop:$(this).prop("href"),attr:$(this).attr("href")},r=location.protocol+"//"+location.host+"/";n.prop.slice(0,r.length)===r&&(e.preventDefault(),t.history.navigate(n.attr,!0))})}),define("main",function(){});